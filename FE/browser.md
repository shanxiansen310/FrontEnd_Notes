### 1.HTML文档的加载与页面的首次渲染顺序



1、浏览器首先下载该地址所对应的 html 页面。

2、浏览器解析 html 页面的 DOM 结构。

3、开启下载线程对文档中的所有资源按优先级排序下载。

4、主线程继续解析文档，到达 head 节点 ，head 里的外部资源是外链样式表和外链 js。

-  发现有外链 css 或者外链 js，如果是外链 js     ，则停止解析后续内容，等待该资源下载，下载完后立刻执行。如果是外链 css，继续解析后续内容。

5、解析到 body

body 里的情况比较多，body 里可能只有 DOM 元素，可能既有 DOM、也有 css、js 等资源，js 资源又有可能异步加载图片、css、js 等。DOM 结构不同，浏览器的解析机制也不同，所以需要分开来讨论。

- 只有 DOM 元素

- - 这种情况比较简单了，DOM 树构建完，页面首次渲染。

- 有 DOM 元素、外链 js

- - 当解析到外链 js 的时候，该 js 尚未下载到本地，则 js 之前的 DOM 会被渲染到页面上，同时 js      会阻止后面 DOM 的构建，即后面的 DOM 节点并不会添加到文档的 DOM 树中。所以，js 执行完之前，我们在页面上看不到该 js 后面的      DOM 元素。

- 有 DOM 元素、外链 css

- - 外链 css 不会影响 css 后面的 DOM 构建，但是会阻碍渲染。简单点说，外链 css      加载完之前，页面还是白屏。

- 有 DOM 元素、外链 js、外链 css

- - 外链 js 和外链 css 的顺序会影响页面渲染，这点尤为重要。当 body 中 js 之前的外链 css      未加载完之前，页面是不会被渲染的。
  - 当body中 js 之前的 外链 css 加载完之后，js 之前的 DOM 树和 css      合并渲染树，页面渲染出该 js 之前的 DOM 结构。

 6、文档解析完毕，页面重新渲染。当页面引用的所有 js 同步代码执行完毕，触发 DOMContentLoaded 事件。

 7、html 文档中的图片资源，js 代码中有异步加载的 css、js 、图片资源都加载完毕之后，load 事件触发。

 

more: [原来 CSS 与 JS 是这样阻塞 DOM 解析和渲染的 - 掘金 (juejin.cn)](https://juejin.cn/post/6844903497599549453)

🚀css不阻止dom的解析，js阻止dom的解析，css js都会阻止dom的渲染
原因：
js有可能影响dom的解析，比如在js里面新增dom等这些操作
css不能影响dom的解析
而 dom的渲染 是需要等js，css都解析完成后才进行的（浏览器就是这么机智），所以css js都阻止dom的渲染