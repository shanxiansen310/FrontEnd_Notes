# Sword-for-offer



### åŸºç¡€

#### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/)

æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚


åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š
[2, 3, 1, 0, 2, 5, 3]
è¾“å‡ºï¼š2 æˆ– 3 


é™åˆ¶ï¼š

2 <= n <= 100000

```js
var findRepeatNumber = function(nums) {
    //way1: å“ˆå¸Œè¡¨  æ—¶é—´å¤æ‚åº¦:O(n)  ç©ºé—´å¤æ‚åº¦:O(n)
    // let hashMap=[];
    // for (const num of nums) {
    //     if (!hashMap[num]){
    //         hashMap[num]=true;
    //     }else{
    //         return num;
    //     }
    // }

    //way2 æ—¶é—´å¤æ‚åº¦:O(n)  ç©ºé—´å¤æ‚åº¦:O(1)
    let key;
    for(let i=0;i<nums.length;i++){
        key=nums[i];

        while(key!==i){
            if(nums[key]===key){
                return key;
            }
            [nums[i], nums[key]] =[nums[key],nums[i]];
            key=nums[key];
        }
    }

};
```

 <img src="base.assets/image-20210205001035129.png" alt="image-20210205001035129" style="zoom: 67%;" />

â˜…ä¸»è¦æ˜¯ç†è§£ä¸€ä¸‹way2çš„æ€æƒ³, å……åˆ†åˆ©ç”¨é¢˜ç›®ä¸­ç»™å‡ºçš„æ€§è´¨



#### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/)

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ"%20"ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "We are happy."
è¾“å‡ºï¼š"We%20are%20happy."


é™åˆ¶ï¼š

0 <= s çš„é•¿åº¦ <= 10000



**way1:éå†æ·»åŠ ** 

æ—¶é—´å¤æ‚åº¦: O(n)  ç©ºé—´å¤æ‚åº¦: O(n)

```js
/**
 * @param {string} s
 * @return {string}
 */
var replaceSpace = function(s) {
    let res="";
    for(let i=0;i<s.length;i++){
        if(s[i]===" "){
            res+="%20";
            continue;
        }
        else{
            res+=s[i];
        }
    }
    return res;
};
```



 <img src="base.assets/image-20210206161011460.png" alt="image-20210206161011460" style="zoom:67%;" />

**way2: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼**

```js
var replaceSpace = function(s) {
    return s.replace(/ /g,"%20");
    //return s.replace(/\s/g,"%20");
};
//è¦ç‰¹åˆ«æ³¨æ„è¿™ä¸ªreplaceçš„ç”¨æ³•ï¼Œå¦‚æœä¸å†™æ­£åˆ™ï¼Œ
    return s.replace(' ','%20');//åªä¼šæ›¿æ¢éƒ¨åˆ†
    return s.replace(/^\s/g,'%20'); //ä¸èƒ½é€šè¿‡
    return s.replace(/^\s+/g,'%20'); //"   " å¤šä¸ªç©ºæ ¼ä¸èƒ½é€šè¿‡

//way3, åˆ©ç”¨splitå’Œjoinå‡½æ•°
var replaceSpace = function(s) {
    return s.split(" ").join("%20");
};
```



#### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/)

è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šhead = [1,3,2]
è¾“å‡ºï¼š[2,3,1]


é™åˆ¶ï¼š

0 <= é“¾è¡¨é•¿åº¦ <= 10000

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @return {number[]}
 */

//way1:é€’å½’  æ—¶é—´å¤æ‚åº¦: O(n)  ç©ºé—´å¤æ‚åº¦:O(n)
var reversePrint = function(head) {
    if (head==null){
        return []
    }
    let arr=reversePrint(head.next);
    arr.push(head.val);
    return arr;
};

//way2: ä½¿ç”¨unshiftæ¯æ¬¡åœ¨å¤´éƒ¨æ’å…¥æ•°æ®
var reversePrint = function(head) {
    let p=head;
    let res=[];
    
    while(p){
        res.unshift(p.val);
        p=p.next;
    }
    return res;
};
```

ç‰›å®¢é‡åˆ·:

```js
/*function ListNode(x){
    this.val = x;
    this.next = null;
}*/
function printListFromTailToHead(head)
{
    if(!head) return [];
    return printListFromTailToHead(head.next).concat([head.val]);
}
module.exports = {
    printListFromTailToHead : printListFromTailToHead
};
```

â˜…ä½¿ç”¨concatä½¿ä»£ç æ›´ç®€æ´





#### [å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘](https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/)

* è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚

ä¾‹å¦‚ï¼Œç»™å‡º

å‰åºéå† preorder = [3,9,20,15,7]
ä¸­åºéå† inorder    = [9,3,15,20,7]
è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š

â€‹    3
   / \
  9  20
â€‹    /  \
   15   7


é™åˆ¶ï¼š

0 <= èŠ‚ç‚¹ä¸ªæ•° <= 5000

é€’å½’

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š*O*(*n*)ã€‚å¯¹äºæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰åˆ›å»ºè¿‡ç¨‹ä»¥åŠæ ¹æ®å·¦å³å­æ ‘é‡å»ºè¿‡ç¨‹ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š*O*(*n*)ã€‚å­˜å‚¨æ•´æ£µæ ‘çš„å¼€é”€ã€‚

 

æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨3ä¸ªæŒ‡é’ˆå³å¯ã€‚

**ğŸŒŸä¸€ä¸ªæ˜¯preStartï¼Œä»–è¡¨ç¤ºçš„æ˜¯å‰åºéå†å¼€å§‹çš„ä½ç½® (å› ä¸ºæˆ‘ä»¬éœ€è¦é€šè¿‡å‰åºéå†æ¥æ‰¾åˆ°æ ¹èŠ‚ç‚¹)**

**ğŸŒŸä¸€ä¸ªæ˜¯inStartï¼Œä»–è¡¨ç¤ºçš„æ˜¯ä¸­åºéå†å¼€å§‹çš„ä½ç½®**

**ğŸŒŸä¸€ä¸ªæ˜¯inEndï¼Œä»–è¡¨ç¤ºçš„æ˜¯ä¸­åºéå†ç»“æŸçš„ä½ç½®**

æˆ‘ä»¬ä¸»è¦æ˜¯å¯¹ä¸­åºéå†çš„æ•°ç»„è¿›è¡Œæ‹†è§£ï¼Œä¸‹é¢å°±ä»¥ä¸‹é¢çš„è¿™æ£µæ ‘æ¥ç”»ä¸ªå›¾åˆ†æä¸‹

<img src="base.assets/image-20210206192119068.png" alt="image-20210206192119068" style="zoom:67%;" />

ä»–çš„å‰åºéå†æ˜¯ï¼š[3,9,8,5,2,20,15,7]

ä»–çš„ä¸­åºéå†æ˜¯ï¼š[5,8,9,2,3,15,20,7]

<img src="base.assets/image-20210206192158148.png" alt="image-20210206192158148" style="zoom:80%;" />

â€‹        <span style='color:red; font-weight:bold;'>Â â–¼å¯ä»¥å‘ç°è¿™é‡Œä¼šé€’å½’åˆ°æŠŠå¶èŠ‚ç‚¹çš„å·¦å³å­æ ‘éƒ½èµ‹å€¼ä¸ºnullÂ </span>

â–¼è¿™é‡Œåªè¦æ‰¾åˆ°äº†å‰åºéå†çš„ç»“ç‚¹åœ¨ä¸­åºéå†çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠä¸­åºéå†æ•°ç»„åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†äº†ã€‚
å¦‚æœ**indexæ˜¯å‰åºéå†çš„æŸä¸ªå€¼åœ¨ä¸­åºéå†æ•°ç»„ä¸­çš„ç´¢å¼•**ï¼Œä»¥indexä¸ºæ ¹èŠ‚ç‚¹åˆ’åˆ†çš„è¯ï¼Œé‚£ä¹ˆä¸­åºéå†ä¸­

 

[0ï¼Œindex-1]å°±æ˜¯æ ¹èŠ‚ç‚¹å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œ
[index+1ï¼Œinorder.length-1]å°±æ˜¯æ ¹èŠ‚ç‚¹å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚



ä¸­åºéå†å¥½åˆ’åˆ†ï¼Œé‚£ä¹ˆå‰åºéå†å‘¢ï¼Œå¦‚æœæ˜¯å·¦å­æ ‘ï¼š
preStart=preStart+1ï¼›                                   //è¿™ä»£è¡¨å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨å…ˆåºéå†ä¸­çš„ä½ç½®

 

å¦‚æœæ˜¯å³å­æ ‘å°±ç¨å¾®éº»çƒ¦ç‚¹ï¼Œ
preStart=preStart+(index-instart+1)ï¼›        //è¿™ä»£è¡¨å³å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨å…ˆåºéå†ä¸­çš„ä½ç½®

 

â˜…preStartæ˜¯å½“å‰èŠ‚ç‚¹æ¯”å¦‚må…ˆåºéå†å¼€å§‹çš„ä½ç½®ï¼Œindex-instart+1å°±æ˜¯å½“å‰èŠ‚ç‚¹må·¦å­æ ‘çš„æ•°é‡åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„æ•°é‡ï¼Œæ‰€ä»¥preStart+(index-instart+1)å°±æ˜¯å½“å‰èŠ‚ç‚¹må³å­æ ‘å‰åºéå†å¼€å§‹çš„ä½ç½®



```js
/**
 * @param {number[]} preorder
 * @param {number[]} inorder
 * @return {TreeNode}
 */

function TreeNode(val){
    this.val=val;
    this.left=this.right=null;
    // console.log(this);  æ³¨æ„ä¸€ä¸‹this!!!
}

let buildTree = function(preOrder, inOrder){
    //æ³¨æ„ä¸€ä¸‹dfséœ€è¦çš„å‚æ•°!!!
    //è¿™ä¸ªdfsä¼šæ¯æ¬¡ç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹,å¹¶ç»§ç»­å‘ä¸‹å»¶ä¼¸
    let dfs=(preStart,inStart,inEnd)=>{
        if (preStart>preOrder.length-1||inStart>inEnd){
            /*æ³¨æ„ä¸æ»¡è¶³æ¡ä»¶çš„è¯éœ€è¦è¿”å›nullå“¦!!!*/
            return null;
        }
        //ä¸ºå½“å‰ç»“ç‚¹èµ‹å€¼,æ³¨æ„è¦ç”¨new,ä½¿å…¶å˜ä¸ºä¸€ä¸ªå¯ä»¥æ“ä½œçš„å®ä¾‹!!!
        let root=new TreeNode(preOrder[preStart]);
        /*æ‰¾åˆ°å½“å‰èŠ‚ç‚¹rootåœ¨ä¸­åºéå†ä¸­çš„ä½ç½®ï¼Œç„¶åå†æŠŠæ•°ç»„åˆ†ä¸¤åŠ*/
        let index=inOrder.indexOf(root.val);
        root.left=dfs(preStart+1,inStart,index-1);
        root.right=dfs(preStart+index-inStart+1,index+1,inEnd);
        return root;
    }
    return dfs(0,0,inOrder.length-1);
}
```

â–¼ç‰›å®¢é‡åˆ·

```js
/* function TreeNode(x) {
    this.val = x;
    this.left = null;
    this.right = null;
} */

function TreeNode(val){
    this.val=val;
    this.left=this.right=null;
    // console.log(this);  æ³¨æ„ä¸€ä¸‹this!!!
}
function reConstructBinaryTree(pre, vin){
    
    const rebuild=(preIndex,inStart,inEnd)=>{
        if(inStart>inEnd) return null;
            
        let index=vin.indexOf(pre[preIndex]);
        let node=new TreeNode(pre[preIndex]);
        node.left=rebuild(preIndex+1,inStart,index-1);
        node.right=rebuild(preIndex+index-inStart+1,index+1,inEnd);
        return node;
    }
    
    return rebuild(0,0,vin.length-1);
}
module.exports = {
    reConstructBinaryTree : reConstructBinaryTree
};
```

ğŸŒŸäºŒåˆ·å¿ƒå¾—:

1. å»ºè®®ç”»å›¾ç†è§£!!!
2. ä¹‹å‰çš„(preStart>preOrder.length-1 æ¡ä»¶å¯ä»¥çœç•¥!! inStartå’ŒinEndéƒ½æ˜¯ä¸¥æ ¼å¯¹åº”é¡ºåºçš„, æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒpreè¶…è¿‡é™åˆ¶





#### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° appendTail å’Œ deleteHead ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼ŒdeleteHead æ“ä½œè¿”å› -1 )

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š
["CQueue","appendTail","deleteHead","deleteHead"]
[[],[3],[],[]]
è¾“å‡ºï¼š[null,null,3,-1]
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š
["CQueue","deleteHead","appendTail","appendTail","deleteHead","deleteHead"]
[[],[],[5],[2],[],[]]
è¾“å‡ºï¼š[null,-1,null,null,5,2]
æç¤ºï¼š

1 <= values <= 10000
æœ€å¤šä¼šå¯¹ appendTailã€deleteHead è¿›è¡Œ 10000 æ¬¡è°ƒç”¨



```js
var CQueue = function () {
    this.statck1 = [];
    this.statck2 = []
};

/** 
 * @param {number} value
 * @return {void}
 */
CQueue.prototype.appendTail = function (value) {
    this.statck1.push(value)
    return null
};

/**
 * @return {number}
 */
CQueue.prototype.deleteHead = function () {
	//å¦‚æœæœ‰,åˆ™ç›´æ¥ä»å½“å‰çš„stack2ä¸­å–
    if(this.statck2.length){
        return this.statck2.pop();
    }
    while (val = this.statck1.pop()) {
        this.statck2.push(val)
    }

    return this.statck2.pop()||-1;
};

/**
 * Your CQueue object will be instantiated and called as such:
 * var obj = new CQueue()
 * obj.appendTail(value)
 * var param_2 = obj.deleteHead()
 */
```

#### [å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/)

å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ n ï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ n é¡¹ï¼ˆå³ F(N)ï¼‰ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š

F(0) = 0,   F(1) = 1
F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N > 1.
æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š1
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šn = 5
è¾“å‡ºï¼š5


æç¤ºï¼š

0 <= n <= 100

```js
/**
 * @param {number} n
 * @return {number}
 */
var fib = function(n) { 
    //way1.éå¸¸æ™®é€šï¼Œæ²¡æœ‰ä¼˜åŒ–çš„é€’å½’é€šé¡¹å…¬å¼è§£æ³•

    //ä¼˜ç‚¹ï¼šéå¸¸å®¹æ˜“æƒ³åˆ°ï¼Œfibåœ¨ä¸åŠ é¢å¤–å‚æ•°ä¸”ä¸å¼•å…¥å¤–éƒ¨å˜é‡çš„æƒ…å†µä¸‹åªèƒ½è¿™ä¹ˆè°ƒç”¨è‡ªèº«
    //ç¼ºç‚¹ï¼šfibä¼šé‡å¤è®¡ç®—ä¹‹å‰çš„é¡¹ï¼Œè®¡ç®—ç»“æœæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œæå…¶æµªè´¹æ—¶é—´å’Œç©ºé—´ï¼Œåœ¨æœ¬é¢˜å¿…å®šè¶…æ—¶ï¼Œå®Œå…¨æ— æ³•é€šè¿‡

    /*
        if(n<=1)return n;
        return ( fib(n-1) + fib(n-2) ) % 1000000007;
    */

    //way2.æ™®é€šçš„å°¾è°ƒç”¨è‡ªèº«ï¼ˆå°¾é€’å½’ï¼‰+ES6å°¾è°ƒç”¨ä¼˜åŒ–è§£æ³•

    //ä¼˜ç‚¹ï¼šä¸åˆ›å»ºæ–°çš„æ ˆå¸§ï¼Œç°æœ‰æ ˆå¸§è¢«é‡å¤åˆ©ç”¨ï¼Œä¸ä¼šçˆ†æ ˆï¼Œæ€§èƒ½æ¯”æœªç»ä¼˜åŒ–çš„é€’å½’æ˜æ˜¾æé«˜
    //ç¼ºç‚¹ï¼šéœ€è¦åå¤æ¸…é™¤æ ˆå¸§çš„æ•°æ®ï¼Œæ€§èƒ½ä¸å¦‚ä¸‹é¢çš„å¾ªç¯è§£æ³•

    /*
    //è¿™é‡Œç”±äºnä»0å¼€å§‹, æ‰€ä»¥fibåºåˆ—ä¸º: 0,1,1,2,3,5...
    //åœ¨n=3ä¹‹å‰éƒ½æ˜¯å·²ç¡®å®šçš„,æ‰€ä»¥å½“n=3æ—¶æ‰ä¼šæœ‰ç¬¬ä¸€æ¬¡é€’å½’ã€‚æ¯ä¸€æ¬¡é€’å½’éƒ½æ˜¯ä¸€æ¬¡åŠ æ³•ï¼Œä»1+1ä¸ºç¬¬ä¸€æ¬¡å¼€å§‹æ€»å…±éœ€è¦n-2æ¬¡åŠ æ³•ï¼Œæ‰€ä»¥n=2æ—¶å°±åˆšå¥½å¯ä»¥è¿”å›æœ€åçš„ç»“æœ
        function f(n,a=1,b=1){
            if(n<=1) return n;
            if(n==2) return b ;
            return f(n-1,b,(a+b) % 1000000007);    //æœ€åä¸€æ­¥ï¼Œè°ƒç”¨è‡ªèº«ï¼Œå°†æ•°æ®å¤„ç†çš„æ­¥éª¤å˜æˆå‚æ•°çš„å˜åŒ–
        }
        return f(n);
    */
    
    
    //way3 ä¸é”™çš„é€’å½’+åŠ¨æ€è§„åˆ’è§£æ³•

    //ä¼˜ç‚¹ï¼šç©ºé—´æ¢æ—¶é—´ï¼Œæ‰€æœ‰è®¡ç®—ç»“æœéƒ½è¢«ç¼“å­˜ï¼Œä¸‹ä¸€æ¬¡è®¡ç®—ç›´æ¥è¯»å–ç¼“å­˜ç»“æœï¼Œæ€§èƒ½æ¯”è¾ƒå¥½
    //ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„å‚¨å­˜ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦é«˜

    //æ³¨ï¼šåŠ¨æ€è§„åˆ’çš„æ€æƒ³æ˜¯ï¼Œé€šè¿‡ä¿å­˜ä¸­é—´è®¡ç®—ç»“æœï¼Œå‡å°‘ç»“æœè®¡ç®—æ—¶é—´

    /*
        let dp = [0,1]
        function f(n){
            if(dp[n]!=undefined){
                return dp[n];
            }
            //åˆ©ç”¨æ•°ç»„å­˜å‚¨ä¸­é—´å€¼
            dp[n] = f(n-1) + f(n-2);
            return dp[n] % 1000000007;
        }
        return f(n);
    */
    
    //way4.å¾ˆå¥½çš„å¾ªç¯è®¡ç®—è§£æ³•

    //ä¼˜ç‚¹ï¼šæ¯ä¸€æ¬¡è®¡ç®—ç»“æœéƒ½èƒ½å¾—åˆ°åˆ©ç”¨ï¼Œæ˜“äºç†è§£ï¼Œåªä¿å­˜å‰ä¸¤ä¸ªè®¡ç®—ç»“æœï¼Œæ€§èƒ½æœ€ä¼˜
    //ç¼ºç‚¹ï¼šæ²¡æœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼Œåœ¨æœ¬é¢˜ä¸­è®°å¾—çœ‹æ¸…é¢˜ç›®ä¸­å–æ¨¡çš„è¦æ±‚
    
    /*
    if(n<=1){
        return n;
    }
    let a=0,b=1;
    let c=0;
    //æŠŠåºåˆ—0,1å½“ä½œå›ºå®š, ä»n=2å¼€å§‹è¿›è¡Œ
    while(n-->=2){
        c=(a+b)%(1e9+7);
        a=b;
        b=c;
    }
    return b;
    */
    
    //whileå¾ªç¯ä¹Ÿå¯ä»¥ç®€åŒ–ä¸€ä¸‹,ä½†è¿™ç§å†™æ³•åœ¨leetcodeä¸Šæ€§èƒ½æ¯”ä¸Šé¢çš„å·®
    /*
    if(n<=1){
        return n;
    }
    let a=0,b=1;
    while(n-->=2){
        [a,b]=[b,(a+b)%(1e9+7)];
    }
    return b;
    */
    
    
    

```

ğŸŒŸå…³äº => [å°¾é€’å½’](D:\Study\Algorithm\Notes-Typora\Base\é€’å½’ç†è§£.md)



#### [å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)

<span id="frog">ä¸€åªé’è›™</span>ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª n çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š2
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šn = 7
è¾“å‡ºï¼š21
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šn = 0
è¾“å‡ºï¼š1
æç¤ºï¼š

0 <= n <= 100

ğŸŒŸå®é™…ä¸Šå°±æ˜¯æ¢äº†å£³çš„æ–æ³¢é‚£å¥‘, ä½†æ˜¯è¦æ³¨æ„è¿™é‡Œnæ˜¯ä»0å¼€å§‹(åŠ¨æ€è§„åˆ’)

**å¤æ‚åº¦åˆ†æï¼š**

* æ—¶é—´å¤æ‚åº¦ **O(N)** ï¼š è®¡ç®— f(n)éœ€å¾ªç¯ n æ¬¡ï¼Œæ¯è½®å¾ªç¯å†…è®¡ç®—æ“ä½œä½¿ç”¨ O(1)O(1) ã€‚
* ç©ºé—´å¤æ‚åº¦ **O(1)** ï¼š å‡ ä¸ªæ ‡å¿—å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´
* 


```javascript
/**
 * @param {number} n
 * @return {number}
 */
var numWays = function(n) {  
   letÂ a=b=1,c=0;
Â Â Â Â //æœ‰nä¸ªæ•°è¦åŠ næ¬¡,Â Â n>=1Â ,ç¬¬ä¸€æ¬¡æ˜¯1+0,ç›¸å½“äºæ²¡åŠ ,ä½†è¿˜æ˜¯æœ‰næ¬¡åŠ æ³•
Â Â Â Â //1.Â Â a=1Â b=0Â c=1+0=1
Â Â Â Â //2.Â Â a=0Â b=1Â c=0+1=1
          //å¯ä»¥çœ‹å‡ºæ¥å‰ä¸¤æ¬¡çš„ç‰¹æ®Šæƒ…å†µè¿™é‡Œéƒ½è€ƒè™‘åˆ°äº†!!!
Â Â Â Â while(n-->=0){
Â Â Â Â Â Â Â Â aÂ =Â b;
Â Â Â Â Â Â Â Â bÂ =Â c;
Â Â Â Â Â Â Â Â cÂ =Â (aÂ +Â b)Â %Â 1000000007;
Â Â Â Â }
Â Â Â Â returnÂ c;
    //ä¹Ÿå¯ä»¥å†™æˆè§„èŒƒçš„åŠ¨æ€è§„åˆ’æ¨¡å¼
    /**
    let dp = [];
    dp[0] = 1;
    dp[1] = 1;
    for (let i = 2; i <= n; i++) {
    	let c = dp[i - 1] + dp[i - 2];
    	dp[i] = c > 1000000007 ? c % 1000000007 : c;
    }
  
  	return dp[n];
    **/
};

//å°¾é€’å½’
var numWays = function(n) {  
    let recur=(n,a=1,b=1)=>{
        //é‡‡ç”¨çš„æ˜¯å°¾é€’å½’,å½“n<2è¯´æ˜å·²ç»é€’å½’ç»“æŸ,éœ€è¦è¿”å›äº†,è¿™é‡Œä»¥bæ¥è¡¨ç¤ºç»“æœ
        //è¿™ç§å†™æ³•ç‰¹æ®Šæƒ…å†µ(n=0||1)ä¹Ÿèƒ½æ°å¥½åŒ…æ‹¬,æ‰€ä»¥ä¸å¿…å•ç‹¬æ‹å‡ºæ¥
        if(n<2){
            return b;
        }
        return recur(n-1,b,(a+b)%(1e9+7) );    
    }

    return recur(n);
};
```



â˜…æ€»ç»“:

* æœ€ç®€å•çš„é€’å½’è‚¯å®šä¸è¡Œçš„,ä¼šå¤§é‡è®¡ç®—é‡å¤è¶…æ—¶
* å°¾é€’å½’çš„æ–¹å¼è¿˜è¡Œ, æ—¶ç©ºä¸Šéƒ½å¾ˆæ£’, å…¶æ€æƒ³ä¸»è¦æ˜¯é€šè¿‡å‚æ•°çš„å˜åŒ–æ¥æ›¿ä»£äº†ç®€å•é€’å½’çš„é‡å¤è®¡ç®—
* åŠ¨æ€è§„åˆ’å½“ç„¶æœ€å¥½äº†!!! ä¸è¿‡ä¼šå¤šå»ºä¸€ä¸ªæ•°ç»„å ç”¨ç©ºé—´



è¿™é‡Œå»¶ä¼¸ä¸€ä¸‹**å˜æ€è·³å°é˜¶**

â–¼ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚

è¿™å®é™…ä¸Šæ˜¯ä¸€ç§æ•°å­¦å…¬å¼

f[n] = f[n-1] + f[n-2] + ... + f[0]

é‚£ä¹ˆf[n-1] ä¸ºå¤šå°‘å‘¢ï¼Ÿ

f[n-1] = f[n-2] + f[n-3] + ... + f[0]

æ‰€ä»¥ä¸€åˆå¹¶ï¼Œf[n] = 2*f[n-1]ï¼Œåˆå§‹æ¡ä»¶f[0] = f[1] = 1

```js
function jumpFloorII(number){
    if(number===0||number===1)
        return 1;
    let res=1;
    for(let i=2;i<=number;i++){
        res*=2;
    }
    return res;
}
```



**â–¼å‰‘æŒ‡é‡åˆ·:**

å’Œä¸Šé¢ç±»ä¼¼çš„é¢˜ç›®åšçš„æ—¶å€™æ²¡æƒ³åˆ°é‚£ç§æ–¹æ³•ã€‚ã€‚

æˆ‘ä»¬å¯ä»¥ç”¨2* 1çš„å°çŸ©å½¢æ¨ªç€æˆ–è€…ç«–ç€å»è¦†ç›–æ›´å¤§çš„çŸ©å½¢ã€‚è¯·é—®ç”¨nä¸ª2 * 1çš„å°çŸ©å½¢æ— é‡å åœ°è¦†ç›–ä¸€ä¸ª2* n çš„å¤§çŸ©å½¢ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿ

æ¯”å¦‚n=3æ—¶ï¼Œ2*3çš„çŸ©å½¢å—æœ‰3ç§è¦†ç›–æ–¹æ³•ï¼š

 <img src="base.assets/59_1603852524038_7FBC41C976CACE07CB222C3B890A0995" alt="img" style="zoom:60%;" />



è¾“å…¥

```
4
```

è¿”å›å€¼

```
5
```



é‚£å°±å¯¹n ä»å°åˆ°å¤§ï¼Œä¸€æ­¥æ­¥åˆ†æï¼š

 ![img](base.assets/284295_1585751540081_03C53A5AC62A88D9EB8990F3AA07A674)

n=1æ—¶ï¼Œæ˜¾ç„¶åªæœ‰ä¸€ç§æ–¹æ³•

 ![img](base.assets/284295_1585751486593_A6173D096F46D2945BD37A57FD0B13B7)

n=2æ—¶ï¼Œå¦‚å›¾æœ‰2ç§æ–¹æ³•

 ![img](base.assets/284295_1585751689995_1A7ED101D0E864141D8994EE961E829A)

n=3ï¼Œå¦‚å›¾æœ‰3ä¸­æ–¹æ³•



æˆ‘ä»¬å¯ä»¥æŠŠæ¯æ¬¡çš„æ–°çŸ©å½¢è¦†ç›–çœ‹ä½œæ˜¯$n-2$æ—¶å€™åŠ ä¸Šä¸¤ä¸ªæ¨ªç€çš„å°çŸ©å½¢å’Œ$n-1$çš„æ—¶å€™åŠ ä¸Šä¸€ä¸ªç«–ç€çš„å°çŸ©å½¢, å› æ­¤æœ¬è´¨ä¸Šè¿˜æ˜¯fib (å¯èƒ½ä¼šå†æƒ³n-2åˆ°nä¸æ­¢é‚£ä¸€ç§, å¯æ˜¯å¤šå‡ºæ¥çš„æˆ‘ä»¬ä¼šåœ¨n-1è€ƒè™‘åˆ°!!)

```js
function rectCover(number)
{
    // write code here
    if(number<=2){
        return number;
    }
    let a=1,b=2;
    while(number-->2){
        [a,b]=[b,a+b];
    }
    return b;
}
module.exports = {
    rectCover : rectCover
};
```

















#### å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—

æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªé€’å¢æ’åº
çš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚
ä¾‹å¦‚ï¼Œæ•°ç»„ [3,4,5,1,2] ä¸º [1,2,3,4,5] çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š[3,4,5,1,2]
è¾“å‡ºï¼š1
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š[2,2,2,0,1]
è¾“å‡ºï¼š0

```javascript
/*æœ€å¥½åˆ«ç”¨!!! ç›´æ¥éå†, å¤æ‚åº¦ä¸ºO(n)*/
var minArray = function(numbers) {
    for(let i=0;i<numbers.length-1;i++){
        if(numbers[i]>numbers[i+1]){
            return numbers[i+1]
        }
    }
    return numbers[0];
};
```



**äºŒåˆ†æŸ¥æ‰¾**

å¤æ‚åº¦åˆ†æï¼š
æ—¶é—´å¤æ‚åº¦:O(logn) åœ¨ç‰¹ä¾‹æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ [1,1,1,1]ï¼‰ï¼Œä¼šé€€åŒ–åˆ° O(N)ã€‚

ç©ºé—´å¤æ‚åº¦: O(1)

 <img src="base.assets/image-20210207194533352.png" alt="image-20210207194533352" style="zoom: 80%;" />

 <img src="base.assets/image-20210207200406697.png" alt="image-20210207200406697" style="zoom:80%;" />

â‘ ç¬¬ä¸€ç§æƒ…å†µ:pivotè¡¨ç¤ºä¸­é—´å€¼  pivotå¤§äºæœ«å°¾çš„å€¼

 <img src="base.assets/image-20210207200947381.png" alt="image-20210207200947381" style="zoom:50%;" />

ç¬¬äºŒç§æƒ…å†µ:  pivotå°äºæœ«å°¾çš„å€¼

 <img src="base.assets/image-20210207200834370.png" alt="image-20210207200834370" style="zoom:50%;" />

ç¬¬ä¸‰ç§æƒ…å†µ:  pivotç­‰äºæœ«å°¾çš„å€¼

 <img src="base.assets/image-20210207201134428.png" alt="image-20210207201134428" style="zoom:50%;" />



```js
let binarySearch=(numbers)=>{
    let start=0,end=numbers.length-1;

    /*start=endæ—¶é€€å‡ºå¾ªç¯*/
    while (start<end){
        /*ç‰¹åˆ«è¦æ³¨æ„ä¸‹è¿™é‡Œè®°å¾—è½¬æ¢å°æ•°ä¸ºæ•´æ•°!!!*/
        let mid=Math.floor((start+end)/2);
        /*midå°äºend,åœ¨å·¦è¾¹*/
        if (numbers[mid]<numbers[end])
            end=mid;
        /*midå¤§äºend,åœ¨å³è¾¹*/
        else if (numbers[mid]>numbers[end])
            start=mid+1;
        else end--;
    }
    return numbers[start];
}
```

å¤ä¹ æ—¶å‘ç°çš„é—®é¢˜:

â‘ æ³¨æ„ let mid=Math.floor(**(start+end)/2**); è¿™é‡Œæ˜¯è®¡ç®—ä¸­é—´å€¼çš„index, ä¸è¦å†™æˆ (end-start)/2

â‘¡æ³¨æ„æ¯”è¾ƒçš„æ˜¯midå’Œend!!!

 ![image-20210207202129694](base.assets/image-20210207202129694.png)



**â–¼å‰‘æŒ‡é‡åˆ·:**



```js
function minNumberInRotateArray(rotateArray)
{
    //ç‰¹æ®Šå¤„ç†
    if(!rotateArray.length) return 0;
    let left=0,right=rotateArray.length-1;
    while(left<right){
        let mid=(left+right)>>1;
        if(rotateArray[mid]<rotateArray[0]) right=mid;
        else if(rotateArray[mid]>rotateArray[0]) left=mid+1;
        else left++;
    }
    return rotateArray[left];
    
}
module.exports = {
    minNumberInRotateArray : minNumberInRotateArray
};
```

â˜…è¿™ä¸ªæ€è·¯å’Œå‰é¢æ˜¯ä¸€æ ·çš„!!! ä¸è¿‡è¿™é‡Œæ˜¯ä¸€ç›´ç”¨rotateArray[0]è¿›è¡Œæ¯”è¾ƒ

â‘ rotateArray[mid]<rotateArray[0], è¯´æ˜åœ¨å·¦è¾¹

â‘¡rotateArray[mid]>rotateArray[0], è¯´æ˜ä¸€å®šè¿˜åœ¨å³è¾¹

â–¼ä½†è¿™é‡Œå¹¶ä¸å¥½!!!   å…¶å®è¿™å°±åº”è¯¥æ˜¯æŒ‰ç…§äºŒåˆ†æ³•è¿›è¡ŒæŸ¥æ‰¾çš„!!  å¦‚æœå˜æˆè¿™æ ·åè€Œä¼šé™ä½æ•ˆç‡, è€Œä¸”åœ¨å‰é¢ä¹Ÿè¯´äº† å¦‚æœæ˜¯æ­£åºæ’åˆ—çš„æƒ…å†µä¸‹, è¿™ç§åˆ¤æ–­æ–¹æ³•å°±ä¼šå‡ºé”™!!!  æ¯”å¦‚ 1 2 3 4 5 æœ€åä¼šå¾—åˆ°5, å› æ­¤é‡åˆ·æ—¶è‡ªå·±å†™çš„å¹¶ä¸å¥½!

ğŸŒŸè¿˜æ˜¯é‡‡ç”¨åŸæ¥çš„





#### [å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„](https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/)

éš¾åº¦ä¸­ç­‰

è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€æ ¼å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ã€‚å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µçš„æŸä¸€æ ¼ï¼Œé‚£ä¹ˆè¯¥è·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„3Ã—4çš„çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€œbfceâ€çš„è·¯å¾„ï¼ˆè·¯å¾„ä¸­çš„å­—æ¯ç”¨åŠ ç²—æ ‡å‡ºï¼‰ã€‚

[["a","**b**","c","e"],
["s","**f**","**c**","s"],
["a","d","**e**","e"]]

ä½†çŸ©é˜µä¸­ä¸åŒ…å«å­—ç¬¦ä¸²â€œabfbâ€çš„è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šboard = [["a","b"],["c","d"]], word = "abcd"
è¾“å‡ºï¼šfalse
```

 

**æç¤ºï¼š**

- `1 <= board.length <= 200`
- `1 <= board[i].length <= 200`



å›æº¯é€’å½’

**æ€æƒ³ç®€è¿°**:

* æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š å¯ä»¥ç†è§£ä¸ºæš´åŠ›æ³•éå†çŸ©é˜µä¸­æ‰€æœ‰å­—ç¬¦ä¸²å¯èƒ½æ€§ã€‚DFS é€šè¿‡é€’å½’ï¼Œå…ˆæœä¸€ä¸ªæ–¹å‘æœåˆ°åº•ï¼Œå†å›æº¯è‡³ä¸Šä¸ªèŠ‚ç‚¹ï¼Œæ²¿å¦ä¸€ä¸ªæ–¹å‘æœç´¢ï¼Œä»¥æ­¤ç±»æ¨ã€‚
* å‰ªæï¼š åœ¨æœç´¢ä¸­ï¼Œé‡åˆ° è¿™æ¡è·¯ä¸å¯èƒ½å’Œç›®æ ‡å­—ç¬¦ä¸²åŒ¹é…æˆåŠŸ çš„æƒ…å†µï¼ˆä¾‹å¦‚ï¼šæ­¤çŸ©é˜µå…ƒç´ å’Œç›®æ ‡å­—ç¬¦ä¸åŒã€æ­¤å…ƒç´ å·²è¢«è®¿é—®ï¼‰ï¼Œåˆ™åº”ç«‹å³è¿”å›ï¼Œç§°ä¹‹ä¸º å¯è¡Œæ€§å‰ªæ ã€‚

 <img src="base.assets/image-20210208155343275.png" alt="image-20210208155343275" style="zoom:67%;" />

![image-20210208164634753](base.assets/image-20210208164634753.png)

```js
/**
 * @param {character[][]} board
 * @param {string} word
 * @return {boolean}
 */
var exist = function(board, word) {
 /*i,jä¸ºçŸ©é˜µä¸­çš„è¡Œåˆ—, kä¸ºwordä¸­çš„ç´¢å¼•*/
    let dfs=(board,word,i,j,k)=>{
        /*é€’å½’ç»“æŸæ¡ä»¶*/
        //å¤±è´¥:1.è¡Œæˆ–åˆ—ç´¢å¼•è¶Šç•Œ 2.å½“å‰çŸ©é˜µå…ƒç´ ä¸ç›®æ ‡å­—ç¬¦ä¸åŒ 3.å½“å‰çŸ©é˜µå…ƒç´ å·²è®¿é—®è¿‡
        if (i>=board.length||i<0||j>=board[0].length||j<0||
            board[i][j]!==word[k])
            return false;
        //æˆåŠŸ
        if (word.length-1===k)
            return true;

        /*è¡¨ç¤ºå·²ç»è®¿é—®è¿‡*/
        board[i][j]='';

        /*ä¸‹,ä¸Š,å³,å·¦*/
        let result=dfs(board,word,i+1,j,k+1)||dfs(board,word,i-1,j,k+1)||
                   dfs(board,word,i,j+1,k+1)||dfs(board,word,i,j-1,k+1);

        /*é€’å½’ç»“æŸè¿”å›å,æ¢å¤å½“å‰çš„å€¼*/
        board[i][j]=word[k];
        /*è¿”å›ç»“æœ*/
        return result;
    }

    for (let i=0;i<board.length;i++){
        for (let j=0;j<board[0].length;j++){
            if (dfs(board,word,i,j,0)) return true;
        }
    }
    return false;
};

//â˜…å…¶å®boardå’Œwordåœ¨dfså‡½æ•°ä¸­å¯ä»¥çœç•¥æ‰
```

ğŸ”´æ€è·¯: é€’å½’é”™è¯¯æ¡ä»¶åˆ¤æ–­=>é€’å½’æ­£ç¡®æ¡ä»¶åˆ¤æ–­ => å‘å››ä¸ªæ–¹å‘è¿›è¡Œæ£€æŸ¥





#### å‰‘æŒ‡ Offer 13.æœºå™¨äººçš„è¿åŠ¨èŒƒå›´

åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ [0,0] åˆ°åæ ‡ [m-1,n-1] ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ [0, 0] çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º3+5+3+7=18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º3+5+3+8=19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šm = 2, n = 3, k = 1
è¾“å‡ºï¼š3
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šm = 3, n = 1, k = 0
è¾“å‡ºï¼š1
æç¤ºï¼š

1 <= n,m <= 100
0 <= k <= 20

**ç±»ä¼¼äºå‰é¢çš„çŸ©é˜µè·¯å¾„,ä½†è¿™é‡ŒåŠ ä¸Šäº†ä¸€äº›é™åˆ¶æ¡ä»¶**

##### DFS

**è¿™ä¸ªç®—æ³•æ˜¯dfs, å¹¶ä¸”è¿›è¡Œäº†å¾ˆå¤šæ—¶ç©ºä¸Šä¼˜åŒ–!!!**

å¤æ‚åº¦åˆ†æï¼š
è®¾çŸ©é˜µè¡Œåˆ—æ•°åˆ†åˆ«ä¸º M, NM,N ã€‚

**æ—¶é—´å¤æ‚åº¦ O(MN)** ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæœºå™¨äººéå†çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(MN)
**ç©ºé—´å¤æ‚åº¦ O(MN)** ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ŒSet visited å†…å­˜å‚¨çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼çš„ç´¢å¼•ï¼Œä½¿ç”¨ O(MN) çš„é¢å¤–ç©ºé—´ã€‚



```js
/**
 * @param {number} m
 * @param {number} n
 * @param {number} k
 * @return {number}
 */
let movingCount=function (m,n,k){
    /*è®¡ç®—ä½æ•°ä¹‹å’Œ*/
    let bitSum=(x)=>{
        let res=0;
        while (x){
            res=res+(x%10);
            x=Math.floor(x/10);
        }
        return res;
    }
    /*ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™,æ—¶é—´ä¸Šä¼šæ›´å¿«,ä½†åªé€‚ç”¨äºå°äº100çš„æ•°*/
    let sum=x=>x%10+Math.floor(x/10);

    let flag=[];  /*è®°å½•å½“å‰ä½ç½®æ˜¯å¦æ»¡è¶³æ¡ä»¶*/

    function dfs(i,j){
        if (i<0||i>m-1||j<0||j>n-1||flag[i*n+j]===true
        || (sum(i)+sum(j)>k)){
            return ;
        }
        /*è¡¨ç¤ºç¬¦åˆæ¡ä»¶,å¯ä»¥è®¿é—®åˆ°*/
        flag[i*n+j]=true;
        dfs(i+1,j);
        dfs(i-1,j);   //å¯ä»¥åˆ æ‰
        dfs(i,j+1);
        dfs(i,j-1);   //å¯ä»¥åˆ æ‰
    }
    dfs(0,0);
    /*è¿‡æ»¤å™¨*/
    return flag.filter(item=>item===true).length;
}
```

1. é‡‡ç”¨äº†æœ€ç®€å•çš„ç®­å¤´å‡½æ•°çš„è¡¨è¾¾å½¢å¼æ¥è®¡ç®—ä½æ•°å’Œ, å¹¶ä¸”æ ¹æ®èŒƒå›´è¿›è¡Œäº†ç²¾ç®€
2. é‡‡ç”¨flagæ¥è®°å½•èƒ½å¤Ÿè®¿é—®åˆ°çš„å…ƒç´ åæ ‡, åœ¨jsä¸­äºŒç»´æ•°ç»„çš„åˆ›å»ºååˆ†éº»çƒ¦, äºæ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ç»´æ•°ç»„çš„æ–¹æ³•æ¥å­˜å‚¨äºŒç»´æ•°ç»„, ååˆ†å·§å¦™ flag[i*n+j]
3. jsä¸­çš„è¿‡æ»¤å™¨æ–¹æ³•, é€šè¿‡è¿‡æ»¤åç›´æ¥è®¡ç®—å¯ä»¥åˆ°è¾¾çš„æ ¼å­æ•°

**â˜…æ›´å¿«ä¸€ç‚¹ ** :

æ ¹æ®å¯è¾¾è§£çš„ç»“æ„å’Œè¿é€šæ€§ï¼Œæ˜“æ¨å‡ºæœºå™¨äººå¯ ä»…é€šè¿‡å‘å³å’Œå‘ä¸‹ç§»åŠ¨ï¼Œè®¿é—®æ‰€æœ‰å¯è¾¾è§£ ã€‚

ä¸‰è§’å½¢å†…éƒ¨ï¼š å…¨éƒ¨è¿é€šï¼Œæ˜“è¯ï¼›
ä¸¤ä¸‰è§’å½¢è¿é€šå¤„ï¼š è‹¥æŸä¸‰è§’å½¢å†…çš„è§£ä¸ºå¯è¾¾è§£ï¼Œåˆ™å¿…ä¸å…¶å·¦è¾¹æˆ–ä¸Šè¾¹çš„ä¸‰è§’å½¢è¿é€šï¼ˆå³ç›¸äº¤ï¼‰ï¼Œå³æœºå™¨äººå¿…å¯ä»å·¦è¾¹æˆ–ä¸Šè¾¹èµ°è¿›æ­¤ä¸‰è§’å½¢ã€‚

<img src="C:\Users\shanxiansen310\AppData\Roaming\Typora\typora-user-images\image-20201226110054123.png" alt="image-20201226110054123" style="zoom: 67%;" />

å› æ­¤æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªç‰¹æ€§ç›´æ¥å»æ‰å‘ä¸Šå’Œå‘å·¦çš„é€’å½’

dfs(i-1,j);      dfs(i,j-1);    --åˆ æ‰

â–¼dfsæç®€ç‰ˆ

```js
/**
 * @param {number} m
 * @param {number} n
 * @param {number} k
 * @return {number}
 */
var movingCount = function(m, n, k) {
    const getSum=n=>{
        let res=0;
        while(n){
            res+=n%10;
            n=Math.floor(n/10);
        }
        return res;
    }

    let flag=[];
    const dfs=(i,j)=>{
        if (i>=m||j>=n||flag[i*n+j]===true||
            getSum(i)+getSum(j)>k){
            return
        }
        flag[i*n+j]=true;
        dfs(i+1,j);
        dfs(i,j+1);
    }
    dfs(0,0);

    return flag.filter(item=>item===true).length;
}
```



##### BFS

æœ¬é¢˜è¿˜æœ‰å¯¹åº”çš„BFSè§£æ³•, ç»“æœè¿˜æ˜¯å¯ä»¥!!!

```js
/*BFS*/
let movingCountBFS=(m,n,k)=>{
    function getSum(num) {
        let answer = 0;
        while(num) {
            answer += num % 10;
            num = Math.floor(num / 10);
        }
        return answer;
    }

    /*æ–¹å‘æ•°ç»„,æœ¬é¢˜åªç”¨å³ä¸‹*/
    const direction=[
        // [-1,0],   //ä¸Š
        [0,1],    //å³
        [1,0],    //ä¸‹
        // [0,-1]    //å·¦
    ];

    /*å·²ç»èµ°è¿‡çš„åæ ‡,å­˜æ”¾å­—ç¬¦ä¸²å­—é¢é‡*/
    let set=new Set([`0,0`]);

    /*å°†è¦éå†çš„åæ ‡é˜Ÿåˆ—*/
    let queue=[[0,0]];

    /*éå†*/
    while (queue.length){
        /*ç§»é™¤é˜Ÿé¦–,éå†å…¶å­èŠ‚ç‚¹*/
        let [x,y]=queue.shift();

        for (let i=0;i<2;i++){
            let nextX=x+direction[i][0];
            let nextY=y+direction[i][1];

            /*ä¸´ç•Œå€¼åˆ¤æ–­*/
            if (nextX<0||nextX>=m||nextY<0||nextY>=n||getSum(nextX)+getSum(nextY)>k
                ||set.has(`${nextX},${nextY}`)){
                continue;   //è·³è¿‡æœ¬æ¬¡forå¾ªç¯
            }

            /*è¡¨ç¤ºè¯¥åæ ‡å·²ç»åˆ°è¾¾è¿‡*/
            set.add(`${nextX},${nextY}`);

            /*å°†è¯¥åæ ‡åŠ å…¥é˜Ÿåˆ—ï¼ˆå› ä¸ºè¿™ä¸ªåæ ‡çš„å››å‘¨æ²¡æœ‰èµ°è¿‡ï¼Œéœ€è¦çº³å…¥ä¸‹æ¬¡çš„éå†ï¼‰*/
            queue.push([nextX,nextY]);
        }
    }
    /*setçš„å¤§å°å°±æ˜¯å¯åˆ°è¾¾åæ ‡çš„æ•°é‡*/
    return set.size;
}

//way2 ä¸ä½¿ç”¨set, ä½¿ç”¨flag
var movingCount = function(m, n, k) {
    const getSum=n=>{
        let res=0;
        while(n){
            res+=n%10;
            n=Math.floor(n/10);
        }
        return res;
    }

    const direction=[
        // [-1,0],   //ä¸Š
        [0,1],    //å³
        [1,0],    //ä¸‹
        // [0,-1]    //å·¦
    ]

    let flag=[true];  //[0,0]åœ¨åé¢çš„whileå¾ªç¯ä¸­ä¸ä¼šè¢«è€ƒè™‘,ä½†[0,0]å¯è¾¾
    let queue=[[0,0]];

    while (queue.length){
        let [x,y]=queue.shift();

        for (let i=0;i<direction.length;i++){
            let newX=x+direction[i][0];
            let newY=y+direction[i][1];

            if (newX>=m||newY>=n||getSum(newX)+getSum(newY)>k||
                flag[newX*n+newY]===true){
                continue;
            }

            flag[newX*n+newY]=true;
            queue.push([newX,newY]);
        }
    }

    return flag.filter(x=>x===true).length;

}

```







#### [å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­](https://leetcode-cn.com/problems/jian-sheng-zi-lcof/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º `n` çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ `m` æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn>1å¹¶ä¸”m>1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º `k[0],k[1]...k[m-1]` ã€‚è¯·é—® `k[0]*k[1]*...*k[m-1]` å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: 2
è¾“å‡º: 1
è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: 10
è¾“å‡º: 36
è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36
```

**æç¤ºï¼š**

- `2 <= n <= 58`

æ•°å­¦æ–¹æ³•:

![image-20201227094050023](C:\Users\shanxiansen310\AppData\Roaming\Typora\typora-user-images\image-20201227094050023.png)



**å¤æ‚åº¦åˆ†æï¼š**

æ—¶é—´å¤æ‚åº¦ O(1) ï¼š ä»…æœ‰æ±‚æ•´ã€æ±‚ä½™ã€æ¬¡æ–¹è¿ç®—ã€‚

æ±‚æ•´å’Œæ±‚ä½™è¿ç®—ï¼šèµ„æ–™æåˆ°ä¸è¶…è¿‡æœºå™¨æ•°çš„æ•´æ•°å¯ä»¥çœ‹ä½œæ˜¯ O(1)) ï¼›

å¹‚è¿ç®—ï¼šæŸ¥é˜…èµ„æ–™ï¼Œæåˆ°æµ®ç‚¹å–å¹‚ä¸º O(1) ã€‚

ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ a å’Œ b ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚

```js
/**
 * @param {number} n
 * @return {number}
 */
var cuttingRope = function(n) {
    //m<n,æ¯æ¬¡åˆ†ä¸º3çš„æ—¶å€™èƒ½å–å¾—æœ€å¤§å€¼(æ•°å­¦æ¨å¯¼)
    if(n<=3){
        return n-1;
    }
    let quo=Math.floor(n/3),re=n%3;
    if (re===0){
        return Math.pow(3,quo);
    }
    //2*2 > 1*3  ,æ‰€ä»¥è¿™é‡Œé€€ä¸€ä¸ª3å‡ºæ¥å‡‘æˆ 1*3 
    else if(re===1){
        return Math.pow(3,quo-1)*4;
    }
    else
        return Math.pow(3,quo)*2;
};
```

**â–¼åŠ¨æ€è§„åˆ’**



**çŠ¶æ€å®šä¹‰**ï¼šdp[i]:è¡¨ç¤ºé•¿åº¦ä¸ºiçš„å‰ªçŸ­åçš„æœ€å¤§ä¹˜ç§¯; 
**åˆå§‹çŠ¶æ€**ï¼šdp[2] = 1;  
**çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼šdp[i] = Math.max(dp[i], Math.max(j * dp[i-j], j * (i - j))); å…¶ä¸­ 1<j<i  
**è¿”å›å€¼**ï¼šdp[n]



![image-20201227103615904](base.assets\image-20201227103615904.png)

å½“ iâ‰¥2 æ—¶ï¼Œå‡è®¾å¯¹æ­£æ•´æ•° i æ‹†åˆ†å‡ºçš„ç¬¬ä¸€ä¸ªæ­£æ•´æ•°æ˜¯ jï¼ˆ1â‰¤j<iï¼‰ï¼Œåˆ™æœ‰ä»¥ä¸‹**ä¸¤ç§**æ–¹æ¡ˆï¼š

* **å°† i æ‹†åˆ†æˆ j å’Œ iâˆ’j çš„å’Œï¼Œä¸” iâˆ’j ä¸å†æ‹†åˆ†æˆå¤šä¸ªæ­£æ•´æ•°ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—(iâˆ’j)ï¼›**

* **å°† i æ‹†åˆ†æˆ j å’Œ iâˆ’j çš„å’Œï¼Œä¸” iâˆ’j ç»§ç»­æ‹†åˆ†æˆå¤šä¸ªæ­£æ•´æ•°ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—dp[iâˆ’j]ã€‚**

   (dp[i-j]å°±æ˜¯å¦‚æœè¦ç»§ç»­åˆ’åˆ†ä¸‹å»çš„æœ€ä½³æ–¹æ¡ˆ)

```js
var cuttingRope = function(n) {
    //dp
    //æœ€å¤§é•¿åº¦ä¸ºn,æ‰€ä»¥å¯ä»¥ä»¤æ•°ç»„é•¿åº¦ä¸ºn+1(æ•°ç»„ä»0å¼€å§‹,ä¸è€ƒè™‘0)
    let dp=Array(n+1).fill(1);
    //ä»2å¼€å§‹æ‰èƒ½è¢«åˆ†ä¸ºä¸¤ä¸ªæ•´æ•°
    for (let i=3;i<=n;i++){
        //é¢˜ç›®æœ‰è¦æ±‚,å¿…é¡»è¦åˆ†æˆ2æ®µä»¥ä¸Š,æ‰€ä»¥jå¿…é¡»å¤§äº0
        for (let j=1;j<i;j++){
            dp[i]=Math.max(dp[i],j*(i-j),dp[i-j]*j)
        }
    }
    return dp[n];
};
```



#### å‰ªç»³å­ plus

ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º n çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ m æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn>1å¹¶ä¸”m>1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º k[0],k[1]...k[m - 1] ã€‚è¯·é—® k[0]*k[1]*...*k[m - 1] å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

**æç¤ºï¼š**

- `2 <= n <= 1000`

â–¼è¿™é‡Œæ‰©å¤§äº†nçš„èŒƒå›´, å¦‚æœå†ç”¨ä¹‹å‰çš„æ–¹æ³•ä¼šå¯¼è‡´æº¢å‡º, æ‰€ä»¥æˆ‘ä»¬åªèƒ½ä¸€æ­¥æ­¥å»è®¡ç®—, å–æ¨¡

â–¼é‡‡ç”¨è¿‡å‰é¢ä¸¤ç§æ–¹æ³•(æ•°å­¦,dp)åœ¨è¿‡ç¨‹ä¸­è¿›è¡Œå–æ¨¡, ä½†æ˜¯éƒ½ä¸å¤ªè¡Œ, ä¸çŸ¥é“åŸå› ä¸ºä½•?

![image-20201228103248996](base.assets\image-20201228103248996.png)

* å¾ªç¯æ±‚ä½™(ç›´æ¥åˆ©ç”¨äº†ä¹˜3æ˜¯æœ€ä½³çš„è¿™ä¸€æƒ³æ³•)

```js
var cuttingRope = function(n) {
  let arr=[0,0,1,2,4];
  if(n<5) return arr[n];
  const max=1e9+7;
  let res=1
  //æ¯ä¹˜ä¸€æ¬¡3éƒ½è¦è¿›è¡Œå–æ¨¡
  while(n>=5){
      res=res*3%max;
      n=n-3;
  }
  //è·³å‡ºwhileå¾ªç¯: 
  //1.n=2,æ˜¾ç„¶æ˜¯ç›´æ¥ä¹˜2èƒ½å¾—åˆ°æœ€å¥½çš„ç»“æœ
  //2.n=3,ç›¸å½“äºåŸæ¥ç›´æ¥ç§°3
  //3.n=4,ç›¸å½“äºåŸæ¥æŠŠ3*1åˆ†ä¸º2*2
  //æ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥while>=5æ¥è¿›è¡Œå¾ªç¯
  return  res*n%max;
};
```



#### [å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

éš¾åº¦ç®€å•

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²å½¢å¼ï¼‰ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼ŒæŠŠ 9 è¡¨ç¤ºæˆäºŒè¿›åˆ¶æ˜¯ 1001ï¼Œæœ‰ 2 ä½æ˜¯ 1ã€‚å› æ­¤ï¼Œå¦‚æœè¾“å…¥ 9ï¼Œåˆ™è¯¥å‡½æ•°è¾“å‡º 2

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š00000000000000000000000000001011
è¾“å‡ºï¼š3
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º '1'ã€‚

**æç¤ºï¼š**

- è¾“å…¥å¿…é¡»æ˜¯é•¿åº¦ä¸º `32` çš„ **äºŒè¿›åˆ¶ä¸²** ã€‚



â˜…è§£æ³•â‘ :ä½è¿ç®— äºŒè¿›åˆ¶æ•°å­—n 

* è‹¥n&1=0, åˆ™ n äºŒè¿›åˆ¶æœ€å³ä¸€ä½ä¸º0;
* è‹¥n&1=1, åˆ™ n äºŒè¿›åˆ¶æœ€å³ä¸€ä½ä¸º1;

![image-20201228113230449](base.assets\image-20201228113230449.png)



```js
/**
 * @param {number} n - a positive integer
 * @return {number}
 */
//æ¯æ¬¡åˆ©ç”¨&åˆ¤æ–­æœ€åä¸€ä½æ˜¯å¦ä¸º1, >>>ä¸ºæ— ç¬¦å·å³ç§»
var hammingWeight = function(n) {  
    let res=0;
    while(n!==0){
        res+=(n&1);
        n>>>=1;
    }
    return res;
};
```

<img src="base.assets\image-20201228112457885.png" alt="image-20201228112457885" style="zoom:67%;" />





â˜…è§£æ³•â‘¡: åˆ©ç”¨n&n-1

![image-20201228115855144](base.assets\image-20201228115855144.png)

<img src="base.assets\image-20201228120013888.png" alt="image-20201228120013888" style="zoom:67%;" />

<img src="base.assets\image-20201228115822172.png" alt="image-20201228115822172" style="zoom:67%;" />

```js
var hammingWeight = function(n) {  
    let res=0;
    while(n){
        n=n&(n-1);
        res++;
    }
    return res;
};
```



### ä»£ç çš„å®Œæ•´æ€§

#### [å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹](https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/)

æ ‡ç­¾:äºŒåˆ†

éš¾åº¦ä¸­ç­‰

å®ç°å‡½æ•°double Power(double base, int exponent)ï¼Œæ±‚baseçš„exponentæ¬¡æ–¹ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2.00000, 10
è¾“å‡º: 1024.00000
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: 2.10000, 3
è¾“å‡º: 9.26100
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: 2.00000, -2
è¾“å‡º: 0.25000
è§£é‡Š: 2-2 = 1/22 = 1/4 = 0.25
```

 

**è¯´æ˜:**

- -100.0 < *x* < 100.0
- *n* æ˜¯ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231 âˆ’ 1] ã€‚





**äºŒåˆ†æŸ¥æ‰¾:**

![image-20201230235657103](base.assets\image-20201230235657103.png)

* **3^11^= 3^5^ * 3^5^ * 3**
* **3^5^  = 3^2^ * 3^2^ * 3**
* **3^2^  = 3^1^ *3^1^**

```js
/**
 * @param {number} x
 * @param {number} n
 * @return {number}
 */
var myPow = function(x, n) {
    // return Math.pow(x,n);

    let absPow=(x,n)=>{
        if(n===0){
            return 1;
        }
        if(n===1){
            return x;    
        }
		//biResultå°±æ˜¯x^näºŒåˆ†åçš„å€¼
        let biResult=absPow(x,Math.floor(n/2));
        return n%2? biResult*biResult*x : biResult *biResult;
    }
    const result=absPow(x,Math.abs(n));
    return n<0? 1/result :result;
};
```

**â–¼å‰‘æŒ‡é‡åˆ·:**

<span style="font-weight:bold; color:red;">æ³¨æ„exponentå¯èƒ½ä¸ºè´Ÿæ•°</span>





#### [â˜…â˜…å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°](https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/)



<span id="jumpTree">è¾“å…¥æ•°å­— nï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚</span>

ç¤ºä¾‹ 1:

è¾“å…¥: n = 1
è¾“å‡º: [1,2,3,4,5,6,7,8,9]


è¯´æ˜ï¼š

ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°
n ä¸ºæ­£æ•´æ•°



**â˜…ä¸»è¦æ€æƒ³**:è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯å¤§æ•°æ€æƒ³, æ•°å€¼å·¨å¤§æ—¶æ— æ³•ä½¿ç”¨Numberè¡¨ç¤º, åªèƒ½ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼.è€Œè¿™é‡Œä¸ºäº†è¿›è¡Œæ‹¼æ¥é‡‡ç”¨çš„æ˜¯é€’å½’åå‰æ ‘çš„æ–¹æ³•ã€‚ å¹¶ä¸”åœ¨æœ€åé‡‡ç”¨mapè¿›è¡Œäº†ç±»å‹çš„è½¬æ¢ã€‚ï¼ˆè‹¥æ˜¯å…¶ä»–è¯­è¨€æœ€åå¯èƒ½è¦è€ƒè™‘å¦‚ä½•å»æ‰å‰é¢ä¸å¿…è¦çš„ 0ï¼‰



![image-20210303235055875](base.assets/image-20210303235055875.png)

```js
/**
 * @param {number} n
 * @return {number[]}
 */
const printNumbers = function(n){
    if(n<=0) return [];
    let number = new Array(n).fill(0);
    let res = [];

    function recur(index){
        /*åˆ¤æ–­æ˜¯å¦å¯ä»¥ç»§ç»­å»¶ä¼¸*/
        if(index === n) {
            res.push(number.join(''));  //å•çº¯å°†æ•°ç»„å…ƒç´ è¿æ¥æˆå­—ç¬¦ä¸²
            return;
        }
        for(let i=0; i<10; i++){
            number[index] = i;
            recur(index+1);
        }
    }

    recur(0);
    res.shift();
    return res.map(Number);
}
```





####  [â˜…â˜…â˜…å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/)

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…å«'. 'å’Œ'* 'çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦'.'è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ'* 'è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²"aaa"ä¸æ¨¡å¼"a.a"å’Œ"ab* ac* a"åŒ¹é…ï¼Œä½†ä¸"aa.a"å’Œ"ab*a"å‡ä¸åŒ¹é…ã€‚

ç¤ºä¾‹ 1:

è¾“å…¥:
s = "aa"
p = "a"
è¾“å‡º: false
è§£é‡Š: "a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
ç¤ºä¾‹ 2:

è¾“å…¥:
s = "aa"
p = "a* "
è¾“å‡º: true
è§£é‡Š: å› ä¸º '*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚
ç¤ºä¾‹ 3:

è¾“å…¥:
s = "ab"
p = ".* "
è¾“å‡º: true
è§£é‡Š: ".* " è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ'*'ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ'.'ï¼‰ã€‚



- `s` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ã€‚
- `p` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ä»¥åŠå­—ç¬¦ `.` å’Œ `*`ï¼Œæ— è¿ç»­çš„ `'*'`ã€‚
- `.`è¿™ä¸ªè¡¨ç¤ºç©º!!!



è§£é¢˜æ€è·¯ :  åŠ¨æ€è§„åˆ’

![image-20210304180126062](base.assets/image-20210304180126062.png)

![image-20210304180330445](base.assets/image-20210304180330445.png)

![image-20210304180428101](base.assets/image-20210304180428101.png)



![image-20210304180443976](base.assets/image-20210304180443976.png)

```js
/**
 * @param {string} s
 * @param {string} p
 * @return {boolean}
 */
var isMatch = function(s, p) {
    let m=s.length,n=p.length;

    /*åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„*/
    let dp=Array.from({length:m+1},x=>new Array(n+1).fill(false));
    dp[0][0]=true;
    
    /* å¯¹é¦–è¡Œè¿›è¡Œåˆå§‹åŒ–, è¿ç»­çš„å¶æ•°åˆ—ä¸Šéƒ½ä¸º*åˆ™å¯ä»¥ä¸ºtrue */
    for(let j=2;j<n+1;j++){
        if(dp[0][j-2]&&p[j-1]==="*"){
            dp[0][j]=true;
        }
    }
    for (let i=1;i<m+1;i++){
        for (let j=1;j<n+1;j++){
            if (p[j-1]==="*"){
                dp[i][j]=dp[i][j-2]||(dp[i-1][j]&&s[i-1]===p[j-2])
                    ||(dp[i-1][j]&&p[j-2]===".");
            }
            else {
                dp[i][j]=(dp[i-1][j-1]&&s[i-1]===p[j-1])||(dp[i-1][j-1]&&p[j-1]===".");
            }
        }
    }
    return dp[m][n];
};

//ç®€åŒ–
/**
 * @param {string} s
 * @param {string} p
 * @return {boolean}
 */
var isMatch = function(s, p) {
    let m = s.length;
    let n = p.length;
    let dp = Array.from({length: m+1},x=>new Array(n+1).fill(false));
    dp[0][0] = true;
    for(let i = 0; i <= m;i++) {
        for(let j = 1; j <= n; j++) {
            if(p[j-1] === "*") {
                /*è¿™æ ·å°±å¯ä»¥è§£å†³é¦–è¡Œé—®é¢˜*/
                dp[i][j] = dp[i][j-2];
                if(match(s,p,i,j-1)) {
                    dp[i][j] = dp[i][j] || dp[i-1][j];
                }
            } else {
                if(match(s,p,i,j)) {
                    dp[i][j] = dp[i-1][j-1];
                }
            }
        }
    }
    return dp[m][n];
};
const match = (s,p,i,j)=> {
    if(i === 0) return false;
    if(p[j-1] === '.') return true;
    return s[i-1] === p[j-1];
}


```



ä¾‹å­:

![image-20210304181542594](base.assets/image-20210304181542594.png)



<span style="font-weight:bold; color:red;">ğŸŒŸå…³é”®æ˜¯åˆ’åˆ†å¥½å¯¹åº”çš„æƒ…å†µ!!!</span>





#### [å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢](https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰å¥‡æ•°ä½äºæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰å¶æ•°ä½äºæ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚



**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3,4]
è¾“å‡ºï¼š[1,3,2,4] 
æ³¨ï¼š[3,1,2,4] ä¹Ÿæ˜¯æ­£ç¡®çš„ç­”æ¡ˆä¹‹ä¸€ã€‚
```

**æç¤ºï¼š**

1. `0 <= nums.length <= 50000`
2. `1 <= nums[i] <= 10000`



easyé¢˜å°±ä¸å¤šå†™äº†...

```js
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var exchange = function(nums) {
	//way1ï¼šåˆ†æ²»æ€æƒ³ ç©ºé—´æ¢æ—¶é—´ åˆ†ä¸ºå¥‡å¶ä¸¤éƒ¨åˆ† å†åˆå¹¶,ä¸æ¨è!!!
    const odd = [], even = []
    for (const num of nums) 
        num & 1 ? odd.push(num) : even.push(num)
    return odd.concat(even)
	
    //way2: â˜…æ¨èæ–¹æ³•:åŒæŒ‡é’ˆ(å¯ä»¥è”æƒ³åˆ°å¿«æ’) 
    let left=0,right=nums.length-1;
    while(left<right){
        while(nums[left]%2===1 && left<right) left++;
        while(nums[right]%2===0 && left<right) right--;
        [nums[left],nums[right]]=[nums[right],nums[left]];
    }
    return nums;
};	
```

ğŸŒŸ[å¿«æ’](D:\Study\Algorithm\Notes-Typora\Base\sort.md)

**â–¼å‰‘æŒ‡é‡åˆ·:**

è¿™é“é¢˜åœ¨ç‰›å®¢ä¸Šè¦æ±‚ä¿æŒåŸæ¥çš„é¡ºåº, æˆ‘åœ¨è¿™é‡Œæƒ³äº†å¾ˆä¹…...åšä¸ªæ€»ç»“:

**Summay:**

â–¼ä¸è¦æ±‚é¡ºåº(ä¹¦ä¸Šå’Œlc):

1. å¿«æ’æ€æƒ³, åŒæŒ‡é’ˆç›´æ¥äº¤æ¢ (æœ€ä½³)  **æ—¶é—´å¤æ‚åº¦: O(n)** **ç©ºé—´å¤æ‚åº¦: O(1)**

â–¼è¦æ±‚é¡ºåº

1. ä¸¤ä¸ªæ ˆ, ä¸€ä¸ªè®°å½•å¶æ•°, ä¸€ä¸ªè®°å½•å¥‡æ•° **æ—¶é—´å¤æ‚åº¦: O(n)** **ç©ºé—´å¤æ‚åº¦: O(n)**
2. å†’æ³¡ 
3. å¿«æ…¢åŒæŒ‡é’ˆ, éœ€è¦äº¤æ¢æ—¶å°±æ•´ä½“åç§»





### ä»£ç çš„é²æ£’æ€§



#### [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

éš¾åº¦:easy

è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰ 6 ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯ 1ã€2ã€3ã€4ã€5ã€6ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬ 3 ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º 4 çš„èŠ‚ç‚¹ã€‚

 

ç¤ºä¾‹ï¼š

ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ k = 2.

è¿”å›é“¾è¡¨ 4->5.



<span style='color:red; font-weight:bold;'>Â â˜…è™½ç„¶åªæ˜¯easyéš¾åº¦, ä½†è¦ç‰¹åˆ«æ³¨é‡é²æ£’æ€§çš„è€ƒè™‘!!!Â </span>

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @param {number} k
 * @return {ListNode}
 */
var getKthFromEnd = function(head, k) {

    //è™½ç„¶leetcodeæ²¡æœ‰è¦æ±‚,ä½†æ˜¯ä¹¦ä¸­å¹¶éè€ƒçš„è¿™ä¹ˆeasy

    //1.è€ƒè™‘headæ˜¯å¦ä¸ºç©ºæˆ–è€…undefined
    if(head===null||head===undefined){
        return null;
    }
    //2.è€ƒè™‘kæ˜¯å¦æ˜¯ä¸€ä¸ªæ­£æ•´æ•°
    if(k<=0){
        return null;
    }

    //è¿™é‡Œé“¾è¡¨é•¿åº¦è‡³å°‘ä¸º1,è€Œä¸”k>0,countæœ€ç»ˆè¡¨ç¤ºé“¾è¡¨é•¿åº¦
    let p=head,q=head,count=1;
    while(p=p.next){
        if(count>=k){
            q=q.next;
        }
        count++;
    }
    //3.è€ƒè™‘kæ˜¯å¦å¤§äºé“¾è¡¨çš„é•¿åº¦
    if(k>count){
        return null;
    }else{
        return q;
    }
};
```



#### å‰‘æŒ‡offer23: é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹

leetcodeå’Œç‰›å®¢ä¸Šéƒ½æ²¡æœ‰æ”¶å½•è¿™é“é¢˜, ä½†æˆ‘è§‰å¾—è¿˜æ˜¯è¦äº†è§£ä¸€ä¸‹å…¶æ€æƒ³!!!ğŸ˜ŠğŸ˜ŠğŸ˜Š

(æ²¡æœ‰ç©ºé—´é™åˆ¶çš„è¯, ç›´æ¥hashè¡¨è®°å½•æœ€ç®€å•)

æ­¥éª¤;

1. å…ˆåˆ¤æ–­æ˜¯å¦æœ‰ç¯?  å¿«æ…¢æŒ‡é’ˆ, ç›¸é‡åˆ™æœ‰(è®°å½•ç›¸é‡èŠ‚ç‚¹meetNode), è‹¥å¿«æŒ‡é’ˆåˆ°äº†null, åˆ™æ— 
2. æ ¹æ®ç›¸é‡èŠ‚ç‚¹(meetNodeè‚¯å®šåœ¨ç¯ä¸­)æ¥å¾—åˆ°ç¯ä¸­èŠ‚ç‚¹çš„æ•°ç›®n
3. å¿«æ…¢æŒ‡é’ˆ, å¿«æŒ‡é’ˆå…ˆèµ°næ­¥, æ…¢æŒ‡é’ˆå†å¼€å§‹èµ°,ç›¸é‡çš„åœ°æ–¹å°±æ˜¯å…¥å£èŠ‚ç‚¹



#### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

éš¾åº¦:easy

å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

 

ç¤ºä¾‹:

è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 5->4->3->2->1->NULL


é™åˆ¶ï¼š

0 <= èŠ‚ç‚¹ä¸ªæ•° <= 5000



way1:åŒæŒ‡é’ˆ

<img src="base.assets/image-20210307105523858.png" alt="image-20210307105523858" style="zoom: 33%;" />

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
//way1:åŒæŒ‡é’ˆ
var reverseList = function(head) {
    let cur=null,pre=head;
    //!!!è€ƒè™‘ç‰¹æ®Šæƒ…å†µ
    if(head==null){
        return null;
    }
    while(head=head.next){
        pre.next=cur;
        cur=pre;
        pre=head;
    }
    //æ³¨æ„è¿™é‡Œæœ€åè¿˜è¦æ‰‹åŠ¨è½¬æ¢ä¸€ä¸‹
    pre.next=cur;
    return pre;
};
```

 

way2:é€’å½’

* ä½¿ç”¨é€’å½’å‡½æ•°ï¼Œä¸€ç›´é€’å½’åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œè¯¥ç»“ç‚¹å°±æ˜¯åè½¬åçš„å¤´ç»“ç‚¹ï¼Œè®°ä½œ retret .
* æ­¤åï¼Œæ¯æ¬¡å‡½æ•°åœ¨è¿”å›çš„è¿‡ç¨‹ä¸­ï¼Œè®©å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹çš„ nextnext æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ã€‚
* åŒæ—¶è®©å½“å‰ç»“ç‚¹çš„ nextnext æŒ‡é’ˆæŒ‡å‘ NULLNULL ï¼Œä»è€Œå®ç°ä»é“¾è¡¨å°¾éƒ¨å¼€å§‹çš„å±€éƒ¨åè½¬
* å½“é€’å½’å‡½æ•°å…¨éƒ¨å‡ºæ ˆåï¼Œé“¾è¡¨åè½¬å®Œæˆã€‚
* <img src="https://pic.leetcode-cn.com/8951bc3b8b7eb4da2a46063c1bb96932e7a69910c0a93d973bd8aa5517e59fc8.gif" alt="img" style="zoom: 80%;" />

```js
//é€’å½’ä»£ç 
var reverseList = function(head) {
    let res;
    //ä¸€å®šè¦æ³¨æ„è€ƒè™‘è¾“å…¥ä¸ºnull
    if(head==null){
        return null;
    }
    const recur=cur=>{
        if(cur.next==null){
            res=cur;
            return;
        }
        recur(cur.next);
        cur.next.next=cur;
        cur.next=null;
    }
    recur(head);
    return res;
};
```



**â–¼å‰‘æŒ‡é‡åˆ·:**

æœ€ç®€æ´çš„æ¨¡å¼

```js
var reverseList = function(head) {
    let pre=null,cur=head;
    while(cur){
        //è§£æ„èµ‹å€¼ä¹Ÿæœ‰æ‰§è¡Œé¡ºåº!!!
        [pre,cur.next,cur]=[cur,pre,cur.next];
    }
    return pre;
};
```







#### [å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ä»ç„¶æ˜¯é€’å¢æ’åºçš„ã€‚

**ç¤ºä¾‹1ï¼š**

```
è¾“å…¥ï¼š1->2->4, 1->3->4
è¾“å‡ºï¼š1->1->2->3->4->4
```

**é™åˆ¶ï¼š**

```
0 <= é“¾è¡¨é•¿åº¦ <= 1000
```



way1ï¼šè¿­ä»£æ³•å®ç°ï¼Œæ³¨æ„è€ƒè™‘l1å’Œl2æ˜¯å¦ä¸ºç©º

æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(1)

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var mergeTwoLists = function(l1, l2) {
    //1.é¦–å…ˆè€ƒè™‘éƒ½ä¸ºnullçš„æƒ…å†µ
    //è¿™æ ·åˆ†ç±»å…¶å®ä¹Ÿè€ƒè™‘è¿›å»äº†éƒ½ä¸ºnull
    if(l1===null){
        return l2;
    }
    else if(l2===null){
        return l1;
    }

    //ç°åœ¨l1å’Œl2éƒ½ä¸ä¸ºnullï¼Œè‡³å°‘æœ‰ä¸€ä¸ªç»“ç‚¹
    let res,cur;
    //åˆå§‹åŒ–,ç¡®å®šå¤´èŠ‚ç‚¹
    if(l1.val>l2.val){
        res=l2;
        l2=l2.next;
    }else{
        res=l1;
        l1=l1.next;
    }
    cur=res;
    //æ¯”è¾ƒl1å’Œl2å¤§å°å¹¶æ’å…¥é“¾è¡¨
    while(l1&&l2){
        if(l1.val<=l2.val){
            cur.next=l1;
            l1=l1.next;
        }        
        else{
            cur.next=l2;
            l2=l2.next;
        }
        cur=cur.next;
    }
    //æœ€åçš„æ”¶å°¾å·¥ä½œ
    if(l1===null){
        cur.next=l2;
    }else{
        cur.next=l1;
    }
    return res;
};
```

way2ï¼š é€’å½’

ä»£ç æ›´ç®€æ´ï¼Œä½†å¢åŠ äº†ç©ºé—´å¤æ‚åº¦

æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(N)

```js
var mergeTwoLists = function(l1, l2) {
    //1.é¦–å…ˆè€ƒè™‘éƒ½ä¸ºnullçš„æƒ…å†µ
    //è¿™æ ·åˆ†ç±»å…¶å®ä¹Ÿè€ƒè™‘è¿›å»äº†éƒ½ä¸ºnull
    if(l1===null){
        return l2;
    }
    else if(l2===null){
        return l1;
    }
    //é€šè¿‡é€’å½’æ¯ä¸€æ¬¡æ‰¾ä¸€ä¸ªæ•°,å›æº¯æ—¶å†å°†å…¶è¿æ¥èµ·æ¥
    if(l1.val<l2.val){
        l1.next=mergeTwoLists(l1.next,l2);
        return l1;
    }else{
        l2.next=mergeTwoLists(l1,l2.next);
        return l2;
    } 
};
```





#### [â˜…â˜…å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„](https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)

Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚

ä¾‹å¦‚:
ç»™å®šçš„æ ‘ A:

â€‹       3  

â€‹      / \  

â€‹     4  5 

â€‹    / \ 

   1  2
ç»™å®šçš„æ ‘ Bï¼š

   4  

  / 

1

è¿”å› trueï¼Œå› ä¸º B ä¸ A çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šA = [1,2,3], B = [3,1]
è¾“å‡ºï¼šfalse
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šA = [3,4,5,1,2], B = [4,1]
è¾“å‡ºï¼štrue
```

**é™åˆ¶ï¼š**

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 10000
```

 <img src="base.assets/image-20210308125323439.png" alt="image-20210308125323439" style="zoom:67%;" />

![image-20210308123451163](base.assets/image-20210308123451163.png)

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} A
 * @param {TreeNode} B
 * @return {boolean}
 */
var isSubStructure = function(A, B) {

    const isEqual=(A,B)=>{
        if(B==null){
            return true;
        }    
        if(A==null){
            return false;
        }
        if(A.val!==B.val){
            return false;
        }

        return isEqual(A.left,B.left)&&isEqual(A.right,B.right);
    }

    const traverse=A=>{
        if(A==null||B==null){
            return false;
        }
        return isEqual(A,B)||traverse(A.left)||traverse(A.right);
    }

    return traverse(A);
};
```

â˜…è¿™é‡Œä¹¦ä¸Šé‡ç‚¹è€ƒå¯Ÿçš„æ—¶robust, æ‰€ä»¥ä¸€å®šè¦è€ƒè™‘A, Bè¾“å…¥ä¸ºnullçš„æƒ…å†µ

â˜…ä¹¦ä¸Šè¿˜è€ƒå¯Ÿäº†ä¸€ä¸ªç‚¹, åœ¨åˆ¤æ–­å°æ•°ç±»å‹æ˜¯å¦ç›¸ç­‰æ—¶ä¸èƒ½ä½¿ç”¨==



**ğŸ”´æ€»ç»“**

* ç¼–ç å‰å…¨é¢è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„çš„è¾“å…¥
* è€ƒè™‘è¾¹ç•Œæ¡ä»¶
* åšå¥½é”™è¯¯å¤„ç†
* é‡‡å–é˜²å¾¡æ€§ç¼–ç¨‹, åšå¥½é”™è¯¯å¤„ç†





### è§£å†³é¢è¯•é¢˜çš„æ€è·¯

#### â–¼ç”»å›¾è®©æŠ½è±¡é—®é¢˜å½¢è±¡åŒ–

#### [â˜…27. äºŒå‰æ ‘çš„é•œåƒ](https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/)

éš¾åº¦ç®€å•

è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯¥å‡½æ•°è¾“å‡ºå®ƒçš„é•œåƒã€‚

ä¾‹å¦‚è¾“å…¥ï¼š

â€‹                4  
â€‹               /  \ 
â€‹              2   7 
â€‹             / \  / \
â€‹           1  3 6  9
é•œåƒè¾“å‡ºï¼š

â€‹                 4   
â€‹                /  \ 
â€‹               7   2 
â€‹              / \  / \
â€‹             9  6 3  1

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šroot = [4,2,7,1,3,6,9]
è¾“å‡ºï¼š[4,7,2,9,6,3,1]
```



**é™åˆ¶ï¼š**

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 1000
```



![image-20210309084504384](base.assets/image-20210309084504384.png)

![image-20210309110430937](base.assets/image-20210309110430937.png)

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {TreeNode}
 */
//way1: é€’å½’,è¿™æ˜¯æˆ‘è‡ªå·±æƒ³çš„,æ„Ÿè§‰è¿˜è¡Œ..
var mirrorTree = function(root) {
    const recur=(root)=>{
        if(root==null){
            return;
        }
        [root.left,root.right]=[root.right,root.left];
        recur(root.left);
        recur(root.right);
    }
    recur(root);
    return root;
};

//æ›´ç®€æ´çš„é€’å½’å†™æ³•
var mirrorTree = function(root) {
    if(root==null){
        return null;
    }
    [root.left,root.right]=[mirrorTree(root.right),mirrorTree(root.left)];
    return root;
};
```



way2: éå†, åˆ©ç”¨é˜Ÿåˆ—(BFS)

 <img src="base.assets/image-20210309112502650.png" alt="image-20210309112502650" style="zoom: 67%;" />

![image-20210309112559034](base.assets/image-20210309112559034.png)

```js
var mirrorTree = function(root) {
    if(root==null){
        return null;
    }
    let queue=[root];
    while(queue.length){
        let node=queue.shift();
        if(node.left) queue.push(node.left);
        if(node.right) queue.push(node.right);

        [node.left,node.right]=[node.right,node.left];
    }
    return root;
};
```

â—æ³¨æ„ç‰¹ä¾‹æƒ…å†µ(root=null)çš„åˆ¤å®š



#### [â˜…28. å¯¹ç§°çš„äºŒå‰æ ‘](https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/)

éš¾åº¦ç®€å•

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚å¦‚æœä¸€æ£µäºŒå‰æ ‘å’Œå®ƒçš„é•œåƒä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯¹ç§°çš„ã€‚

ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚

 <img src="base.assets/image-20210309114808953.png" alt="image-20210309114808953" style="zoom:80%;" />
ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:

 <img src="base.assets/image-20210309114748890.png" alt="image-20210309114748890" style="zoom:80%;" />

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šroot = [1,2,2,3,4,4,3]
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šroot = [1,2,2,null,3,null,3]
è¾“å‡ºï¼šfalse
```

 

**é™åˆ¶ï¼š**

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 1000
```



![image-20210309114958025](base.assets/image-20210309114958025.png)

```js
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isSymmetric = function(root) {
    if(root==null){
        return true;
    }
    const recur=(left,right)=>{
        if(left==null&&right==null){
            return true;
        }
        if(left==null||right==null||left.val!==right.val){
            return false;
        }
        return recur(left.left,right.right)&&recur(left.right,right.left);
    }
    return recur(root.left,root.right);
};
```



#### [â˜…â˜…29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ](https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]
```

 

**é™åˆ¶ï¼š**

- `0 <= matrix.length <= 100`
- `0 <= matrix[i].length <= 100`

 

![image-20210309144530714](base.assets/image-20210309144530714.png)

 <img src="base.assets/image-20210309144609838.png" alt="image-20210309144609838" style="zoom:50%;" />



![image-20210309144634865](base.assets/image-20210309144634865.png)

```js
/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
    let res=[];
    //ä¸è¦å°‘äº†è¿™ä¸€æ­¥!!! å› ä¸ºåé¢è¦è·å–matrix,lengthæ‰€ä»¥å¿…é¡»åˆ¤æ–­
    //ä¹Ÿä¸è¦å¤§æ„å†™æˆäº† matrix==[] ,è¿™æ˜¯å¼•ç”¨ç±»å‹!!
    if(matrix.length===0) return res;
    let left=0,right=matrix[0].length-1;
    let top=0,bottom=matrix.length-1;
    /*rowè¡¨ç¤ºæ–°çš„çŸ©é˜µçš„è¡Œæ•°,colè¡¨ç¤ºåˆ—æ•°*/
    while (true){
        //å·¦ä¸Š-->å³ä¸Š
        for (let i=left;i<=right;i++) res.push(matrix[top][i]);
        //å³ä¸Š-->å³ä¸‹
        if (++top>bottom) break; //åˆ¤æ–­æ˜¯å¦å¯ä»¥ç»§ç»­
        for (let i=top;i<=bottom;i++) res.push(matrix[i][right]);
        //å³ä¸‹-->å·¦ä¸‹
        if (--right<left) break;
        for (let i=right;i>=left;i--) res.push(matrix[bottom][i]);
        //å·¦ä¸‹-->å·¦ä¸Š
        if (--bottom<top) break;
        for (let i=bottom;i>=top;i--) res.push(matrix[i][left]);
        //åˆ¤æ–­æ˜¯å¦å¯ä»¥ç»§ç»­å·¦ä¸Š-->å³ä¸Š
        if (++left>right) break;
    }
    return res;
};
```

**â–¼å‰‘æŒ‡é‡åˆ·:**

è‡ªå·±å±…ç„¶è¿˜æ˜¯æƒ³å‡ºäº†æ€è·¯ğŸ˜ğŸ˜ğŸ˜

å…³é”®å°±æ˜¯left , right , top, bottomå››ä¸ªå˜é‡







#### â–¼ä¸¾ä¾‹è®©æŠ½è±¡é—®é¢˜å…·ä½“åŒ–

#### [â˜…30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

éš¾åº¦ç®€å•

å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚

 

**ç¤ºä¾‹:**

```js
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.min();      --> è¿”å› -3.
minStack.pop();
minStack.top();      --> è¿”å› 0.
minStack.min();      --> è¿”å› -2.
```

 

**æç¤ºï¼š**

1. å„å‡½æ•°çš„è°ƒç”¨æ€»æ¬¡æ•°ä¸è¶…è¿‡ 20000 æ¬¡



**ğŸŒŸæ€è·¯:  åœ¨æ ˆä¸­æ·»åŠ ä¸€ä¸ªå¹¶è¡Œçš„è¾…åŠ©å…ƒç´ å¸®åŠ©è®¡ç®—min**

![image-20210310105139905](base.assets/image-20210310105139905.png)

```js
/**
 * initialize your data structure here.
 */
var MinStack = function() {
    this.stack=[];
};

/** 
 * @param {number} x
 * @return {void}
 */
MinStack.prototype.push = function(x) {
    if(this.stack.length){
        let min=this.stack[this.stack.length-1][1];
        min<=x? this.stack.push([x,min]) : this.stack.push([x,x]);
    }else{
        this.stack.push([x,x]);
    }
};

/**
 * @return {void}
 */
MinStack.prototype.pop = function() {
    //æ³¨æ„åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
    if(this.stack.length){
        this.stack.pop();
    }
};

/**
 * @return {number}
 */
MinStack.prototype.top = function() {
    if(this.stack.length){
        return this.stack[this.stack.length-1][0];
    }
    return null;
};

/**
 * @return {number}
 */
MinStack.prototype.min = function() {
    if(this.stack.length){
        return this.stack[this.stack.length-1][1];
    }
    return null;
};

/**
 * Your MinStack object will be instantiated and called as such:
 * var obj = new MinStack()
 * obj.push(x)
 * obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.min()
 */
```

è´´ä¸€ç§ä½¿ç”¨ES6çš„classçš„ç®€æ´å†™æ³•

```js
/* 
    è§£é¢˜æ€è·¯ï¼šæ¯æ¬¡push åŸºäºå½“å‰stack è¿­ä»£æ›´æ–° min å±æ€§ Math.min(this.head.min, val)
    const minStack = new MinStack()
    minStack.push(-2) -> [ { val: -2, min: -2 }] 
    minStack.push(0) -> [ { val: -2, min: -2 }, { val: 0, min: -2 }] min = Math.min(-2, 0) => -2
    minStack.push(-3) -> [ { val: -2, min: -2 }, { val: 0, min: -2 }, { val: -3, min: -3 }] 
    minStack.min() -> head.min => -3
    minStack.pop() -> è¿”å› { val: -3, min: -3 } å‰©ä¸‹ [ { val: -2, min: -2 }, { val: 0, min: -2 }] 
    minStack.top() -> head.val => 0
    minStack.min() -> head.min => -2
*/
class MinStack {
    constructor () {
        this.stack = []
    }
    push(val) {
        // è‹¥æ ˆä¸ä¸ºç©º åˆ™è¿­ä»£å¯¹æ¯”æ›´æ–°æœ€å€¼
        this.stack.push({
            val,
            min: this.stack.length ? Math.min(this.head.min, val) : val
        })
    }
    pop() {
        this.stack.pop()
    }
    min() {
       return this.head.min
    }
    top() {
        return this.head.val
    }
    get head() { 
        // å½“å‰æ ˆçš„æœ€åä¸€é¡¹ å³æ ˆé¡¶å¤´ head
        return this.stack[this.stack.length - 1]
    }
}
```



#### [â˜…â˜…31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—](https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ— {1,2,3,4,5} æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ— {4,5,3,2,1} æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† {4,3,5,1,2} å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,5,3,2,1]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š
push(1), push(2), push(3), push(4), pop() -> 4,
push(5), pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,3,5,1,2]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼š1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚
```

 

**æç¤ºï¼š**

1. `0 <= pushed.length == popped.length <= 1000`
2. `0 <= pushed[i], popped[i] < 1000`
3. `pushed` æ˜¯ `popped` çš„æ’åˆ—ã€‚



<span style='color:red; font-weight:bold;font-size:20px;'>  ğŸŒŸä½¿ç”¨è¾…åŠ©æ ˆè¿›è¡Œæ¨¡æ‹Ÿæ ˆçš„å‹å…¥å’Œå¼¹å‡º  </span>

![image-20210310115955990](base.assets/image-20210310115955990.png)

```js
/**
 * @param {number[]} pushed
 * @param {number[]} popped
 * @return {boolean}
 */
var validateStackSequences = function(pushed, popped) {
    //è¾“å…¥ä¸ºç©ºçš„è€ƒè™‘,ä½†åœ¨leetcodeè¿™å¯ä»¥ç•¥å»,å› ä¸ºè¯´æ˜äº†popedæ˜¯pushedæ’åˆ—
    if(!pushed.length&&!popped.length){
        return true;
    }
    if(!pushed.length||!popped.length){
        return false;
    }
    let stack=[];

    while(pushed.length){
        stack.push(pushed.shift());
        while( stack.length&&(stack[stack.length-1]===popped[0]) ){
            stack.pop();
            popped.shift();
        }
    }
    return stack.length===0;
};
```



#### [â˜…32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/)

éš¾åº¦ç®€å•

ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚

 

ä¾‹å¦‚:
ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›ï¼š

```
[3,9,20,15,7]
```

 

**æç¤ºï¼š**

1. `èŠ‚ç‚¹æ€»æ•° <= 1000`



â˜…å±‚åºéå†å…¶å®å°±æ˜¯ä¸€ç§å¹¿åº¦ä¼˜å…ˆéå† BFS

![image-20210310132806696](base.assets/image-20210310132806696.png)

![image-20210310132821770](base.assets/image-20210310132821770.png)

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number[]}
 */
var levelOrder = function(root) {
    //æ³¨æ„è€ƒè™‘ä¸ºnullçš„æƒ…å†µ!!!
    if(root==null) return [];   
    let queue=[root];
    let node,res=[];
    while(queue.length){
        node=queue.shift();
        res.push(node.val);
        if(node.left) queue.push(node.left);
        if(node.right) queue.push(node.right);
    }
    return res;
};
```



#### [32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II easy+](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/)

éš¾åº¦ç®€å•

ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚

 

ä¾‹å¦‚:
ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š

```
[
  [3],
  [9,20],
  [15,7]
]
```

 

**æç¤ºï¼š**

1. `èŠ‚ç‚¹æ€»æ•° <= 1000`



![image-20210310163430122](base.assets/image-20210310163430122.png)

![image-20210310163447131](base.assets/image-20210310163447131.png)

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
var levelOrder = function(root) {
    if(root==null) return [];   
    let queue=[root];
    let node,res=[];
    while(queue.length){
        let temp=[];
        //æ¯æ¬¡å¾ªç¯çš„i=queue.lengthå…¶å®å°±æ˜¯å½“å±‚çš„ç»“ç‚¹æ•°
        //è™½ç„¶queue.lengthåœ¨forä¸­ä¼šå˜åŒ–,ä½†iä¸€å¼€å§‹å°±ç¡®å®šå¥½äº†
        //æ‰€ä»¥ä¸è¦å†™æˆi=0,i<queue.elngth
        for(let i=queue.length;i>0;i--){
            node=queue.shift();
            temp.push(node.val);
            if(node.left) queue.push(node.left);
            if(node.right) queue.push(node.right);
        }
        res.push(temp);
    }
    return res;
};
```



#### [32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)

éš¾åº¦ä¸­ç­‰

è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚

 

ä¾‹å¦‚:
ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š

```
[
  [3],
  [20,9],
  [15,7]
]
```

 

**æç¤ºï¼š**

1. `èŠ‚ç‚¹æ€»æ•° <= 1000`

å’Œä¸Šä¸€é¢˜ç›¸åŒçš„æ€æƒ³, æ ¹æ®å±‚æ•°åˆ¤å®šå¦‚ä½•æ’å…¥

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
var levelOrder = function(root) {
    if(root==null){
        return []
    }
    let queue=[root];
    let res=[],count=0,node;
    while(queue.length){
        let temp=[];
        for(let i=queue.length;i>0;i--){
            node=queue.shift();
            count%2? temp.unshift(node.val):temp.push(node.val);
            if(node.left) queue.push(node.left);
            if(node.right) queue.push(node.right); 
        }
        res.push(temp);
        count++;
    }
    return res;

};
```



#### [â˜…â˜…33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚

 

å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š

```
     5
    / \
   2   6
  / \
 1   3
```

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: [1,6,3,2,5]
è¾“å‡º: false
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: [1,3,2,6,5]
è¾“å‡º: true
```

 

**æç¤ºï¼š**

1. `æ•°ç»„é•¿åº¦ <= 1000`





**äºŒå‰æœç´¢æ ‘å®šä¹‰ï¼š** å·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ << æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ >> æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å…¶å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘

ååºéå†æ ¹èŠ‚ç‚¹å¿…ç„¶æ˜¯æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ 

way1:é€’å½’ç®—æ³•

ğŸŒŸæ€è·¯: å°±æ˜¯å¾ˆç®€å•çš„æ ¹æ®å®šä¹‰è¿›è¡Œé€’å½’, ååºéå†çš„è¯, æœ€åä¸€ä¸ªæ ‘è‚¯å®šä¸ºæ ¹èŠ‚ç‚¹, æ ¹æ®å®šä¹‰å·¦å­æ ‘éœ€è¦éƒ½å°äºæ ¹èŠ‚ç‚¹, å³å­æ ‘éœ€è¦éƒ½å¤§äºæ ¹èŠ‚ç‚¹, å°±æ ¹æ®è¿™ä¸ªæ¥åˆ¤æ–­!

![image-20210311114245294](base.assets/image-20210311114245294.png)

![image-20210311114536931](base.assets/image-20210311114536931.png)



```js
/**
 * @param {number[]} postorder
 * @return {boolean}
 */
var verifyPostorder = function(postorder) {
    const recur=(start,end)=>{
        //è¿™ä¸ªifå°±åŒ…å«äº†è¾“å…¥ä¸ºç©ºæ•°ç»„[]çš„æƒ…å†µ(0>-1) 
        if(start>=end) return true;
        let p=start;
        //åˆ†å‰²å‡ºå·¦å­æ ‘
        while(postorder[p]<postorder[end]) p++;
        let mid=p;  //midæ˜¯å³å­æ ‘åºåˆ—çš„ç¬¬ä¸€ä¸ª
        //åˆ†å‰²å‡ºå³å­æ ‘
        while(postorder[p]>postorder[end]) p++;
        return p===end&&recur(start,mid-1)&&recur(mid,end-1); //æ³¨æ„
    }
    return recur(0,postorder.length-1);
};
```

  ***æˆ‘ä¸çŸ¥é“ä¸ºå•¥è¿™é‡Œå¦‚æœæŠŠpå’Œmidå®šä¹‰åœ¨recurå¤–çš„è¯, åœ¨leetcodeä¸­è¿è¡Œä¼šè¶…æ—¶..

**â—â—â—å¤ä¹ æ—¶å‘ç°çš„é”™è¯¯**

1.  recur(mid, end-1) å†™æˆäº†recur(mid,end) ã€‚è¿™æ ·åˆ°äº†æœ€årecur(end-1,end)æ—¶ä¼šæ— é™é€’å½’
2.  æ³¨æ„å“¦, recurä¸€ä¸ªæ˜¯(start, mid-1) , ä¸€ä¸ªæ˜¯ (mid, end-1) ! è¿™æ˜¯åŒé—­åŒºé—´, éƒ½è¦å‡ä¸€



**â–¼å‰‘æŒ‡é‡åˆ·:**

æ²¡æƒ³åˆ°è¿™ç§æ–¹æ³•, è™½ç„¶æ—¶é—´å¤æ‚åº¦æœ‰ç‚¹é«˜, ä½†è¿˜æ˜¯æŒºå¥½çš„æ€æƒ³!!!







æ›´å¥½çš„æ–¹æ³•(æœ‰ç‚¹éš¾ç†è§£...)

**è¾…åŠ©å•è°ƒæ ˆ**

(è§‰å¾—é•¿å¯ä»¥çœ‹[æˆ‘è‡ªå·±çš„ç†è§£](#jump))

![image-20210311133752613](base.assets/image-20210311133752613.png)

![image-20210311133853964](base.assets/image-20210311133853964.png)

**ğŸš©æ³¨æ„:** è¯¥è§£æ³•åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ•°çš„ååºéå†çš„ä¾æ®å°±æ˜¯  <span style=" color:red;">å•è°ƒé€’å¢æ ˆä¸­æ¯æ¬¡é‡åˆ°çš„é™åºèŠ‚ç‚¹éƒ½æ˜¯æœ€é è¿‘çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹, å¹¶ä¸”rootå§‹ç»ˆä¿æŒæœ€å¤§!</span>

![image-20210311133928044](base.assets/image-20210311133928044.png)

![image-20210311133940263](base.assets/image-20210311133940263.png)

```js
/**
 * @param {number[]} postorder
 * @return {boolean}
 */
var verifyPostorder = function(postorder) {
    let root=Number.MAX_VALUE;
    let stack=[]
	//è€ƒè™‘åˆ°äº†postorder=[]çš„æƒ…å†µ
    for(let i=postorder.length-1;i>=0;i--){
        if(postorder[i]>root) return false;
        while(stack.length&&stack[stack.length-1]>postorder[i]){
            root=stack.pop();
        }
        stack.push(postorder[i]);
    }
    return true;
};
```

<span id="jump">è‡ªå·±ç”»å›¾ç†è§£</span>                      max      å®é™…ä¸Šæ˜¯è¿™æ ·çš„ä¸€ä¸ªç»“æ„

â€‹                                            /

![image-20210311134558685](base.assets/image-20210311134558685.png)

**ğŸš©æ³¨æ„:** è¯¥è§£æ³•åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ•°çš„ååºéå†çš„ä¾æ®å°±æ˜¯  <span style=" color:red;">å•è°ƒé€’å¢æ ˆä¸­æ¯æ¬¡é‡åˆ°çš„é™åºèŠ‚ç‚¹éƒ½æ˜¯æœ€é è¿‘çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹, å¹¶ä¸”rootå§‹ç»ˆä¿æŒæœ€å¤§!</span>







#### [â˜…â˜…34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„](https://leetcode-cn.com/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸€æ£µäºŒå‰æ ‘å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­èŠ‚ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚ä»æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶èŠ‚ç‚¹æ‰€ç»è¿‡çš„èŠ‚ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚

 

**ç¤ºä¾‹:**
ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ `target = 22`ï¼Œ

```
              5
             / \
            4   8
           /   / \
          11  13  4
         /  \    / \
        7    2  5   1
```

è¿”å›:

```
[
   [5,4,11,2],
   [5,8,4,5]
]
```

 

**æç¤ºï¼š**

1. `èŠ‚ç‚¹æ€»æ•° <= 10000`



![image-20210312102154375](base.assets/image-20210312102154375.png)

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {TreeNode} root
 * @param {number} target
 * @return {number[][]}
 */
var pathSum = function(root, target) {
    let res=[];
    let path=[];
    const dfs=node=>{
        if(node==null) return;
        path.push(node.val);
        //æ³¨æ„ç»ˆç‚¹å¿…é¡»æ˜¯å¶èŠ‚ç‚¹!!!  (åˆ«å¿˜äº†è€ƒè™‘è´Ÿå€¼)
        if((path.reduce((a,b)=>a+b) === target)&&!node.left&&!node.right){ 
            res.push([...path]); //å¼•ç”¨å€¼ä¸è¦ç›´æ¥push!!!
        }
        dfs(node.left);
        dfs(node.right);
        path.pop();
    }
    dfs(root);
    return res;
};
```





#### â–¼åˆ†è§£è®©å¤æ‚é—®é¢˜ç®€å•åŒ–



#### [â˜…â˜…35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

éš¾åº¦ä¸­ç­‰

è¯·å®ç° copyRandomList å‡½æ•°ï¼Œå¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é™¤äº†æœ‰ä¸€ä¸ª next æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ª random æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹æˆ–è€… nullã€‚

 

ç¤ºä¾‹ 1ï¼š

![image-20210312121103608](base.assets/image-20210312121103608.png)

è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]
è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]

ç¤ºä¾‹ 2ï¼š

<img src="base.assets/image-20210312121118837.png" alt="image-20210312121118837" style="zoom:67%;" />

è¾“å…¥ï¼šhead = [[1,1],[2,1]]
è¾“å‡ºï¼š[[1,1],[2,1]]
ç¤ºä¾‹ 3ï¼š

<img src="base.assets/image-20210312121132574.png" alt="image-20210312121132574" style="zoom:67%;" />

è¾“å…¥ï¼šhead = [[3,null],[3,0],[3,null]]
è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]
ç¤ºä¾‹ 4ï¼š

è¾“å…¥ï¼šhead = []
è¾“å‡ºï¼š[]
è§£é‡Šï¼šç»™å®šçš„é“¾è¡¨ä¸ºç©ºï¼ˆç©ºæŒ‡é’ˆï¼‰ï¼Œå› æ­¤è¿”å› nullã€‚


æç¤ºï¼š

- -10000 <= Node.val <= 10000
- Node.random ä¸ºç©ºï¼ˆnullï¼‰æˆ–æŒ‡å‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹æ•°ç›®ä¸è¶…è¿‡ 1000 ã€‚



  æœ‰å…¶ä»–å¾ˆå®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•, ä½†æ²¡æœ‰è¿™ä¸ªæ–¹æ³•å¤æ‚åº¦ä½

![image-20210312121846134](base.assets/image-20210312121846134.png)

![image-20210312121008678](base.assets/image-20210312121008678.png)

  é¢˜ç›®ä¸­å·²ç»è¯´äº†æ–°å»ºä¸€ä¸ªé“¾è¡¨ï¼Œæ‰€ä»¥æ–°å»ºNodeçš„å½¢å¼ä¸ç®—å¤æ‚åº¦

```js
/**
 * // Definition for a Node.
 * function Node(val, next, random) {
 *    this.val = val;
 *    this.next = next;
 *    this.random = random;
 * };
 */

/**
 * @param {Node} head
 * @return {Node}
 */
var copyRandomList = function(head) {
    if(head==null) return null;
    //1.æ„å»ºåˆå§‹çš„é“¾è¡¨  1->1->2->2->3->3 ...
    let p=head;
    while(p){
        let node=new Node(p.val,p.next,null);
        p.next=node;
        p=node.next;
    }

    //2.æ„å»ºå„ä¸ªæ–°ç»“ç‚¹çš„randomæŒ‡å‘
    p=head;
    while(p){
        //p.randomæœ‰å¯èƒ½æ˜¯null
        if(p.random){
            p.next.random=p.random.next;
        }
        p=p.next.next;
    }

    //3.æ‹†åˆ†ä¸¤ä¸ªé“¾è¡¨
    p=head;
    let cur=head.next,res=head.next;
    while(cur.next){
        p.next=p.next.next;
        cur.next=cur.next.next;
        p=p.next;
        cur=cur.next;
    }   
    p.next=null;   //åŸé“¾è¡¨ä¸èƒ½å˜,è®°å¾—å¤åŸ!!!
    return res;

};
```

ğŸŒŸä¸»è¦æ€æƒ³å°±æ˜¯åˆ†è§£, å¾ˆéš¾çš„é—®é¢˜åˆ†è§£ä¸ºå‡ ä¸ªç®€å•çš„æ­¥éª¤!!!



**â–¼å‰‘æŒ‡é‡åˆ·:**

æˆ‘åœ¨æƒ³èƒ½ä¸èƒ½æŠŠç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥åˆå¹¶, ä½†å¹¶ä¸è¡Œ, å› ä¸ºç¬¬äºŒæ­¥è¿˜éœ€è¦ä¿è¯å‰é¢çš„èŠ‚ç‚¹æ˜¯å®Œæ•´çš„, å› ä¸ºåé¢çš„randomå¯èƒ½ä¼šæŒ‡å‘å‰é¢çš„èŠ‚ç‚¹.  è€Œåœ¨ç¬¬ä¸‰æ­¥æˆ‘ä»¬ä¼šæ”¹å˜è¿™ä¸ªç»“æ„





#### [â˜…â˜…36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„å¾ªç¯åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„èŠ‚ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­èŠ‚ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚

 

ä¸ºäº†è®©æ‚¨æ›´å¥½åœ°ç†è§£é—®é¢˜ï¼Œä»¥ä¸‹é¢çš„äºŒå‰æœç´¢æ ‘ä¸ºä¾‹ï¼š

 

<img src="base.assets/bstdlloriginalbst.png" alt="img" style="zoom:67%;" />

 



æˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨ã€‚é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰é©±å’Œåç»§æŒ‡é’ˆã€‚å¯¹äºåŒå‘å¾ªç¯é“¾è¡¨ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åç»§æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚

ä¸‹å›¾å±•ç¤ºäº†ä¸Šé¢çš„äºŒå‰æœç´¢æ ‘è½¬åŒ–æˆçš„é“¾è¡¨ã€‚â€œheadâ€ è¡¨ç¤ºæŒ‡å‘é“¾è¡¨ä¸­æœ‰æœ€å°å…ƒç´ çš„èŠ‚ç‚¹ã€‚

 

<img src="base.assets/bstdllreturndll.png" alt="img" style="zoom:67%;" />

 

ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°±åœ°å®Œæˆè½¬æ¢æ“ä½œã€‚å½“è½¬åŒ–å®Œæˆä»¥åï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆéœ€è¦æŒ‡å‘å‰é©±ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å³æŒ‡é’ˆéœ€è¦æŒ‡å‘åç»§ã€‚è¿˜éœ€è¦è¿”å›é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚

 

**æ³¨æ„ï¼š**æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨ã€‚

![image-20210312144250020](base.assets/image-20210312144250020.png)

![image-20210312144307196](base.assets/image-20210312144307196.png)

```js
/**
 * // Definition for a Node.
 * function Node(val,left,right) {
 *    this.val = val;
 *    this.left = left;
 *    this.right = right;
 * };
 */
/**
 * @param {Node} root
 * @return {Node}
 */
//way1: ä»…é€šè¿‡æ”¹å˜æŒ‡é’ˆå®ç°
var treeToDoublyList = function(root) {

    //ç‰¹æ®Šæƒ…å†µçš„è€ƒè™‘
    if(!root) return null;

    let pre,head;
    //1.è¿›è¡Œä¸­åºéå†,è°ƒæ•´æŒ‡é’ˆæŒ‡å‘
    const inOrder=cur=>{
        if(!cur) return;
        inOrder(cur.left);
        if(!pre){  //å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹(æœ€å°çš„é‚£ä¸ª)
            head=cur; //headæŒ‡å‘æœ€å°çš„,å³é“¾è¡¨çš„å¤´æŒ‡é’ˆ
        }else{
            pre.right=cur;  //è¿™ä¸ªå¿…é¡»è¦æ±‚preå­˜åœ¨
        }
        cur.left=pre;  //å³ä½¿æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹ä¹Ÿç¬¦åˆ
        pre=cur;   //preè¿æ¥å®Œæ¯•
        inOrder(cur.right);
    };
    inOrder(root);

    //2.å®Œå–„ (ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„leftå’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„right)
    head.left=pre;
    pre.right=head;
    
    return head;

};
```



```js
//way2:æˆ‘è‡ªå·±æƒ³çš„,å¤šäº†ä¸€ä¸ªä¸ºnçš„ç©ºé—´å­˜å‚¨æŒ‡é’ˆ...
var treeToDoublyList = function(root) {

    //ç‰¹æ®Šæƒ…å†µçš„è€ƒè™‘
    if(!root) return null;

    //1.è¿›è¡Œä¸­åºéå†,å­˜å…¥æ¯ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
    let nodeSet=[];
    const inOrder=node=>{
        if(!node){
            return;
        }
        inOrder(node.left);
        let p=node;
        nodeSet.push(p);
        inOrder(node.right);
    };
    inOrder(root);

    //2.è¿æ¥æˆå¾ªç¯åŒå‘é“¾è¡¨
    if(nodeSet.length===1){
        nodeSet[0].left=nodeSet[0];
        nodeSet[0].right=nodeSet[0];
    }else{
        for(let i=1;i<nodeSet.length-1;i++){
            //é¦–å°¾ç»“ç‚¹å¾…ä¼šå•ç‹¬è€ƒè™‘
            nodeSet[i].left=nodeSet[i-1];
            nodeSet[i].right=nodeSet[i+1];
        }
        nodeSet[0].left=nodeSet[nodeSet.length-1];
        nodeSet[0].right=nodeSet[1];
        nodeSet[nodeSet.length-1].right=nodeSet[0];
        nodeSet[nodeSet.length-1].left=nodeSet[nodeSet.length-2];
    }
    return nodeSet[0];

};
```



#### [â˜…â˜…â˜…37. åºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/)

éš¾åº¦:<span style="color:red">**å›°éš¾**</span>

è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ã€‚

**ç¤ºä¾‹:** 

```
ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š

    1
   / \
  2   3
     / \
    4   5

åºåˆ—åŒ–ä¸º "[1,2,3,null,null,4,5,null,null,null,null]"
```



**ğŸŒŸè¿™é“é¢˜åºåˆ—åŒ–è‡ªå®šä¹‰!!! åªè¦ä½ èƒ½æ ¹æ®è‡ªå·±åºåˆ—åŒ–å‡ºæ¥çš„ä¸œè¥¿ååºåˆ—åŒ–ä¸ºåŸæ¥çš„æ ‘å°±è¡Œ!!**

![image-20210313222711264](base.assets/image-20210313222711264.png)![image-20210313222728287](base.assets/image-20210313222728287.png)



  è¯¦è§£   -- >  [link]([ã€Œæ‰‹ç”»å›¾è§£ã€DFSå’ŒBFSä¸¤ç§è§£æ³•ä¸€ç‚¹ç‚¹å‰–æ - åºåˆ—åŒ–äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/solution/shou-hua-tu-jie-dfshe-bfsliang-chong-jie-fa-er-cha/))

```js
//è‡ªå·±çš„æ‹™åŠ£è§£æ³•  way1:BFS
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */

/**
 * Encodes a tree to a single string.
 *
 * @param {TreeNode} root
 * @return {string}
 */
var serialize = function(root) {
    //â˜…Stringä¼šç›´æ¥æŠŠæ•°ç»„çš„æ‹¬å·å»æ‰,ä¸è¦å†™æˆ String([])
    if(!root) return '[]';
    let queue=[root];
    let res=[];
    while(queue.length){
        let node=queue.shift();
        if(node){
            res.push(node.val);
            queue.push(node.left);
            queue.push(node.right);
        }else{
            res.push("null");
        }
    }
    //å­—é¢é‡è¡¨ç¤ºæ³•ä¹Ÿä¼šå»æ‰åŸæ¥æ•°ç»„ä¸­çš„[]
    return `[${res}]`;

};

/**
 * Decodes your encoded data to tree.
 *
 * @param {string} data
 * @return {TreeNode}
 */
var deserialize = function(data) {
    //0.ç‰¹æ®Šæƒ…å†µè€ƒè™‘
    //Numberä¼šæŠŠç©ºå­—ç¬¦ä¸²è½¬æ¢ä¸º0( Number("")=0 ),æ‰€ä»¥è¿™é‡Œå¿…é¡»åˆ¤æ–­ç©ºå­—ç¬¦ä¸²
    if(!data||data==="[]") return null;
    
    //1.å…ˆå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†æˆæ•°ç»„,å¹¶è¿›è¡Œæ•°å€¼è½¬æ¢
    //leetcodeåˆ¤é¢˜ç¨‹åºæœ‰ç‚¹æ¶å¿ƒ, æœ€åå¦‚æœè¾“å‡ºæ•°ç»„ä¸­çš„å€¼ä¸ºå­—ç¬¦ä¸²çš„è¯ä¼š
    //å¸®ä½ è¿›è¡ŒNumber()è½¬æ¢ã€‚æ‰€ä»¥å­—ç¬¦ä¸²çš„nullä¼šNumber("null")=NaN,æ‰€ä»¥è¿™é‡Œè‡ªå·±è½¬æ¢
    //å½“ç„¶valä¹Ÿå¯èƒ½ä¸ºå­—ç¬¦ä¸²ï¼Œä½†ä¸€èˆ¬åšé¢˜æ—¶è€ƒè™‘ä¸ºint
    let arr=data.substring(1,data.length-1).split(",").map(
        item=> item==="null"? null : Number(item)
    );

    //2.åˆå§‹åŒ–
    let head=new TreeNode(arr[0]);
    let queue=[head];
    let i=1;  //iè®°å½•æ•°ç»„ä¸­çš„åºåˆ—

    //3.BFSè¿›è¡Œåˆ›å»ºç»“ç‚¹
    while(queue.length){           //ä¾æ—§BFS
        //1.ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºä¸€ä¸ªç»“ç‚¹
        let node=queue.shift();
        //2.ä¸ºå…¶åˆ›å»ºå·¦å³å­èŠ‚ç‚¹
        if(arr[i]!=null){
            node.left=new TreeNode(arr[i]);;
            queue.push(node.left);
        }
        i++;
        //å³èŠ‚ç‚¹
        //æœ‰å³å­ç»“ç‚¹ä¸”å³å­ç»“ç‚¹ä¸ä¸ºnull
        if(arr[i]!=null){
            node.right=new TreeNode(arr[i]);;
            queue.push(node.right);
        }
        i++;
    }
    return head;
};

/**
 * Your functions will be called as such:
 * deserialize(serialize(root));
 */
```

**ğŸŒŸæ›´åŠ ä¼˜é›…çš„DFSå…ˆåºéå†æ–¹æ³•**

```js
/**
 * Encodes a tree to a single string.
 *
 * @param {TreeNode} root
 * @return {string}
 */
var serialize = function(root) {
    if(!root) return "x";
    //å¿…é¡»è¦åŠ ä¸€ä¸ªç¬¦å·!!!å› ä¸ºvalè½¬åŒ–ä¸ºå­—ç¬¦ä¸²åé•¿åº¦ä¸å®š!!!
    return root.val+","+serialize(root.left)+","+serialize(root.right);
};

/**
 * Decodes your encoded data to tree.
 *
 * @param {string} data
 * @return {TreeNode}
 */
var deserialize = function(data) {
    let arr=data.split(",");
    const recur=()=>{
        let value=arr.shift();
        if(value==="x"){
            return null;
        }
        let node=new TreeNode(Number(value));
     
        node.left=recur();
        node.right=recur();
        return node;
    }
    return recur();
};
```



#### [â˜…â˜…38. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/)

éš¾åº¦ä¸­ç­‰

<span id="sword38">è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²</span>ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚

 

ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚

 

**ç¤ºä¾‹:**

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼š["abc","acb","bac","bca","cab","cba"]
```

 

**é™åˆ¶ï¼š**

```
1 <= s çš„é•¿åº¦ <= 8
```



![image-20210314113450745](base.assets/image-20210314113450745.png)

â€‹       ğŸŒŸè¿™æ˜¯å¤§ä½¬çš„æ–¹æ³•, æˆ‘ä»¬è‡ªå·±çš„æ–¹æ³•æ²¡æœ‰åªæœ‰ä¸€ä¸ªvisitedæ˜¯å¤šå‡ºæ¥çš„, ç©ºé—´å¤æ‚åº¦åº”è¯¥æ˜¯O(N)

è‡ªå·±çš„ç¬¨æ‹™çš„æ–¹æ³•, æ¨¡ä»¿çš„ä¹‹å‰çš„é¢˜  [æ‰“å°ä»0åˆ°nçš„æ ‘](#jumpTree)

æ—¶é—´è¶…é•¿!!!  æ—¶é—´å¤æ‚åº¦çº¦ä¸º 10^n^

<img src="base.assets/image-20210314110315984.png" alt="image-20210314110315984" style="zoom:67%;" />

```js
/**
 * @param {string} s
 * @return {string[]}
 */
var permutation = function(s) {
    const res=[];
    let arr=s.split("");

    let str=[];   //ç”Ÿæˆçš„å­—ç¬¦å…ˆç”¨æ•°ç»„è¡¨ç¤º!!! Stringä¸å¯å˜ä¸å¥½æ“ä½œ
    const recur=n=>{
        if(n===s.length){
            let k=str.join("");
            //å»é‡
            if(res.indexOf(k)===-1){
                res.push(k);
            }
        }

        for(let i=0;i<s.length;i++){
            if(arr[i]==null) continue;
            str[n]=arr[i]; arr[i]=null;
            recur(n+1);
            arr[i]=str[n];
        }
    }
    recur(0);
    return res;
};
```



åŒæ ·çš„æ€è·¯, æ¢ç§å†™æ³•å¯èƒ½æ›´å¥½!!!

<img src="base.assets/image-20210314112825145.png" alt="image-20210314112825145" style="zoom:67%;" />

```js
/**
 * @param {string} s
 * @return {string[]}
 */
var permutation = function(s) {
    const res=new Set();
    const visited={};

    const recur=path=>{
        if(path.length===s.length){
            res.add(path);
        }
        for(let i=0;i<s.length;i++){
            if(visited[i]) continue;
            visited[i]=true;
            recur(path+s[i]);
            visited[i]=false;
        }
    }
    recur("");
    return [...res];    //Setéœ€è¦è½¬æ¢ä¸ºæ•°ç»„
};
```

â˜…äº®ç‚¹â˜…

1. **é‡‡ç”¨äº†Setç»“æ„, èƒ½å¤Ÿè‡ªåŠ¨å»é‡!!!**
2. **visitedæ¥è®°å½•æ˜¯å¦è¢«è®¿é—®è¿‡**
3. **é€’å½’ç›´æ¥é‡‡ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°, è™½ç„¶immutable,ä½†æ˜¯+ä¼šè¿”å›æ–°çš„**



â˜…ä¹¦ä¸­æ–¹æ³•æ˜¯è¿›è¡Œäº¤æ¢, è¿™é‡Œæ˜¯éå†åˆ¤æ–­, å®é™…ä¸Šå·®ä¸å¤š



### ä¼˜åŒ–æ—¶é—´å’Œç©ºé—´æ•ˆç‡



#### [â˜…39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/)

éš¾åº¦ç®€å•

æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

 

ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1, 2, 3, 2, 2, 2, 5, 4, 2]
è¾“å‡º: 2
```

 

**é™åˆ¶ï¼š**

```
1 <= æ•°ç»„é•¿åº¦ <= 50000
```



æœ¬é¢˜æ˜¯easyï¼Œè‡ªç„¶å¯ä»¥ç”¨æ˜“æƒ³åˆ°çš„hashè¡¨æ–¹æ³•æ¥è¿›è¡Œè§£ç­”

è¿™é‡Œä»‹ç»ä¸¤ç§ä¸å®¹æ˜“æƒ³åˆ°çš„ æ‘©å°”æŠ•ç¥¨å’Œå¿«æ’



![image-20210315102522265](base.assets/image-20210315102522265.png)

![image-20210315102614173](base.assets/image-20210315102614173.png)

<img src="base.assets/image-20210315102614173.png" alt="image-20210315102614173" style="zoom:67%;" />

<img src="base.assets/image-20210315102614173.png" alt="image-20210315102614173" style="zoom:67%;" /><img src="base.assets/image-20210315102641669.png" alt="image-20210315102641669" style="zoom:67%;" />





```js
/**
 * @param {number[]} nums
 * @return {number}
 */
//way1: æ‘©å°”æŠ•ç¥¨
var majorityElement = function(nums) {    
    let most;
    let votes=0;
    for(let i=0;i<nums.length;i++){
        //æ³¨æ„è¿™é‡Œçš„å…ˆåé¡ºåº,å…ˆåˆ¤æ–­votes,å†è¿›è¡Œvotesçš„+,-
        //å› ä¸ºå°±ç®—æŠŠä¼—æ•°ä¹‹å¤–çš„å…¨æŠµæ¶ˆå®Œäº†ä¹Ÿè¿˜ä¼šå‰©ä¸‹ä¸€ä¸ªä¼—æ•°,æ‰€ä»¥å…ˆåˆ¤æ–­ä¸Šè½®çš„æŠ•ç¥¨ç»“æœ
        if(votes===0) most=nums[i];
        nums[i]===most? votes++:votes--;
    }
    return most;
};

//way2:å¿«æ’
var majorityElement = function(nums) {
    
    const part=(low,high)=>{
        let key=nums[low];
        while(low<high){
            while(low<high&&key<=nums[high]) high--;
            nums[low]=nums[high];
            while(low<high&&key>=nums[low]) low++;
            nums[high]=nums[low];
        }
        nums[low]=key;
        return low;
    }

    let medium=Math.floor(nums.length/2);
    // let most=nums[medium];  //è€ƒè™‘length=1çš„æƒ…å†µ
    const sort=(low,high)=>{
        if(low<high){
            let mid=part(low,high);
            if(mid===medium){
                return;
            }
            else if(mid>medium){
                sort(low,mid-1);
            }
            else{
                sort(mid+1,high);
            }
        }
    }
    sort(0,nums.length-1);
   
    return nums[medium];


};
```



#### [â˜…40. æœ€å°çš„kä¸ªæ•°](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥æ•´æ•°æ•°ç»„ `arr` ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ `k` ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [3,2,1], k = 2
è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šarr = [0,1,2,1], k = 1
è¾“å‡ºï¼š[0]
```

 

**é™åˆ¶ï¼š**

- `0 <= k <= arr.length <= 10000`
- `0 <= arr[i] <= 10000`



æœ€ç®€å•çš„: O(nlogn)  ä¸æ¨è 

```js
var getLeastNumbers = function(arr, k) {
    return arr.sort((a,b)=>a-b).slice(0,k);
};
```

way1:ä¼šæ”¹å˜åŸæ•°ç»„çš„å¿«æ’  O(n)

â˜…mid=k or k-1 éƒ½å¯ä»¥æ‰¾å‡ºå‰nä¸ªæ•°

```js
/**
 * @param {number[]} arr
 * @param {number} k
 * @return {number[]}
 */
var getLeastNumbers = function(nums, k) {
      const part=(low,high)=>{
        let key=nums[low];
        while(low<high){
            while(low<high&&key<=nums[high]) high--;
            nums[low]=nums[high];
            while(low<high&&key>=nums[low]) low++;
            nums[high]=nums[low];
        }
        nums[low]=key;
        return low;
    }

    let res=[];  //è€ƒè™‘k=arr.length=0çš„ç‰¹æ®Šæƒ…å†µ
    const sort=(low,high)=>{
        if(low<k){  //æ³¨æ„è¿™ä¸ªåˆ¤æ–­æ¡ä»¶! è¦è€ƒè™‘åˆ°k=arr.lengthçš„æƒ…å†µ!
            let mid=part(low,high);
            if(mid===k){
                res=nums.slice(0,mid);    
            }else if(mid===k-1){
                res=nums.slice(0,mid+1);
            }else if(mid<k-1){
                sort(mid+1,high);
            }else if(mid>k){
                sort(low,mid-1);
            }
        }
    }
    sort(0,nums.length-1);
    return res;

};
```



way2: O(nlogk) æœ€å¤§å †çš„æ–¹æ³•    (å®ç°å †å¤ªç¹ç, äº†è§£å³å¥½)

ğŸŒŸä¼˜ç‚¹

1. ä¸éœ€è¦ä¿®æ”¹åŸæ•°ç»„
2. é€‚ç”¨äºæµ·é‡æ•°æ®

```js
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-02-21-least-nums/
function swap(arr, i, j) {
    [arr[i], arr[j]] = [arr[j], arr[i]];
}

class MaxHeap {
    constructor(arr = []) {
        this.container = [];
        if (Array.isArray(arr)) {
            arr.forEach(this.insert.bind(this));
        }
    }

    insert(data) {
        const { container } = this;

        container.push(data);
        let index = container.length - 1;
        while (index) {
            let parent = Math.floor((index - 1) / 2);
            if (container[index] <= container[parent]) {
                break;
            }
            swap(container, index, parent);
            index = parent;
        }
    }

    extract() {
        const { container } = this;
        if (!container.length) {
            return null;
        }

        swap(container, 0, container.length - 1);
        const res = container.pop();
        const length = container.length;
        let index = 0,
            exchange = index * 2 + 1;

        //ä¹‹å‰å·²ç»æ˜¯å †ç»“æ„,è¿™é‡Œåªæ˜¯äº¤æ¢äº†ä¸€ä¸‹é¦–å°¾,æ‰€ä»¥ç›´æ¥ä»é¡¶éƒ¨å‘ä¸‹éå†
        while (exchange < length) {
            // å¦‚æœæœ‰å³èŠ‚ç‚¹ï¼Œå¹¶ä¸”å³èŠ‚ç‚¹çš„å€¼å¤§äºå·¦èŠ‚ç‚¹çš„å€¼
            let right = index * 2 + 2;
            if (right < length && container[right] > container[exchange]) {
                exchange = right;
            }
            if (container[exchange] <= container[index]) {
                break;
            }
            swap(container, exchange, index);
            index = exchange;
            exchange = index * 2 + 1;
        }

        return res;
    }

    top() {
        if (this.container.length) return this.container[0];
        return null;
    }
}

/**
 * @param {number[]} arr
 * @param {number} k
 * @return {number[]}
 */
var getLeastNumbers = function(arr, k) {
    const length = arr.length;
    if (k >= length) {
        return arr;
    }

    const heap = new MaxHeap(arr.slice(0, k));
    for (let i = k; i < length; ++i) {
        if (heap.top() > arr[i]) {
            heap.extract();
            heap.insert(arr[i]);
        }
    }
    return heap.container;
};

```



#### [â˜…â˜…â˜…41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°](https://leetcode-cn.com/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/)

éš¾åº¦å›°éš¾

å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚

ä¾‹å¦‚ï¼Œ

[2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3

[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5

è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š

- void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚
- double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š
["MedianFinder","addNum","addNum","findMedian","addNum","findMedian"]
[[],[1],[2],[],[3],[]]
è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š
["MedianFinder","addNum","findMedian","addNum","findMedian"]
[[],[2],[],[3],[]]
è¾“å‡ºï¼š[null,null,2.00000,null,2.50000]
```

 

**é™åˆ¶ï¼š**

- æœ€å¤šä¼šå¯¹ `addNumã€findMedian` è¿›è¡Œ `50000` æ¬¡è°ƒç”¨ã€‚



[way2:äºŒåˆ†æŸ¥æ‰¾](#bin47)    [â˜…way3:æœ€å¤§å †æœ€å°å †](#heap41)



way1.æœ€å®¹æ˜“æƒ³åˆ°çš„, ç”¨æ¥ç†è§£ä¸‹é¢˜æ„, æ’å¥½åºåå†æ‰¾   O(nlogn)

```js
/**
 * initialize your data structure here.
 */
var MedianFinder = function() {
    this.data=[];
};

/** 
 * @param {number} num
 * @return {void}
 */
MedianFinder.prototype.addNum = function(num) {
    this.data.push(num);
};

/**
 * @return {number}
 */
MedianFinder.prototype.findMedian = function() {
    let len=this.data.length;
    if(!len){
        return null;
    }
    this.data.sort((a,b)=>a-b);
    let mid=Math.floor((len-1)/2);
    if(len%2===1){
        return this.data[mid];
    }else{
        return (this.data[mid]+this.data[mid+1])/2;
    }
};

/**
 * Your MedianFinder object will be instantiated and called as such:
 * var obj = new MedianFinder()
 * obj.addNum(num)
 * var param_2 = obj.findMedian()
 */
```





<span id="bin47">**â˜…è¾ƒå¥½çš„äºŒåˆ†æŸ¥æ‰¾æ³•**</span>

å…¶å®ä¸éœ€è¦æ¯æ¬¡æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œéƒ½å¯¹å…¨éƒ¨å…ƒç´ é‡æ–°æ’åºã€‚å¦‚æœä¹‹å‰ä¸€ç›´ä¿è¯å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ·»åŠ æ–°å…ƒç´ çš„æ—¶å€™ï¼Œåªéœ€è¦å°†å…ƒç´ æ’å…¥åˆ°æ­£ç¡®ä½ç½®å³å¯ï¼ŒæŸ¥æ‰¾æ­£ç¡®ä½ç½®å¯ä»¥é€šè¿‡ã€ŒäºŒåˆ†æœç´¢ã€æ¥å®Œæˆã€‚

ä¸ºäº†ä¿è¯ä¹‹å‰çš„å…ƒç´ æœ‰åºï¼Œé’ˆå¯¹æ¯ä¸ªæ–°æ·»åŠ çš„å…ƒç´ éƒ½å°†å…¶æ”¾å…¥æ­£ç¡®ä½ç½®ã€‚

**æ·»åŠ å…ƒç´ æ—¶é—´å¤æ‚åº¦: O(n)**   äºŒåˆ†æŸ¥æ‰¾éœ€è¦O(logN)çš„å¤æ‚åº¦ï¼Œç§»åŠ¨å…ƒç´ éœ€è¦O(N)å¤æ‚åº¦

**æŸ¥æ‰¾å…ƒç´ æ—¶é—´å¤æ‚åº¦: O(1)**

```js
/**
 * initialize your data structure here.
 */
var MedianFinder = function() {
    this.data=[];
};

/** 
 * @param {number} num
 * @return {void}
 */
MedianFinder.prototype.addNum = function(num) {
    //è¿™é‡Œæ¯æ¬¡éƒ½æ˜¯æ’å¥½åºçš„æ’å…¥,æ‰€ä»¥ç›´æ¥äºŒåˆ†æŸ¥æ‰¾å°±å¥½!!!ä¸å»ºè®®ä½¿ç”¨å¿«æ’
    if(!this.data.length){
        this.data.push(num);
        return;   //åˆ«å¿˜äº†è¿”å›!!!
    }

    let low=0,high=this.data.length-1;
    //å¿…é¡»è¦åŠ ä¸Š = ,ä¸ç„¶æœ€åæ— æ³•æ¸…æ¥šåˆ¤æ–­,
    //æ¯”å¦‚ 1,3,4æ’å…¥2, æœ€åæ— æ³•åˆ¤æ–­æ˜¯æ’åœ¨1å‰è¿˜æ˜¯1å
    while(low<=high){    
        let mid=Math.floor((low+high)/2);
        if(this.data[mid]===num){
            this.data.splice(mid,0,num); //åœ¨midå¤„æ’å…¥num
            return;
        }else if(this.data[mid]>num){
            high=mid-1;
        }else{
            low=mid+1;
        }
    }
    //æœ€ålow=highæ—¶ä¼šå¯¹arr[mid]å’Œnumè¿›è¡Œæ¯”è¾ƒ,numæ›´å°å°±æ’åœ¨arr[mid]
    //numæ›´å¤§,åˆ™æ’åœ¨arr[mid+1],åˆšå¥½å¯ä»¥ç”¨lowæ¥æ›¿ä»£
    this.data.splice(low,0,num);
};

/**
 * @return {number}
 */
MedianFinder.prototype.findMedian = function() {
    let len=this.data.length;
    if(!len){
        return null;
    }
    let mid=Math.floor((len-1)/2);
    if(len%2){
        return this.data[mid];
    }else{
        return (this.data[mid]+this.data[mid+1])/2;
    }
};
```



<span id="heap41">**â–¼æœ€å¥½çš„æ–¹æ³• æœ€å¤§å †å’Œæœ€å°å †**</span>



ç®—æ³•æ€è·¯:

â€‹	â˜…é¦–å…ˆå»ºç«‹å †ç»“æ„!!!

â€‹	â˜…æ’å…¥æ—¶å¯¹äºä¼ è¿›æ¥çš„æ•°æˆ‘ä»¬ä¸€å¼€å§‹å…¶å®æ˜¯ä¸çŸ¥é“è¯¥æ”¾åœ¨å“ªé‡Œçš„, æ‰€ä»¥å°±å…ˆè¿›å…¥maxHeapå†å–æœ€å¤§å…ƒç´ æ”¾è‡³minHeap, æ­¤æ—¶ä¿è¯äº†å¤§é¡¶å †å…ƒç´ éƒ½å°äºå°é¡¶å †, ç„¶åæˆ‘ä»¬å†åˆ¤æ–­é•¿åº¦è¿›è¡Œç›¸å…³è°ƒæ•´ã€‚





![image-20210316141239136](base.assets/image-20210316141239136.png)

```js
//å †ç»“æ„å®ç°
const maxHeapCmp=(x,y)=>x>y;  //æœ€å¤§å †
const swap=(arr,i,j)=>([arr[i], arr[j]] = [arr[j], arr[i]]);
class Heap{
    /*é»˜è®¤æœ€å¤§å †*/
    constructor(cmp=maxHeapCmp) {
        this.container=[];
        this.cmp=cmp;
    }

    insert(data){
        const  {container,cmp}=this;
        container.push(data);
        let index=container.length-1;
        //å»ºç«‹å¤§é¡¶å †/å°é¡¶å †
        while (index) {
            let parent = Math.floor((index - 1) / 2);
            if (!cmp(container[index],container[parent])){
                return;
            }
            swap(container,index,parent);
            index=parent;
        }
    }

    extract(){
        const  {container,cmp}=this;
        if (!container.length) return null;
        swap(container,0,container.length-1);
        const res=container.pop();  //å¾—åˆ°ç»“æœ

        //è°ƒæ•´å †
        const length=container.length;
        let index=0,exchange=index*2+1;
        while (exchange<length){
            //ç”±æ¯”è¾ƒå‡½æ•°ç¡®å®šå¤§å°é¡¶å †. å¦‚æœè¿™é‡Œæ˜¯å¤§é¡¶å †,åˆ™éœ€è¦å¤§çš„,
            // æ‰€ä»¥æˆ‘ä»¬åˆ¤æ–­çš„æ˜¯å³èŠ‚ç‚¹æ˜¯å¦å¤§äºå·¦èŠ‚ç‚¹
            if (exchange+1<length && cmp(container[exchange+1],container[exchange])){
                exchange++;
            }
            if (cmp(container[exchange],container[index])){
                swap(container,exchange,index);
                index=exchange;
                exchange=exchange*2+1;
            }else {   //è¿™æ˜¯å»ºç«‹åœ¨åŸæœ¬ä¸‹é¢çš„éƒ½æ˜¯å¤§é¡¶å †çš„æƒ…å†µ,æ‰€ä»¥å¯ä»¥break
                break;
            }
        }
        return res;
    }

    top(){
        return  this.container.length? this.container[0]:null;
    }
}

/**
 * initialize your data structure here.
 */
var MedianFinder = function() {
    this.maxHeap=new Heap();
    this.minHeap=new Heap((x,y)=>x<y);
};

/** 
 * @param {number} num
 * @return {void}
 */
MedianFinder.prototype.addNum = function(num) {
    //å¯¹äºä¼ è¿›æ¥çš„æ•°æˆ‘ä»¬ä¸€å¼€å§‹å…¶å®æ˜¯ä¸çŸ¥é“è¯¥æ”¾åœ¨å“ªé‡Œçš„
    //â˜…æ‰€ä»¥å°±å…ˆè¿›å…¥maxHeapå†å–æœ€å¤§å…ƒç´ æ”¾è‡³minHeap
    //æ­¤æ—¶æˆ‘ä»¬å†åˆ¤æ–­é•¿åº¦è¿›è¡Œç›¸å…³è°ƒæ•´
    this.maxHeap.insert(num);
    this.minHeap.insert(this.maxHeap.extract());
    if(this.maxHeap.container.length<this.minHeap.container.length){
        this.maxHeap.insert(this.minHeap.extract());
    }

};

/**
 * @return {number}
 */
MedianFinder.prototype.findMedian = function() {
   return this.maxHeap.container.length>this.minHeap.container.length ?
    this.maxHeap.top() : (this.maxHeap.top()+this.minHeap.top())/2; 
};

/**
 * Your MedianFinder object will be instantiated and called as such:
 * var obj = new MedianFinder()
 * obj.addNum(num)
 * var param_2 = obj.findMedian()
 */
```









#### [â˜…42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

<span id="sw42">éš¾åº¦ç®€å•</span>

è¾“å…¥ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–è¿ç»­å¤šä¸ªæ•´æ•°ç»„æˆä¸€ä¸ªå­æ•°ç»„ã€‚æ±‚æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„æœ€å¤§å€¼ã€‚

è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚

 

**ç¤ºä¾‹1:**

```
è¾“å…¥: nums = [-2,1,-3,4,-1,2,1,-5,4]
è¾“å‡º: 6
è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
```

 

**æç¤ºï¼š**

- `1 <= arr.length <= 10^5`
- `-100 <= arr[i] <= 100`



way1:

åˆ†ææ•°ç»„è§„å¾‹, æˆ‘ä»¬å‘ç°åªè¦å‡ºç°curSum<0çš„æƒ…å†µå°±å¯ä»¥æŠ›å¼ƒæ‰å‰é¢çš„æ•°ç»„, ä¸ºä»€ä¹ˆå¯ä»¥æŠ›å¼ƒå‘¢?

1. ä¸‹ä¸€ä¸ªå€¼nums[i]å¤§äº0, é‚£ä¹ˆè‚¯å®šé‡æ–°ä» i è¿™é‡Œå¼€å§‹å¯ä»¥å¾—åˆ°æ›´å¤§çš„
2. ä¸‹ä¸€ä¸ªå€¼nums[i]å°äº0, å¦‚æœnums[i]>curSum, é‚£ä¹ˆå’Œä¸Šé¢åŒç† 
3. ä¸‹ä¸€ä¸ªå€¼nums[i]å°äº0, å¦‚æœnums[i]<curSum, ä¸ºä»€ä¹ˆè¿˜å¯ä»¥ä»nums[i]å¼€å§‹å‘¢? é¦–å…ˆnums[i]<0è‚¯å®šæ˜¯ä¸èƒ½å†æ¬¡åŠ å…¥curSumäº†, è¿™æ˜¯å› ä¸ºå†åŠ è¿›å»åªä¼šæ›´å° (å¦‚æœåœ¨æƒ³åé¢å¦‚æœå‡ºç°æ›´å¤§çš„æ­£æ•°çš„è¯å¯ä»¥å›çœ‹1)ã€‚è€Œä¸”ä¹Ÿä¸å¿…æ‹…å¿ƒåé¢ä»nums[i]å¼€å§‹å¾—åˆ°çš„å€¼æ›´å°æ€ä¹ˆåŠï¼Œ å› ä¸ºè¿™é‡Œæœ‰ä¸€ä¸ªmaxSumæ¥è®°å½•æœ€å¤§å€¼



å¦‚æœcurSum>0å°±ä¸€ç›´åŠ å°±å¥½äº†ï¼Œå› ä¸ºmaxSumä¹Ÿè®°å½•äº†æœ€å¤§å€¼ä¸ç”¨æ‹…å¿ƒ

â€‹     4  -2  17  ï¼šè¿™ç§æƒ…å†µä¹Ÿæ˜¯ä»4å¼€å§‹æœ€å¤§ï¼ï¼ï¼



**æ—¶é—´å¤æ‚åº¦**:  O(n)

**ç©ºé—´å¤æ‚åº¦**:  O(1)

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    if(!nums.length) return null;
    if(nums.length===1) return nums[0];
    let curSum=0;
    let maxSum=-Infinity;
    for(let i=0;i<nums.length;i++){
        if(curSum<0){
            curSum=nums[i];
        }else{
            curSum+=nums[i];
        }
        if(maxSum<curSum){
            maxSum=curSum;
        }
    }
    return maxSum;
};
```



way2ï¼šåŠ¨æ€è§„åˆ’

æ€è·¯å’Œä¸Šé¢ä¸€æ ·!!!

![image-20210318114532973](base.assets/image-20210318114532973.png)



**æ—¶é—´å¤æ‚åº¦**:  O(n)

**ç©ºé—´å¤æ‚åº¦**:  O(1)   ä¸€èˆ¬æ¥è¯´ä¸å»ºè®®ä¿®æ”¹åŸæ•°ç»„...

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    let maxSum=nums[0];
    for(let i=1;i<nums.length;i++){
        if(nums[i-1]>0){
            nums[i]+=nums[i-1];
        }
        maxSum=Math.max(maxSum,nums[i]); 
    }
    return maxSum;
};
```



ğŸŒŸğŸŒŸğŸŒŸä¸ºä»€ä¹ˆè¿™é“easyèƒ½èŠ±æˆ‘è¿™ä¹ˆä¹…æ—¶é—´?

1. æ²¡å»æ€è€ƒæ•°ç»„çš„è§„å¾‹, é’»å…¥æ­»èƒ¡åŒ
2. ç†è§£<span style="color:red; font-weight:bold;">è´Ÿè´¡çŒ®</span>, è¿™é“é¢˜è¿™è¦æ€æƒ³å°±æ˜¯ â‘ è´Ÿè´¡çŒ®ç›´æ¥ä¸è€ƒè™‘  â‘¡ä¿å­˜æœ€å¤§å€¼





#### [â˜…â˜…â˜…43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°](https://leetcode-cn.com/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/)

éš¾åº¦å›°éš¾

è¾“å…¥ä¸€ä¸ªæ•´æ•° `n` ï¼Œæ±‚1ï½nè¿™nä¸ªæ•´æ•°çš„åè¿›åˆ¶è¡¨ç¤ºä¸­1å‡ºç°çš„æ¬¡æ•°ã€‚

ä¾‹å¦‚ï¼Œè¾“å…¥12ï¼Œ1ï½12è¿™äº›æ•´æ•°ä¸­åŒ…å«1 çš„æ•°å­—æœ‰1ã€10ã€11å’Œ12ï¼Œ1ä¸€å…±å‡ºç°äº†5æ¬¡ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 12
è¾“å‡ºï¼š5
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 13
è¾“å‡ºï¼š6
```

 

**é™åˆ¶ï¼š**

- `1 <= n < 2^31`



ä¸‹é¢çš„æ–¹æ³•éƒ½æ˜¯è¿™ä¸ªæ—¶é—´å¤æ‚åº¦

**æ—¶é—´å¤æ‚åº¦: O(logn)**

**ç©ºé—´å¤æ‚åº¦: O(1)**

way1:æ‰¾åˆ°è§„å¾‹åä»æœ€é«˜ä½å¼€å§‹å¾ªç¯

```js
/**
 * @param {number} n
 * @return {number}
 */
//2^31=2,147,483,648
    // è¿™ç§é¢˜å°±è¦æ‰¾è§„å¾‹ï¼Œä¸ä¹‹å‰åšçš„é‚£é“æ‰¾æŸä¸ªä½ç½®æ˜¯ä»€ä¹ˆæ•°å­—çš„ç±»ä¼¼
    // ç°åœ¨æœ‰ä¸€ä¸ªå‡½æ•°f(n)ï¼Œä»£è¡¨nä½ä¸Šæœ‰å¤šå°‘ä¸ª1
    //         f(0) = 0
    //  0~9    f(1) = 1
    //  0~99   f(2) = 10 + 10*f(1) = 20  (10+ä¸º  10~19ä¸­åä½æœ‰10ä¸ª1)
    //  0~999  f(3) = 100 + 10*f(2) = 300  (100+ä¸º  100~199ä¸­ç™¾ä½æœ‰100ä¸ª1)
    //  0~9999 f(4) = 1000 + 10*f(3) = 4000 (...)
    // ...
    // å¦‚ 5467 ä¸­æœ‰å¤šå°‘ä¸ª1
    // 1. 0~5000ä¸­æœ‰ 5 * f(3) + 1000 = 2500ä¸ª
    // 2. 0~400ä¸­æœ‰ 4 * f(2) + 100 = 180ä¸ª
    // 3. 0~60ä¸­æœ‰ 6 * f(1) + 10 = 16ä¸ª
    // 4. 0~7ä¸­æœ‰ 7 * f(0) + 1 = 1ä¸ª
    // æ‰€ä»¥5467ä¸­æœ‰2697ä¸ª1

var countDigitOne = function(n) {
    let f = [0,1,20,300,4000,50000,600000,7000000,80000000,900000000,10000000000];
    let count=0;
    let str=String(n),index=str.length-1;
    let pow=Math.pow(10,str.length-1);
    for (let i=0;i<str.length;i++){
        count+=f[index--]*str[i];
        //è¯¥ä½ç½®æ•°å­—ä¸º1çš„æƒ…å†µ æ¯”å¦‚ 123 å°±éœ€è¦åŠ ä¸Š100~123ä¸­çš„24ä¸ª1
        //è¿™é‡Œä¹Ÿè€ƒè™‘äº†æœ«ä½ä¸º1çš„æƒ…å†µ
        if (str[i]==="1"){
            count+=Number(str.slice(i+1))+1;
        }
        if (str[i]>'1'){
            count+=pow;
        }
        pow/=10;
    }
    return count;
};
```





way2:ä¾æ¬¡è®¡ç®—æ¯ä¸€ä½å‡ºç°1çš„æ¬¡æ•°

 <img src="base.assets/image-20210318145014572.png" alt="image-20210318145014572" style="zoom:67%;" />

ğŸŒŸé‡ç‚¹åˆ†æ¸…è¿™ä¸‰ç§æƒ…å†µ

 <img src="base.assets/image-20210318145106634.png" alt="image-20210318145106634" style="zoom:67%;" />

 <img src="base.assets/image-20210318145124533.png" alt="image-20210318145124533" style="zoom:67%;" />

 <img src="base.assets/image-20210318145143936.png" alt="image-20210318145143936" style="zoom:67%;" />



ğŸŒŸä»cur=0é€’å¢



```js
/**
 * @param {number} n
 * @return {number}
 */
var countDigitOne = function(n) {
    let cur=n%10,low=0,count=0,digit=1,
    high=Math.floor(n/10);
    //â˜…è®¡ç®—æ¯ä¸€ä½å‡ºç°1çš„æ¬¡æ•°
    //curå’Œhighéƒ½ä¸º0è‚¯å®šå°±ç»“æŸäº†
    while(cur!==0||high!==0){
        if(cur===0){
            //curå‡ºç°1çš„æ¬¡æ•°åªç”±highå†³å®š
            count+=high*digit;  
        }else if(cur===1){
            //curå‡ºç°1çš„æ¬¡æ•°ç”±highå’Œlowå…±åŒå†³å®š
            count+=high*digit+low+1;
        }else {
            //curå‡ºç°1çš„æ¬¡æ•°åªç”±highå†³å®š
            count+=high*digit+digit;
        }
        low+=cur*digit;
        cur=high%10;
        high=Math.floor(high/10);
        digit*=10;   
    }
    return count;
};
```







#### [â˜…â˜…44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/)

éš¾åº¦ä¸­ç­‰

æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4ï¼Œç­‰ç­‰ã€‚

è¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä»»æ„ç¬¬nä½å¯¹åº”çš„æ•°å­—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 11
è¾“å‡ºï¼š0
```

 

**é™åˆ¶ï¼š**

- `0 <= n < 2^31`





è‡ªå·±çš„æ–¹æ³• (ğŸ˜­ğŸ˜­ğŸ˜­å¥½æ­¹æ˜¯è‡ªå·±è®¤è®¤çœŸçœŸå†™äº†åŠä¸ªå¤šå°æ—¶çš„)

æ€è·¯æ¥æºäºä¸Šä¸€é“é¢˜, æ‰¾è§„å¾‹

0~9 :                    10
10~99 :                9x20
100~999 :            9x300
1000~9999 :       9x4000           

ğŸŒŸæ‰¾åˆ°nä½äºå“ªä¸€ä¸ªä½æ•°çš„åŒºé—´, å†è¿›è¡Œç»†åˆ†æŸ¥æ‰¾

![image-20210319102927500](base.assets/image-20210319102927500.png)

```js
/**
 * @param {number} n
 * @return {number}
 */
var findNthDigit = function(n) {
    //1.forå¾ªç¯æ‰¾åˆ°nçš„å¯¹åº”çš„å€¼çš„ä½æ•°
    //2.n-pre / ä½æ•°

    if(n<10) return n;
    let count=10,digit=1;
    while(count<n){
        digit++;
        count+=(9*digit*Math.pow(10,digit-1));
    }
    count-=(9*digit*Math.pow(10,digit-1));
    let remain=n-count,
        index=Math.floor(remain/digit),
        loc=remain%digit,
        num=String(Math.pow(10,digit-1)+index);
    return num[loc];
};
```

(çœ‹äº†ä¸‹ä¹¦, å‘ç°è‡ªå·±çš„æœ¬åŠæ³•å±…ç„¶å’Œä¹¦ä¸è°‹è€Œåˆ!!!ğŸ˜ğŸ˜ğŸ˜)



#### [â˜…â˜…45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°](https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/)

éš¾åº¦ä¸­ç­‰

è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [10,2]
è¾“å‡º: "102"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,30,34,5,9]
è¾“å‡º: "3033459"
```

 

**æç¤º:**

- `0 < nums.length <= 100`

**è¯´æ˜:**

- è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°
- æ‹¼æ¥èµ·æ¥çš„æ•°å­—å¯èƒ½ä¼šæœ‰å‰å¯¼ 0ï¼Œæœ€åç»“æœä¸éœ€è¦å»æ‰å‰å¯¼ 0





ä¸€è¡Œä»£ç ç‰ˆ:  åˆ©ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒæ–¹æ³• a+b<b+a

```js
var minNumber = function(nums) {
    return nums.sort((a,b)=>(String(a)+String(b))-(String(b)+String(a))).join("");
};
```

â¤è¿™ç§å†™æ³•æ’åºè§„åˆ™çš„ä¼ é€’æ€§è¯æ˜ï¼š

```python
å­—ç¬¦ä¸² xy < yx , yz < zy ï¼Œéœ€è¯æ˜ xz < zx ä¸€å®šæˆç«‹ã€‚

è®¾åè¿›åˆ¶æ•° x, y, z åˆ†åˆ«æœ‰ a, b, c ä½ï¼Œåˆ™æœ‰ï¼š
ï¼ˆå·¦è¾¹æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå³è¾¹æ˜¯åè¿›åˆ¶æ•°è®¡ç®—ï¼Œä¸¤è€…ç­‰ä»·ï¼‰
xy = x * 10^b + y 
yx = y * 10^a + x

åˆ™ xy < yx å¯è½¬åŒ–ä¸ºï¼š
x * 10^b + y < y * 10^a + x
x (10^b - 1) < y (10^a - 1)
x / (10^a - 1) < y / (10^b - 1)     â‘ 

åŒç†ï¼Œ å¯å°† yz < zy è½¬åŒ–ä¸ºï¼š
y / (10^b - 1) < z / (10^c - 1)     â‘¡

å°† â‘  â‘¡ åˆå¹¶ï¼Œæ•´ç†å¾—ï¼š
x / (10^a - 1) < y / (10^b - 1) < z / (10^c - 1)
x / (10^a - 1) < z / (10^c - 1)
x (10^c - 1) < z (10^a - 1)
x * 10^c + z < z * 10^a + x
âˆ´  å¯æ¨å‡º xz < zx ï¼Œä¼ é€’æ€§è¯æ¯•
```







è‡ªå·±å†™çš„,èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶ğŸ˜­ğŸ˜­ğŸ˜­

![image-20210319133814446](base.assets/image-20210319133814446.png)

```js
/**
 * @param {number[]} nums
 * @return {string}
 */
//ç†è§£è¯¥æ–¹æ³•éœ€è¦çš„ç‰¹ä¾‹
//1. 34 344  2. 34 342 3. 34 345
//4. 345 3453453  
var minNumber = function(nums) {
    const cmp=(a,b)=>{
        let m=a.toString(),n=b.toString();
        let k=m.length>n.length? m:n;        
        for(let i=0;i<k.length;i++){
            if(!m[i]||!n[i]){
                let j=0,min=i;   //minæ˜¯é•¿åº¦æ›´å°çš„é‚£ä¸€ä¸ªçš„é•¿åº¦
                while(i<k.length){
                    if(k[i]>k[j]) {return m.length-n.length;}       //è¿”å›é•¿åº¦å°çš„é‚£ä¸€ä¸ª
                    else if(k[i]<k[j]) {return -(m.length-n.length) }   //è¿”å›é•¿åº¦å¤§çš„é‚£ä¸€ä¸ª
                    i++; j= j===min? 0:j+1; 
                }
                //èƒ½åˆ°è¿™ä¸€æ­¥è¯´æ˜ç±»ä¼¼äºè¿™ç§ç»„æˆ 345  34534534 
                //é•¿åº¦å¤§çš„å®Œå…¨ç”±é•¿åº¦å°çš„ç»„æˆ
                if(j===0) return 0;
                //ç”±äºab,baè¿™ä¸¤ç§æ’åºä¸‹åªæœ‰æœ€åå‡ ä½ä¸åŒ,æ‰€ä»¥æ¯”è¾ƒæœ€åå‡ ä½
                let lastNum=Number(k.slice(-min));  //é•¿åº¦å¤§çš„æˆªå–
                let minNum=m.length<n.length? a:b;
                //lastNumæ˜¯çŸ­çš„æ’å‰é¢, minNumæ˜¯çŸ­çš„æ’åé¢
                if(lastNum<minNum) {return m.length-n.length;}    //è¿”å›é•¿åº¦å°çš„é‚£ä¸€ä¸ª
                else  {return -(m.length-n.length) }      //è¿”å›é•¿åº¦å¤§çš„é‚£ä¸€ä¸ª
            }
            if(m[i]<n[i]) return -1;
            if(m[i]>n[i]) return 1;
        }
        //a,bä¸€æ¨¡ä¸€æ ·
        return 0;
    }
    let res=nums.sort(cmp);

    // if(res[0]===0)  [res[0],res[1]]=[res[1],res[0]];
    return res.join("");
};
```



**â–¼å‰‘æŒ‡é‡åˆ·:**å®é™…ä¸Šè‡ªå·±çš„æ–¹æ³•å’Œa+b < b+a æ˜¯å·®ä¸å¤šçš„æ€è·¯, å…³é”®åœ¨äºå¦‚ä½•è¯æ˜ä¼ é€’æ€§!!!











#### [â˜…â˜…46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/)

éš¾åº¦ä¸­ç­‰

ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š0 ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ã€‚ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 12258
è¾“å‡º: 5
è§£é‡Š: 12258æœ‰5ç§ä¸åŒçš„ç¿»è¯‘ï¼Œåˆ†åˆ«æ˜¯"bccfi", "bwfi", "bczi", "mcfi"å’Œ"mzi"
```

 

**æç¤ºï¼š**

- `0 <= num < 231`





â–¼è‡ªå·±çš„æ–¹æ³•, é€’å½’

æ€æƒ³: å¯ä»¥è”ç³»å‰é¢çš„  [é’è›™è·³å°é˜¶](#frog)   æ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ•°æˆ–è€…ä¸¤ä¸ªæ•°, è¿™é“é¢˜å…³é”®åœ¨äºå¤šäº†ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­, è¿˜æœ‰åƒä¸‡ä¸èƒ½å¿˜è®°  '07' æ˜¯ä¸èƒ½å½“ä½œä¸€ä¸ªç¿»è¯‘çš„, å¿…é¡»æ‹†åˆ†æˆ 0 å’Œ 7

â—ä½†æ˜¯è¿™ä¹ˆå†™å®¹æ˜“é€ æˆé‡å¤è®¡ç®—,  è¿™æ˜¯å±äºæš´åŠ›é€’å½’!!!

**æ—¶é—´å¤æ‚åº¦: O(2^n^) **æ¯ä¸ªæ•°éƒ½è¦éå†ä¸€æ¬¡, å¹¶ä¸”åˆ†å‰2ä¸ªèŠ‚ç‚¹

**ç©ºé—´å¤æ‚åº¦: O(n)** æ ˆçš„æ·±åº¦ä¸ºn

```js
/**
 * @param {number} num
 * @return {number}
 */
var translateNum = function(num) {

    let str=String(num);
    const recur=n=>{
        if(n>=str.length-1) return 1;

        if(Number(str.slice(n,n+2))>25||str[n]==='0'){
            return recur(n+1);
        }
        else
            return recur(n+1)+recur(n+2);
    }
    return recur(0);

};
```



å¯ä»¥ç”¨å°¾é€’å½’è¿›è¡Œä¼˜åŒ–

```js
/**
 * @param {number} num
 * @return {number}
 */
var translateNum = function(num) {

    let str=String(num);
    const recur=(a=1,b=1,i=2)=>{
        if(i>str.length){
            return b;
        }
         if(Number(str.slice(i-2,i))<=25&&Number(str.slice(i-2,i))>=10){
             return recur(b,a+b,++i);
         }else{
             return recur(b,b,++i);
         }
    }
    return recur();

};
```



ğŸ’¥ğŸ’¥ğŸ’¥æ³¨æ„ , recur(i++)ä¼ è¿›å»çš„å‚æ•°æ˜¯i è€Œä¸æ˜¯å¢åŠ åçš„i





â˜…â˜…â˜…åŠ¨æ€è§„åˆ’

ğŸŒŸå…ˆæŠŠé¢˜ç›®å…·ä½“èŒƒå›´åˆ¤æ–­å¥½!!!   

ç¬¦åˆä¸¤ä¸ªæ•°çš„æ¡ä»¶ [10,25]    03ç±»ä¼¼çš„ä¸è¡Œ!!!

**æ—¶é—´å¤æ‚åº¦: O(n) **æ¯ä¸ªæ•°éƒ½è¦éå†ä¸€æ¬¡

**ç©ºé—´å¤æ‚åº¦: O(n)** æ–°çš„å­—ç¬¦ä¸², å¯ä»¥é€šè¿‡å–ä½™æ¥é™ä½

```js
/**
 * @param {number} num
 * @return {number}
 */
var translateNum = function(num) {

    let str=String(num);
    let a=1,b=1;    
    //dp[i]è¡¨ç¤ºä»¥æ•°å­—str[i-1]ç»“å°¾çš„ç¿»è¯‘æ–¹æ¡ˆæ•°é‡
    //dp[0]=1, dp[1]=1 è¡¨ç¤ºæ— æ•°å­—å’Œä¸€ä¸ªæ•°å­—çš„ç¿»è¯‘æ–¹æ³•æ•°é‡å‡ä¸º1
    //è¿™é‡Œç®€åŒ– a=dp[i-2] b=dp[i-1]
    for(let i=2;i<=str.length;i++){
        //åªæœ‰åœ¨10~25é—­åŒºé—´å†…æ‰æœ‰å¯èƒ½ç»„æˆä¸¤ä½æ•°
        if(Number(str.slice(i-2,i))<=25&&Number(str.slice(i-2,i))>=10){
            [a,b]=[b,a+b];
        //è¡¨ç¤ºä»¥æ•°å­—str[i-1]ç»“å°¾çš„ç¿»è¯‘æ–¹æ³•åªèƒ½ä»str[i-2]è·¨åˆ°str[i-1],å³dp[i-1]=>dp[i]
        //è€Œä¸èƒ½è·¨ä¸¤ä¸ªæ•°,ç›´æ¥ä»dp[i-2]=>dp[i]
        }else{  
            //[ dp[i-1],dp[i] ] = [ dp[i] , dp[i] ]
            [a,b]=[b,b];
        }
    }
    return b;
};
```

â˜…leetcodeä¸Šå†™[ ]è¿™ç§å½¢å¼ä¼šå˜å¾—å¾ˆæ…¢!!!





åŸºç¡€DPé—®é¢˜

#### [â˜…â˜…47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

éš¾åº¦ä¸­ç­‰

åœ¨ä¸€ä¸ª m*n çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 
[
  [1,3,1],
  [1,5,1],
  [4,2,1]
]
è¾“å‡º: 12
è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©
```

 

æç¤ºï¼š

- `0 < grid.length <= 200`
- `0 < grid[0].length <= 200`





æœ€åŸºç¡€çš„dpé—®é¢˜äº†, ä¸€å¼€å§‹æˆ‘è¿˜åœ¨æƒ³æ˜¯ä¸æ˜¯dfsé€’å½’, å‘ç°è¿™ä¸ªéœ€è¦æ‰¾å…¨, å¹¶é€‰æ‹©æœ€ä¼˜çš„,æ‰€ä»¥è¿˜æ˜¯dpæœ€å¥½!!! (ä¸è¿‡dfsä¹Ÿå¯, ä½†éœ€è¦é‡‡ç”¨å¤‡å¿˜å½•)

**æ—¶é—´å¤æ‚åº¦: O(n^2^)**

**ç©ºé—´å¤æ‚åº¦: O(n^2^)  / O(mn)**  (å¯ä»¥å°†åŸæ•°ç»„ä½œä¸ºdpæ•°ç»„æ¥å‡å°)

```js
/**
 * @param {number[][]} grid
 * @return {number}
 */
var maxValue = function(grid) {
    
    //åˆå§‹åŒ–
    let m=grid.length,n=grid[0].length;
    let dp=Array.from({length:m+1},item=>new Array(n+1).fill(0));
    for(let i=0;i<m;i++){
        for(let j=0;j<n;j++){
            dp[i+1][j+1]=Math.max(dp[i+1][j]+grid[i][j],dp[i][j+1]+grid[i][j]);
        }
    }
    return dp[m][n];
};
```



#### [â˜…â˜…å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/)

éš¾åº¦ä¸­ç­‰

è¯·ä»å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼Œè®¡ç®—è¯¥æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

 

æç¤ºï¼š

- `s.length <= 40000`



##### way1:ğŸŒŸåŠ¨æ€è§„åˆ’ + Hashè¡¨

<img src="base.assets/image-20210320144814108.png" alt="image-20210320144814108" style="zoom: 50%;" />

![image-20210320140937269](base.assets/image-20210320140937269.png)

```js
/**
 * @param {string} s
 * @return {number}
 */

var lengthOfLongestSubstring = function(s) {
   //dp[i]è¡¨ç¤ºä»¥s[i]ä½œä¸ºç»“å°¾çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦
   //å»ºç«‹ä¸€ä¸ªmapæ¥è®°å½•å­—ç¬¦ä¸Šæ¬¡å‡ºç°çš„ä½ç½®last,è·ç¦»ä¸ºdist=i-last
   //ASCIIä¸­å­—ç¬¦åªæœ‰128ä¸ª
   //1.s[i]æœªå‡ºç°è¿‡ dp[i]=dp[i-1]+1
   //2.s[i]å‡ºç°è¿‡  dist<=dp[i-1]:  dp[i]=dist
   //3.s[i]å‡ºç°è¿‡  dist>dp[i-1] :  dp[i]=dp[i-1]+1

   //ç‰¹æ®Šæƒ…å†µå¤„ç†!!!
   if(s.length<=1) return s.length;

   let hashMap=new Map();
   let maxLength=0,dp=[];
   dp[0]=1; hashMap.set(s[0],0);
   for(let i=1;i<s.length;i++){
       if(hashMap.has(s[i])){
           let dist=i-hashMap.get(s[i]);
           dp[i]= dist>dp[i-1]? dp[i-1]+1 : dist;
       }else{
           dp[i]=dp[i-1]+1;
       }
       //æ›´æ–°hashMap
       hashMap.set(s[i],i);
       maxLength=Math.max(maxLength,dp[i]);
   }
    return maxLength;
};
```

â˜…dpæ•°ç»„å¯ä»¥ä¼˜åŒ–, ä½†æˆ‘è¿™é‡Œå†™åªæ˜¯æ›´åŠ ç›´è§‚





##### way2: æ»‘åŠ¨çª—å£  

å…¶å®å’Œä¸Šé¢çš„ä¸€ä¸ªæ€æƒ³, ä¸è¿‡è¿™æ ·æ›´åŠ å½¢è±¡

![image-20210320141736012](base.assets/image-20210320141736012.png)



```js
/**
 * @param {string} s
 * @return {number}
 */
var lengthOfLongestSubstring = function(s) {
    //æ»‘åŠ¨çª—å£
    let hashMap=new Map();
    let start=-1,maxLength=0;  //è¿™æ ·0 - (-1)å¯ä»¥å¾—åˆ°é•¿åº¦ 1  å¾ˆå·§å¦™!
    for(let end=0;end<s.length;end++){
        //å½“å­—ç¬¦åœ¨mapä¸­å·²ç»å­˜å‚¨æ—¶ï¼Œéœ€è¦åˆ¤æ–­å…¶ç´¢å¼•å€¼indexå’Œå½“å‰çª—å£startçš„å¤§å°ä»¥ç¡®å®šæ˜¯å¦éœ€è¦å¯¹startè¿›è¡Œæ›´æ–°:
        //å½“index>startæ—¶ï¼Œstartæ›´æ–°ä¸ºå½“å‰çš„index,å¦åˆ™ä¿æŒä¸å˜ã€‚
        //æ³¨æ„è‹¥indexä½œä¸ºæ–°çš„startï¼Œè®¡ç®—å½“å‰æ»‘åŠ¨ç©ºé—´çš„é•¿åº¦æ—¶ä¹Ÿæ˜¯ä¸è®¡å…¥çš„ï¼Œå·¦å¼€å³é—­ï¼Œå³ä¾§s[i]ä¼šè®¡å…¥ï¼Œè¿™æ ·ä¹Ÿæ˜¯é˜²æ­¢å­—ç¬¦çš„é‡å¤è®¡å…¥ã€‚
        if(hashMap.has(s[end])){
            start=Math.max(start,hashMap.get(s[end]));
        }
        //æ›´æ–°hashMap
        hashMap.set(s[end],end);
        maxLength=Math.max(maxLength,end-start);
    }
    return maxLength;
};
```



**â–¼å‰‘æŒ‡é‡åˆ·:**

<span style="font-weight:bold; color:red;">æ„Ÿè§‰è¿™é“é¢˜çš„å…³é”®åœ¨äºmapæ¥è®°å½•ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®</span>







ğŸ’£è‡ªå·±çš„æ–¹æ³•, æ€è·¯åœ¨ä»£ç é‡Œ, å¾ˆè¾£é¸¡, å¬è¯´æ—¶é—´å¤æ‚åº¦ä¸º O(n^3^)

é•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²å…±æœ‰n^2^ä¸ªå­ä¸², è€Œæˆ‘ä»¬éœ€è¦O(nçš„æ—¶é—´å»åˆ¤æ–­ä¸€ä¸ªå­å­—ç¬¦ä¸²ä¸­æœ‰æ— é‡å¤)

```js
/**
 * @param {string} s
 * @return {number}
 */
var lengthOfLongestSubstring = function(s) {
    /*æ¯æ¬¡å‡ºç°é‡å¤å­—ç¬¦ä¸²å,ä»ç¬¬ä¸€æ¬¡å‡ºç°é‡å¤é‚£ä¸ªæ•°çš„ä¸‹ä¸€ä¸ªé‡æ–°å¼€å§‹*/
    let maxLength=0;
    let index=0;  //indexä¸ºå­ä¸²çš„start
    //å¦‚æœmaxLengthæœ¬èº«å°±å¤§äºå‰©ä½™çš„å­—ä¸²é•¿åº¦,åˆ™æ²¡å¿…è¦ç»§ç»­è¿›è¡Œ
    while (maxLength<s.length-index){
        /*åˆå§‹åŒ–å­ä¸²ä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦*/
        let sub=s[index],i;
        for (i=index+1;i<s.length;i++){
            if (sub.includes(s[i])){
                //èµ·å§‹ä½ç½®index + å­—ç¬¦åœ¨å­ä¸²çš„ä½ç½® + 1
                index=index+sub.indexOf(s[i])+1;
                break;
            }
            sub+=s[i];
        }
        maxLength= Math.max(maxLength,sub.length);
    }
    return maxLength;
};
```





#### [ğŸ˜­â˜…â˜…49. ä¸‘æ•°](https://leetcode-cn.com/problems/chou-shu-lcof/)

éš¾åº¦ä¸­ç­‰

æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ 2ã€3 å’Œ 5 çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ n ä¸ªä¸‘æ•°ã€‚

 

**ç¤ºä¾‹:**

```
è¾“å…¥: n = 10
è¾“å‡º: 12
è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚
```

**è¯´æ˜:** 

1. `1` æ˜¯ä¸‘æ•°ã€‚
2. `n` **ä¸è¶…è¿‡**1690ã€‚









ğŸš©å¤§ä½¬çš„æ–¹æ³•, å…¶å®æ˜¯ä¸€æ ·çš„æ€æƒ³, ä½†åšäº†ä¸€äº›ä¼˜åŒ–ä½¿å¾—æ›´åŠ æœ‰æ•ˆç‡

 <img src="base.assets/image-20210321104401921.png" alt="image-20210321104401921" style="zoom:67%;" />

```js
var nthUglyNumber = function (n) {
    //pæŒ‡å‘2/3/5ä¹˜uglysåè¶…è¿‡å½“å‰æœ€å¤§ä¸‘æ•°åæœ€å°çš„é‚£ä¸ªæ•°
    let p2 = 1, p3 = 1, p5 = 1;
    let t2 = 0, t3 = 0, t5 = 0;

    /*â–¼è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆä¸ç”¨è€ƒè™‘å»é‡?
    * å› ä¸ºæ¯æ¬¡éƒ½é€‰å–çš„å¤§äºå½“å‰ä¸‘æ•°æ•°ç»„ä¸­æœ€å¤§çš„æ•°,è‡ªç„¶æ˜¯ä¸ä¼šé‡å¤äº†!*/
    let uglys = [1], max = 1;

    while (n-- > 1) {  //å¾ªç¯n-1æ¬¡
        p2 = 2 * uglys[t2];
        p3 = 3 * uglys[t3];
        p5 = 5 * uglys[t5];
        max = Math.min(p2, p3, p5);
        uglys.push(max);
        /*è¿™é‡Œå¾ˆå…³é”®!!! ä¸€å¼€å§‹æˆ‘æ˜¯åˆ¤æ–­å“ªä¸ªæœ€å°å°±æŠŠå“ªä¸ªåŠ ä¸€,ä½†é‚£æ ·æ— æ³•å»é‡
        * â˜…è¿™æ ·åªè¦ç›¸ç­‰å°±++,å¯ä»¥å»é‡!!!*/
        if (p2===max) t2++;
        if (p3===max) t3++;
        if (p5===max) t5++;

    }
    return uglys[uglys.length-1];
};
```

 <img src="base.assets/image-20210321104327648.png" alt="image-20210321104327648" style="zoom:67%;" />









åœ¨çœ‹äº†ä¹¦ä¸Šçš„æ€è·¯åè‡ªå·±å†™çš„, ä¸è¿‡è¿™æ˜¯çœŸçš„æ…¢ğŸ˜…ğŸ˜…ğŸ˜…

![image-20210321101018864](base.assets/image-20210321101018864.png)

<img src="base.assets/image-20210321100851802.png" alt="image-20210321100851802" style="zoom: 80%;" />



```js
var nthUglyNumber = function(n) {
    //pæŒ‡å‘2/3/5ä¹˜uglysåè¶…è¿‡å½“å‰æœ€å¤§ä¸‘æ•°åæœ€å°çš„é‚£ä¸ªæ•°
    let p2=1,p3=1,p5=1;
    let t2=0,t3=0,t5=0;

    /*â–¼è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆä¸ç”¨è€ƒè™‘å»é‡?
    * å› ä¸ºæ¯æ¬¡éƒ½é€‰å–çš„å¤§äºå½“å‰ä¸‘æ•°æ•°ç»„ä¸­æœ€å¤§çš„æ•°,è‡ªç„¶æ˜¯ä¸ä¼šé‡å¤äº†!*/
    let uglys=[1],max=1;

    while(n-->1){
        let len=uglys.length;
        for(let i=t2;i<uglys.length;i++){
            if(2*uglys[i]>max){
                p2=2*uglys[i];
                break;
            }
        }
        for(let i=t3;i<uglys.length;i++){
            if(3*uglys[i]>max){
                p3=3*uglys[i];
                break;
            }
        }
        for(let i=t5;i<uglys.length;i++){
            if(5*uglys[i]>max){
                p5=5*uglys[i];
                break;
            }
        }
        max=Math.min(p2,p3,p5);
        if (p2<p5){
            p2<p3? t2++ : t3++;
        }else {
            p3<p5? p3++ : p5++;
        }
        uglys.push(max);
    }
    return uglys[uglys.length-1];
};
```



**â–¼å‰‘æŒ‡é‡åˆ·:**

ğŸŒŸä¸»è¦æ€è·¯æ˜¯å»ºç«‹ä¸‰ä¸ªé’ˆå¯¹2,3,5çš„æŒ‡é’ˆ t2, t3, t5,  è¿™ä¸‰ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‘æ•°æ•°ç»„ä¸­çš„æŸä¸ªä½ç½®, è¿™ä¸‰ä¸ªä½ç½®éœ€è¦æ»¡è¶³ $i * uglys[t_i]>uglys[uglys.length-1]$ ,ç„¶ååœ¨æ¯æ¬¡å¾ªç¯æ—¶é€‰å‡ºæœ€å°çš„é‚£ä¸ªå…ƒç´ pushè¿›å»







#### [â˜…50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/)

éš¾åº¦ç®€å•

åœ¨å­—ç¬¦ä¸² s ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸€ä¸ªå•ç©ºæ ¼ã€‚ s åªåŒ…å«å°å†™å­—æ¯ã€‚

**ç¤ºä¾‹:**

```
s = "abaccdeff"
è¿”å› "b"

s = "" 
è¿”å› " "
```

 

**é™åˆ¶ï¼š**

```
0 <= s çš„é•¿åº¦ <= 50000
```





hashè¡¨è®°å½•

Mapå®ç°

**æ—¶é—´å¤æ‚åº¦: O(n):**

**ç©ºé—´å¤æ‚åº¦: O(n)**

```js
/**
 * @param {string} s
 * @return {character}
 */
var firstUniqChar = function(s) {

    let hashMap=new Map(),res=' ';
    for(let i=0;i<s.length;i++){
        if(hashMap.has(s[i])){
            hashMap.set(s[i],false)
        }else{
            hashMap.set(s[i],true);
        }
    }
    for(let item of hashMap){
        if(item[1]){
            res=item[0];
            break;
        }
    }
    
    //forå¾ªç¯ä¹Ÿå¯ä»¥æ”¹æˆè¿™æ ·
    /*
    let arr=[...hashMap].filter(i=>i[1]);
    arr.length? res=arr[0][0]:{} ;
    */
    
    return res;
};
```



#### [â˜…â˜…51. æ•°ç»„ä¸­çš„é€†åºå¯¹](https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

éš¾åº¦å›°éš¾

åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [7,5,6,4]
è¾“å‡º: 5
```

 

**é™åˆ¶ï¼š**

```
0 <= æ•°ç»„é•¿åº¦ <= 50000
```







[å½’å¹¶æ’åº](D:\Study\Algorithm\Notes-Typora\Base\sort.md)çš„æ€æƒ³:   

![Picture1.png](base.assets/1614274007-nBQbZZ-Picture1.png)

ğŸŒŸåˆå¹¶é˜¶æ®µå¯ä»¥é‡‡ç”¨ä¸åŒçš„æ¯”è¾ƒæ–¹æ³•, â–¶ â—€ éƒ½è¡Œ



 <img src="base.assets/image-20210322111447012.png" alt="image-20210322111447012" style="zoom: 67%;" />

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var reversePairs = function(nums) {
   let count=0;
    const merge=(left,right)=>{
        let res=[];
        let p1=left.length-1,p2=right.length-1;
        //!æ³¨æ„,ç”±äºæˆ‘è¿™é‡Œæ˜¯ä»åé¢å¾€å‰é¢å¾ªç¯,æ‰€ä»¥popè™½ç„¶æ”¹å˜äº†æ•°ç»„é•¿åº¦
        //ä½†ä¸ä¼šå¯¹å‰é¢çš„indexæœ‰å½±å“
        while (p1>=0&&p2>=0){
            if (left[p1]<=right[p2]){
                res.unshift(right.pop());
                p2--;
            }else {
                res.unshift(left.pop());
                p1--;
                count+=(p2+1);
            }
        }
        return left.concat(right,res);
    }

    const sort=arr=>{
        if (arr.length<=1){
            return arr;
        }
        let mid=Math.floor((arr.length)/2);
        return merge(sort(arr.slice(0,mid)),sort(arr.slice(mid)));
    }
    sort(nums);
    return count;
};
```

æˆ‘è¿™é‡Œå†™çš„æ¯”è¾ƒç®€æ´, é‡‡ç”¨äº†concatå’Œunshift, å‡å°‘äº†åˆ¤æ–­æ¡ä»¶, è€—æ—¶æœ‰ç‚¹é•¿

è¿™ä¸ªæ€æƒ³ä¸€æ ·, è€—æ—¶è¾ƒçŸ­

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var reversePairs = function(nums) {
    // å½’å¹¶æ’åº
    let sum = 0;
    mergeSort(nums);
    return sum;

    function mergeSort (nums) {
        if(nums.length < 2) return nums;
        const mid = parseInt(nums.length / 2);
        let left = nums.slice(0,mid);
        let right = nums.slice(mid);
        return merge(mergeSort(left), mergeSort(right));
    }

    function merge(left, right) {
        let res = [];
        let leftLen = left.length;
        let rightLen = right.length;
        let len = leftLen + rightLen;
        for(let index = 0, i = 0, j = 0; index < len; index ++) {
            if(i >= leftLen) res[index] = right[j ++];
            else if (j >= rightLen) res[index] = left[i ++];
            else if (left[i] <= right[j]) res[index] = left[i ++];
            else {
                res[index] = right[j ++];
                sum += leftLen - i;//åœ¨å½’å¹¶æ’åºä¸­å”¯ä¸€åŠ çš„ä¸€è¡Œä»£ç 
            }
        }
        return res;
    }
};

```



**â–¼å‰‘æŒ‡é‡åˆ·:**

```js
function InversePairs(data)
{
    // write code here
    let count=0;
    const merge=(left,right)=>{
        let res=[],i=0;
        let p1=0,p2=0;
        while(true){
            if(p1===left.length){
                res=res.concat(right.slice(p2));
                break;
            }
            if(p2===right.length){
                res=res.concat(left.slice(p1));
                break;
            }
            
            if(left[p1]>right[p2]){
                count+=right.length-p2;
                res[i++]=left[p1++];
            }else{
                res[i++]=right[p2++];
            }
        }
        return res;
    }
    
    const recur=arr=>{
        if(arr.length<=1) return arr;
        let mid=parseInt(arr.length/2);
        return merge(recur(arr.slice(0,mid)),recur(arr.slice(mid)));
    }
    
    recur(data);
    return count%1000000007;
    
}
module.exports = {
    InversePairs : InversePairs
};
```



**å¿ƒå¾—:**

â˜…ä¸€ä¸ªå¾ˆå°çš„åœ°æ–¹  **let mid=parseInt(arr.length/2);**  æˆ‘å°è¯•æŠŠè¿™é‡Œæ”¹æˆä½è¿ç®—æ¥æ–¹ä¾¿è®¡ç®—, å¯æ˜¯åœ¨è¿™ç§å¤„ç†æ–¹å¼ä¸‹,leetcodeå’Œç‰›å®¢éƒ½ä¼šæ˜¾ç¤ºè¶…å‡ºå†…å­˜é™åˆ¶!!!   æ‰€ä»¥è¿˜æ˜¯å°½é‡ä¸ç”¨ä½è¿ç®—  

â˜…ä¸è¦å†™æˆåŸæ¥çš„ç¬¬ä¸€ç§æ–¹æ³•,æ¯æ¬¡é€šè¿‡unshiftå†è®¡ç®—lengthå¤ªè€—æ—¶é—´äº†!!!   ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ, å†åœ¨å¾ªç¯ä¸­åˆ¤æ–­æ˜¯å¦æ•°ç»„é•¿åº¦



ğŸš©è¿™é‡Œæä¾›ä¸€ç§æ–°çš„mergeï¼Œçœ‹ä¸Šå»æ›´ç®€æ´ !

```js
const merge = (nums1, nums2) => {
    let p1 = p2 = 0, r = [], len1 = nums1.length, len2 = nums2.length
    while (p1 < len1 || p2 < len2) {
        if (p2 >= len2 || nums1[p1] > nums2[p2]) r.push(nums1[p1++]) // p2è¶Šç•Œæ”¾p1
        else r.push(nums2[p2++])
    }
    return r 
}
```









#### [â˜…52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹](https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€‚

![image-20210322114231665](base.assets/image-20210322114231665.png)

â—æ³¨æ„ï¼š

1.å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null.
2.åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚
3.å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚
4.ç¨‹åºå°½é‡æ»¡è¶³ O(n) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(1) å†…å­˜ã€‚





â˜…â˜…â˜…åŒæŒ‡é’ˆå®Œç¾æ–¹æ³•

 <img src="base.assets/image-20210322131310777.png" alt="image-20210322131310777" style="zoom:80%;" />

![image-20210322131339226](base.assets/image-20210322131339226.png)

![image-20210322131356625](base.assets/image-20210322131356625.png)

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */

/**
 * @param {ListNode} headA
 * @param {ListNode} headB
 * @return {ListNode}
 */
var getIntersectionNode = function(headA, headB) {
    if(!headA||!headB) return null;  //å…¶å®å¯ä»¥å»æ‰

    let pA=headA,pB=headB;
    while(true){
        if(pA==pB) return pA;
        pA= pA? pA.next:headB;
        pB= pB? pB.next:headA;
    }
};
```

**ğŸŒŸåˆ¤æ–­æ–¹å¼å¾ˆå·§å¦™å“¦!!!  pAå’ŒpBå¯ä»¥ä¸ºnull, è¿™æ ·è€ƒè™‘åˆ°äº†æ— å…¬å…±å­èŠ‚ç‚¹çš„æƒ…å†µ**







è‡ªå·±çš„ç¬¨åŠæ³•...

```js
var getIntersectionNode = function(headA, headB) {
    let pA=headA,pB=headB;
    while(pA){
        pA.flag=true;
        pA=pA.next;
    }
    while(pB){
        if(pB.flag) return pB;
        pB=pB.next;
    }
    return null;
};
```



### é¢è¯•ä¸­çš„å„é¡¹èƒ½åŠ›

#### [â˜…53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)

éš¾åº¦ç®€å•

ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: 2
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 6
è¾“å‡º: 0
```

 

**é™åˆ¶ï¼š**

```
0 <= æ•°ç»„é•¿åº¦ <= 50000
```





äºŒåˆ†...

 <img src="base.assets/image-20210322145919237.png" alt="image-20210322145919237" style="zoom:67%;" />

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var search = function(nums, target) {
    let low=0, high=nums.length-1;
    let count=0;
    //æ³¨æ„è¿™é‡Œæ˜¯low<=high, å¿…é¡»åŠ ä¸Š=
    while(low<=high){
        let mid=Math.floor((low+high)/2);
        if(nums[mid]<target){
            low=mid+1;
        }else if(nums[mid]>target){
            high=mid-1;
        }else{
            count++;
            let temp=mid;
            while(nums[++mid]===target) count++;
            mid=temp;
            while(nums[--mid]===target) count++;
            break;
        }
    }
    return count;
};
```

ğŸŒŸ while(low< **=** high)  å› ä¸ºæˆ‘ä»¬è¦åœ¨whileå¾ªç¯ä¸­æ‰¾åˆ°target, è€Œmidçš„æ±‚æ³•å‘ä¸‹å–æ•´, è¿™æ ·å¾ˆæœ‰å¯èƒ½ä¼šåœ¨æœ€åæ¼æ‰è®¡ç®—highçš„å€¼



#### [â˜…53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

éš¾åº¦ç®€å•

ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [0,1,3]
è¾“å‡º: 2
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,1,2,3,4,5,6,7,9]
è¾“å‡º: 8
```

 

**é™åˆ¶ï¼š**

```
1 <= æ•°ç»„é•¿åº¦ <= 10000
```



ğŸŒŸè¿˜æ˜¯å¯¹äºŒåˆ†çš„ç†è§£

 <img src="base.assets/image-20210322160125693.png" alt="image-20210322160125693" style="zoom:67%;" />

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var missingNumber = function(nums) {

    let low=0,high=nums.length-1;
    while(low<=high){
        let mid=Math.floor((low+high)/2);
        if(nums[mid]===mid){
            low=mid+1;
        }else if(nums[mid]>mid){
            high=mid-1;
        }
    }
    return low;
};
```

â˜…æŠŠmissNumå·¦è¾¹çœ‹ä½œleft, å³è¾¹çœ‹ä½œright

ğŸš©**æœ€ålow=highæ—¶, å®šä½åˆ°çš„åœ°æ–¹å¿…æ˜¯rightçš„ç¬¬ä¸€ä¸ªæ•°, å› æ­¤ nums[low]=missNum+1, å³low=missNum**



#### [â˜…54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-di-kda-jie-dian-lcof/)

éš¾åº¦ç®€å•

ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­ç¬¬kå¤§çš„èŠ‚ç‚¹ã€‚

 ç¤ºä¾‹ 1:

è¾“å…¥: root = [3,1,4,null,2], k = 1
   3
  / \
 1   4
  \
   2
è¾“å‡º: 4
ç¤ºä¾‹ 2:

è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3
       5
      / \
     3   6
    / \
   2   4
  /
 1
è¾“å‡º: 4


é™åˆ¶ï¼š

1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°





**ğŸŒŸæ³¨æ„æ˜¯æ±‚æœ€å¤§çš„ç¬¬kä¸ªæ•°, éœ€è¦å³ ä¸­ å·¦è¿›è¡Œéå†!!!**



**æ—¶é—´å¤æ‚åº¦: O(n):**

**ç©ºé—´å¤æ‚åº¦: O(n)**:  é€’å½’æ ˆçš„ç©ºé—´

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @param {number} k
 * @return {number}
 */
var kthLargest = function(root, k) {
    let rank=0,res;
    let dfs=root=>{
        if(!root){
            return;
        }
        dfs(root.right);
        if(++rank===k) res=root.val;
        dfs(root.left);
    }
    dfs(root);
    return res;
};
```





#### [â˜…55 - I. äºŒå‰æ ‘çš„æ·±åº¦](https://leetcode-cn.com/problems/er-cha-shu-de-shen-du-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ä¾æ¬¡ç»è¿‡çš„èŠ‚ç‚¹ï¼ˆå«æ ¹ã€å¶èŠ‚ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚

ä¾‹å¦‚ï¼š

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`ï¼Œ

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚

 

**æç¤ºï¼š**

1. `èŠ‚ç‚¹æ€»æ•° <= 10000`



ä¾ç„¶æ˜¯dfs

 <img src="base.assets/image-20210323102535165.png" alt="image-20210323102535165" style="zoom:67%;" />

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number}
 */
var maxDepth = function(root) {
    let depth=0,maxDepth=0;
    const dfs=node=>{
        if(!node) return;
        depth++;
        maxDepth=Math.max(maxDepth,depth);
        dfs(node.left);
        dfs(node.right);
        depth--;        
    }
    dfs(root);
    return maxDepth;
};


//â˜…æ›´ç®€æ´çš„å†™æ³•
var maxDepth = function(root) {
    if(!root) return 0;
    return Math.max(maxDepth(root.left),maxDepth(root.right))+1
};
```





BFSæ”¹å†™

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number}
 */
var maxDepth = function(root) {
    if(!root) return 0;
    const queue=[root];
    //è®°å½•æ¯å±‚èŠ‚ç‚¹çš„æ•°é‡, æœ¬å±‚å®Œæ¯•çš„æ—¶å€™å°± +1
    //curä¸ºå½“å‰å±‚çš„èŠ‚ç‚¹æ•°, nextä¸ºä¸‹ä¸€å±‚çš„èŠ‚ç‚¹æ•°
    let cur=1,next=0,maxDepth=0;
    while(queue.length){
        let node=queue.shift();
        if(node.left) {
            queue.push(node.left);
            next++;
        }
        if(node.right) {
            queue.push(node.right);
            next++;
        }
        if(--cur===0){
            [cur,next]=[next,0];
            maxDepth++;
        }
    }
    return maxDepth;
};

//æ›´ç®€æ´çš„å†™æ³•, æ¯æ¬¡æŠŠqueueä¸­çš„ç›´æ¥éå†å®Œ
var maxDepth = function(root) {
    if(!root) return 0;
    let queue=[root];
    //è®°å½•æ¯å±‚èŠ‚ç‚¹çš„æ•°é‡, åˆ°ä¸‹ä¸€å±‚çš„æ—¶å€™å°± +1
    let cur=1,next=0,maxDepth=0;
    while(queue.length){
        let tmp=[];
        for(node of queue){
            if(node.left)  tmp.push(node.left);
            if(node.right) tmp.push(node.right);            
        }
        maxDepth++;
        queue=tmp;
    }
    return maxDepth;
};
```





#### [â˜…55 - II. å¹³è¡¡äºŒå‰æ ‘](https://leetcode-cn.com/problems/ping-heng-er-cha-shu-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­è¯¥æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚å¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚

 

**ç¤ºä¾‹ 1:**

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å› `true` ã€‚

**ç¤ºä¾‹ 2:**

ç»™å®šäºŒå‰æ ‘ `[1,2,2,3,3,null,null,4,4]`

```
       1
      / \
     2   2
    / \
   3   3
  / \
 4   4
```

è¿”å› `false` ã€‚

 

**é™åˆ¶ï¼š**

- `0 <= æ ‘çš„ç»“ç‚¹ä¸ªæ•° <= 10000`



**æ—¶é—´å¤æ‚åº¦: O(n):**

**ç©ºé—´å¤æ‚åº¦: O(n)**

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isBalanced = function(root) {
    let isBalanced=true;
    const dfs=node=>{
        if(!node) return 0;
        let leftLen=dfs(node.left);
        let rightLen=dfs(node.right);
        if(Math.abs(leftLen-rightLen)>1){
            isBalanced=false;
            return;
        }
        return Math.max(leftLen,rightLen)+1;
    }
    dfs(root);
    return isBalanced;
};
```





#### [â˜…â˜…56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)

éš¾åº¦ä¸­ç­‰

ä¸€ä¸ªæ•´å‹æ•°ç»„ `nums` é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [4,1,4,6]
è¾“å‡ºï¼š[1,6] æˆ– [6,1]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,10,4,1,4,3,3]
è¾“å‡ºï¼š[2,10] æˆ– [10,2]
```

 

**é™åˆ¶ï¼š**

- `2 <= nums.length <= 10000`







ä½è¿ç®—,  å¹³æ—¶æ²¡æ¥è§¦è¿‡å¾ˆéš¾æƒ³åˆ°

 <img src="base.assets/image-20210324081417645.png" alt="image-20210324081417645" style="zoom:67%;" />

ç®—æ³•

å…ˆå¯¹æ‰€æœ‰æ•°å­—è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ï¼Œå¾—åˆ°ä¸¤ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°å­—çš„å¼‚æˆ–å€¼ã€‚

åœ¨å¼‚æˆ–ç»“æœä¸­æ‰¾åˆ°ä»»æ„ä¸º 11 çš„ä½ã€‚

æ ¹æ®è¿™ä¸€ä½å¯¹æ‰€æœ‰çš„æ•°å­—è¿›è¡Œåˆ†ç»„ã€‚

åœ¨æ¯ä¸ªç»„å†…è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå¾—åˆ°ä¸¤ä¸ªæ•°å­—ã€‚

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œåªéœ€è¦å¸¸æ•°çš„ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚

```js
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var singleNumbers = function(nums) {
    
    let k=0;
    //1.å…¨éƒ¨å¼‚æˆ–èµ·æ¥å¾—åˆ°ä¸ç›¸ç­‰çš„é‚£ä¸¤ä¸ªæ•°çš„å¼‚æˆ–å€¼
    for(num of nums){
        k^=num;
    }

    //2.åˆ¶ä½œmask,é‡‡å–æœ€ä½ä½é‚£ä¸ªä¸åŒçš„
    //(ä¹Ÿå¯ä»¥ç›´æ¥mask=k&-k,æ³¨æ„è´Ÿæ•°ç”¨è¡¥ç è¡¨ç¤º)
    let mask=1;
    while((k&mask) === 0){
        mask<<=1;
    }

    //3.æ ¹æ®maskå°†åŸæ¥çš„æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†åˆ†åˆ«åŒ…å«é‚£ä¸¤ä¸ªä¸åŒçš„å€¼
    //ç„¶åå†ä¾æ¬¡å¼‚æˆ–é™¤æ‰ç›¸åŒçš„æ•°å°±å¯ä»¥å¾—åˆ°ç»“æœ
    let a=0,b=0;
    for(num of nums){
        if((num&mask) === 0){
            a^=num;
        }else{
            b^=num;
        }
    }
    return [a,b];

};
```

å…³äºå¼‚æˆ–è¿ç®—

![image-20210323124142256](base.assets/image-20210323124142256.png)

**â–¼å‰‘æŒ‡é‡åˆ·:**

è¿™é“é¢˜æ–¹æ³•ä¹Ÿå¤ªå·§å¦™äº†, æ²¡æƒ³åˆ°...

1. é€šè¿‡å¯¹æ‰€æœ‰ä¹¦å¼‚æˆ–æœ€åå¾—åˆ°é‚£ä¸¤ä¸ªæ•°çš„å¼‚æˆ–
2. åˆ¶ä½œmask,  k&-k
3. æ ¹æ®å’Œmaskå¼‚æˆ–å°†æ‰€æœ‰æ•°åœ¨éå†åˆ†ä¸ºä¸¤ç±»









#### [â˜…â˜…56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/)

éš¾åº¦ä¸­ç­‰

åœ¨ä¸€ä¸ªæ•°ç»„ `nums` ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,4,3,3]
è¾“å‡ºï¼š4
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [9,1,7,9,7,9,7]
è¾“å‡ºï¼š1
```

 

**é™åˆ¶ï¼š**

- `1 <= nums.length <= 10000`
- `1 <= nums[i] < 2^31`







**åˆæ˜¯ä½è¿ç®—**, æœ¬æ¥æƒ³ç€ä¸Šä¸€é“ä¸€æ ·çš„æ€è·¯, å¯æƒœè¡Œä¸é€š, ä¸‰ä¸ªçš„è¯ xor åè¿˜æ˜¯åŸæ¥çš„...



ğŸš©**æ€è·¯: å‡ºç°ä¸‰æ¬¡çš„è¯æˆ‘ä»¬å¯ä»¥ä»æ¯ä¸€ä½å»æƒ³ã€‚åŒä¸€ä¸ªæ•°å‡ºç°ä¸‰æ¬¡é‚£ä¹ˆå¯¹åº”ä½ç½®çš„1ä¸€å®šä¹Ÿå‡ºç°äº†ä¸‰æ¬¡ï¼Œæœ€ç»ˆæŸäº›ä½ä¸Šçš„1çš„ä¸ªæ•°æ— æ³•è¢«3æ•´é™¤çš„å°±æ˜¯é‚£ä¸ªæ²¡ç”¨é‡å¤çš„æ•°å­—**

![image-20210324090642914](base.assets/image-20210324090642914.png)

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    let counts=new Array(32).fill(0);
    for(let i=0;i<nums.length;i++){
        for(let j=0;j<32;j++){
            counts[j]+=nums[i]&1;  //è·å¾—æœ€ä½ä½çš„1
            nums[i]>>>=1;
        }
    }
    let res=0,k;
    for(let i=0;i<32;i++){
        k=counts[i]%3;
        if(k) res+=Math.pow(2,i);
    }
    return res;
};

//å……åˆ†åˆ©ç”¨ä½è¿ç®—çš„æ€§è´¨,æœ€åçš„forå¾ªç¯è¿˜å¯ä»¥è¿™ä¹ˆå†™
	for(let i=0;i<32;i++){
        res<<=1;    //è¦å…ˆå·¦ç§»,ä¸ç„¶æœ€åæ—¶æœ€ä½ä½ä¼šå˜é«˜ä¸€ä½
        res|=counts[31-i]%3;
    }
```

ğŸŒŸå®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼  ï¼Œå³å¯å®ç°è§£å†³ **é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä½™æ•°å­—éƒ½å‡ºç° m æ¬¡** çš„é€šç”¨é—®é¢˜ã€‚



#### [â˜…57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—](https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ­£å¥½æ˜¯sã€‚å¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºsï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€å¯¹å³å¯ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
è¾“å‡ºï¼š[2,7] æˆ–è€… [7,2]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [10,26,30,31,47,60], target = 40
è¾“å‡ºï¼š[10,30] æˆ–è€… [30,10]
```

 

**é™åˆ¶ï¼š**

- `1 <= nums.length <= 10^5`
- `1 <= nums[i] <= 10^6`



ğŸŒŸå°±å¾ˆç®€å•çš„æ€è·¯, é«˜ä½å¯¹æ’åŒæŒ‡é’ˆ!!!

**æ—¶é—´å¤æ‚åº¦: O(n):**

**ç©ºé—´å¤æ‚åº¦: O(1)**

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var twoSum = function(nums, target) {
    let low=0,high=nums.length;
    while(low<high){
        if(nums[low]+nums[high]===target) {
            return[nums[low],nums[high]];
        }
        nums[low]+nums[high]<target? low++:high--;
    }
    return [];
};
```





#### [â˜…57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—](https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° `target` ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º `target` çš„è¿ç»­æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚

åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štarget = 9
è¾“å‡ºï¼š[[2,3,4],[4,5]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼štarget = 15
è¾“å‡ºï¼š[[1,2,3,4,5],[4,5,6],[7,8]]
```

 

**é™åˆ¶ï¼š**

- `1 <= target <= 10^5`





ğŸŒŸæ»‘åŠ¨çª—å£!!!  å…¶å®åªè¦çœ‹è§è¿™ç§è¿ç»­çš„, å°±å¯ä»¥æƒ³åˆ°ä½¿ç”¨æ»‘åŠ¨çª—å£!!!

```js
/**
 * @param {number} target
 * @return {number[][]}
 */
var findContinuousSequence = function(target) {
    //è‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°
    let right=2,sum=3;
    let arr=[1,2],res=[],end=((target>>1)+1);
    //å½“right>target/2+1æ—¶,å°±ä¸å¯èƒ½å†æœ‰å…¶ä»–arräº† 
    while(right<=end){
        if(sum===target){
            res.push([...arr]);
            sum-=arr.shift();
        }
        else if(sum<target){
            sum+=++right; //æ»‘åŠ¨çª—å£right++
            arr.push(right);
        }else{
            sum-=arr.shift();
        }
    }
    return res;
};
```





#### [â˜…58 - I. ç¿»è½¬å•è¯é¡ºåº](https://leetcode-cn.com/problems/fan-zhuan-dan-ci-shun-xu-lcof/)

éš¾åº¦ç®€å•

è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œç¿»è½¬å¥å­ä¸­å•è¯çš„é¡ºåºï¼Œä½†å•è¯å†…å­—ç¬¦çš„é¡ºåºä¸å˜ã€‚ä¸ºç®€å•èµ·è§ï¼Œæ ‡ç‚¹ç¬¦å·å’Œæ™®é€šå­—æ¯ä¸€æ ·å¤„ç†ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²"I am a student. "ï¼Œåˆ™è¾“å‡º"student. a am I"ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: "the sky is blue"
è¾“å‡º: "blue is sky the"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: "  hello world!  "
è¾“å‡º: "world! hello"
è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: "a good   example"
è¾“å‡º: "example good a"
è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚
```

 

**è¯´æ˜ï¼š**

- æ— ç©ºæ ¼å­—ç¬¦æ„æˆä¸€ä¸ªå•è¯ã€‚
- è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚
- å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚









way1:å…ˆå…¨éƒ¨ç¿»è½¬, å†ç¿»è½¬å•è¯

```js
//è¿™æ˜¯ä¹¦ä¸Šçš„æ–¹æ³•
var reverseWords = function(s) {
    const reverseMine=str=>{
        let re='';
        for(let i=str.length-1;i>=0;i--){
            re+=str[i];
        }
        return re;
    }
    //1.ç¿»è½¬æ•´ä¸ªstr
    let reStr=reverseMine(s.trim());
    //2.å°†æ¯ä¸ªå•è¯å†æ¬¡ç¿»è½¬
    return reStr.split(/\s+/).map(v=>reverseMine(v)).join(" ");
};
```

way2: 

 ![image-20210324115028714](base.assets/image-20210324115028714.png)





ğŸ˜ä½œå¼Šæ–¹æ³•, ç†Ÿæ‚‰ä¸€ä¸‹api

```js
/**
 * @param {string} s
 * @return {string}
 */
var reverseWords = function(s) {
    //å»é™¤æ‰æ‰€æœ‰çš„ç©ºæ ¼
    let arr=s.split(' ').filter(i=>i!=='');
    return arr.reverse().join(" ");
};
```





#### [ğŸ˜­â˜…â˜…â˜…59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/)

éš¾åº¦ç®€å•  | å›°éš¾

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` å’Œæ»‘åŠ¨çª—å£çš„å¤§å° `k`ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
è¾“å‡º: [3,3,5,5,6,7] 
è§£é‡Š: 

  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

 

**æç¤ºï¼š**

ä½ å¯ä»¥å‡è®¾ *k* æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨è¾“å…¥æ•°ç»„ä¸ä¸ºç©ºçš„æƒ…å†µä¸‹ï¼Œ1 â‰¤ k â‰¤ è¾“å…¥æ•°ç»„çš„å¤§å°ã€‚





**way1:æš´åŠ›è§£æ³•**

**æš´åŠ›æ³•** çš„æ—¶é—´å¤æ‚åº¦ä¸º O((n-k+1)k) â‰ˆ *O*(nk) ã€‚

- è®¾æ•°ç»„ numsçš„é•¿åº¦ä¸º *n* ï¼Œåˆ™å…±æœ‰(*n*âˆ’*k*+1) ä¸ªçª—å£ï¼›
- è·å–æ¯ä¸ªçª—å£æœ€å¤§å€¼éœ€çº¿æ€§éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(k)ã€‚

```js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {
    //1.ç‰¹æ®Šæƒ…å†µè€ƒè™‘, ç”±äº1<=k<=nums.length ,æ‰€ä»¥ä¸ä¼šå‡ºç°æº¢å‡º
    //ä½†æ˜¯æˆ‘ä»¬ä¸‹é¢çš„å¾ªç¯æ˜¯åŸºäºnums.length>=2å’Œk>=2çš„,æ‰€ä»¥è¦ç‰¹æ®Šå¤„ç†
    if(nums.length<=1||k===1) return nums;
    
    let left=0,right=k-1;
    let maxLoc=-1,res=[];
    //2.å¦‚æœmaxLoc>=left, æ¯”è¾ƒnums[maxLoc]å’Œnums[right];
    //  å¦‚æœmaxLoc<left , å¾ªç¯æ‰¾åˆ°æœ€å¤§çš„
    while(right<nums.length){  //åœ¨è¿™é‡Œnums.lengthå¿…é¡»>=2
        if(maxLoc>=left){
            maxLoc=nums[maxLoc]>nums[right]?  maxLoc : right;
            res.push(nums[maxLoc]);
        }
        else{
            maxLoc=left;
            for(let i=left+1;i<=right;i++){
                maxLoc=nums[maxLoc]>nums[i]? maxLoc : i;
            }
            res.push(nums[maxLoc]);
        }
        right++; left++;  //æ»‘åŠ¨çª—å£ä¸€èµ·å³ç§»
    }
    return res;
};
```

ğŸš©è¿™é“é¢˜æ€æƒ³å¾ˆç®€å•, ä½†è‡ªå·±åšçš„æ—¶å€™é”™äº†å¾ˆå¤šæ¬¡éƒ½æ˜¯å› ä¸ºæ²¡æœ‰è€ƒè™‘è¾¹ç•Œæ¡ä»¶, æ‰€ä»¥å•Š, ä¸€å®šè¦è€ƒè™‘å‘¨åˆ°!!!





**way2:å•è°ƒé˜Ÿåˆ—**  :ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—æ¥å­˜å‚¨çª—å£èŒƒå›´å†…çš„ç‚¹

ç‰¹ç‚¹æ˜¯**æ¬ºè½¯æ€•ç¡¬**ï¼š`æ–°å…ƒç´ `ä¼šåˆ æ¯”å®ƒå°çš„æ•°ï¼Œæ’åœ¨æ¯”å®ƒå¤§çš„æ•°å

å•è°ƒé˜Ÿåˆ—ä¸­çš„æ•°çš„å¤§å°ä»å¤§åˆ°å°, æ¬¡åºæ˜¯åœ¨åŸæ•°ç»„ä¸­ä»å·¦åˆ°å³

 <img src="base.assets/image-20210325120042076.png" alt="image-20210325120042076" style="zoom:67%;" />

![image-20210325124057950](base.assets/image-20210325124057950.png)

```js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {

    let left=-k+1,right=0;
    let queue=[],res=[];
    //queueä¸ºä¸€ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—
    while(right<nums.length){
        //å¦‚æœé˜Ÿé¦–å…ƒç´ å°±æ˜¯ä¸Šä¸€æ¬¡åˆ é™¤çš„å…ƒç´ ,åˆ™å‡ºé˜Ÿ
        if(left>0&&queue[0]===nums[left-1]){
            queue.shift();
        }
        //å¦‚æœnums[right]å¤§äºé˜Ÿåˆ—ä¸­çš„å…ƒç´ ,åˆ™è®©å®ƒä»¬éƒ½å‡ºé˜Ÿ
        //å› ä¸ºä¹‹å‰çš„å…ƒç´ å¦‚æœå°çš„è¯å°±ä¸å¯èƒ½å†æ˜¯æœ€å¤§çš„äº†
        //ä½†å¦‚æœä¹‹åçš„å…ƒç´ å°çš„è¯æœ‰å¯èƒ½æ˜¯æœ€å¤§
        while(queue.length&&queue[queue.length-1]<nums[right]){
            queue.pop();
        }
        queue.push(nums[right]);
        //å½“left>=0æ—¶æ‰ç»„æˆæ»‘åŠ¨çª—å£,æ­¤æ—¶è®°å½•æœ€å¤§å€¼
        if(left>=0) {
            res.push(queue[0]);
        }

        left++; right++;
    }
    return res;

};
```



**way3:**  åˆ†å— + é¢„å¤„ç†  **æœ€å¥½çš„æ–¹æ³•,ä¹Ÿæœ€éš¾æƒ³åˆ°**

![image-20210325143738784](base.assets/image-20210325143738784.png)





![image-20210325143809166](base.assets/image-20210325143809166.png)



å¤§ä½¬çš„ä»£ç , æå…¶ç²¾ç®€, ä½†ä¸å®¹æ˜“çœ‹æ‡‚

```js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {
    let n = nums.length, p = new Int16Array(n), s = new Int16Array(n), r = new Int16Array(n - k + 1), i = n, j = -1
    while (i--) {
        p[++j] = j % k ? Math.max(p[j - 1], nums[j]) : nums[j]
        s[i]   = i % k ? Math.max(s[i + 1], nums[i]) : nums[i]
    }
    while (i++ < n - k) r[i] = Math.max(s[i], p[i + k - 1])
    return r
}; 
```



è‡ªå·±çš„ä»£ç , åœ¨ç©ºé—´ä¸Šå’Œå¤§ä½¬çš„å·®è·å¾ˆå¤§...

```js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {

    //é‡‡ç”¨åˆ†åŒºå—çš„æ–¹æ³•,ä»¥kä¸ºå—çš„é•¿åº¦,è®¡ç®—æ¯ä¸ªåŒºå—ä»å‰å¾€åå’Œä»åå¾€å‰çš„æœ€å¤§å€¼
    //å¦‚æœnums[i]çš„iä¸æ˜¯kçš„å€æ•°,åˆ™è¿™ä¸ªæ•°å æœ‰ç¬¬ä¸€ä¸ªåˆ†ç»„çš„åç¼€ä»¥åŠç¬¬äºŒä¸ªåˆ†ç»„çš„å‰ç¼€
    if(!nums.length) return[];
    let len=nums.length ,pre=new Int16Array(len) ,suff=new Int16Array(len);
    let res=[],pIndex=-1,sIndex=len; //æ¯”å®é™…çš„+1 or -1 å…å»å¾ªç¯æ—¶åˆå§‹åŒ–
    while(pIndex<len){  //ä½¿ç”¨sIndexåˆ¤æ–­ä¹Ÿå¯ä»¥
        //ä»å·¦åˆ°å³è®¡ç®—å½“å‰åŒºå—çš„æœ€å¤§å€¼
        pre[++pIndex]= pIndex%k===0? nums[pIndex] :
                    Math.max(nums[pIndex],pre[pIndex-1]);
        //ä»å³åˆ°å·¦è®¡ç®—å½“å‰åŒºå—çš„æœ€å¤§å€¼
        suff[--sIndex]= sIndex%k===0? nums[sIndex] :
                    Math.max(nums[sIndex],suff[sIndex+1]);
    }
    //ç°åœ¨è¿›è¡Œå¾ªç¯å¾—å‡ºæœ€å¤§å€¼
    for(let i=0;i<nums.length+1-k;i++){
        res.push(Math.max(suff[i],pre[i+k-1]));
    }
    return res;

};
```



#### [â˜…â˜…59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/)

éš¾åº¦ä¸­ç­‰

è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° `max_value` å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°`max_value`ã€`push_back` å’Œ `pop_front` çš„**å‡æ‘Š**æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚

è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ`pop_front` å’Œ `max_value` éœ€è¦è¿”å› -1

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: 
["MaxQueue","push_back","push_back","max_value","pop_front","max_value"]
[[],[1],[2],[],[],[]]
è¾“å‡º: [null,null,null,2,1,2]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: 
["MaxQueue","pop_front","max_value"]
[[],[],[]]
è¾“å‡º: [null,-1,-1]
```

 

**é™åˆ¶ï¼š**

- `1 <= push_back,pop_front,max_valueçš„æ€»æ“ä½œæ•° <= 10000`
- `1 <= value <= 10^5`





è¦å­¦ä¼šä¸¾ä¸€åä¸‰!!!  ä¸Šä¸€é“é¢˜çš„æ»‘åŠ¨çª—å£å…¶å®å°±å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªé˜Ÿåˆ—, å³ç§»å…¥é˜Ÿä¸€ä¸ªå…ƒç´ , å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ 

ä¸Šä¸€é“é¢˜çš„way2å°±æ˜¯è¿™æ ·, åˆ©ç”¨äº†ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—æ¥ä¾åºå­˜å‚¨æœ€å¤§çš„æ•°



```js
var MaxQueue = function() {
    this.queue=[];
    this.deque=[];
};

/**
 * @return {number}
 */
MaxQueue.prototype.max_value = function() {
    if(!this.queue.length) return -1;
    return this.deque[0];
};

/** 
 * @param {number} value
 * @return {void}
 */
MaxQueue.prototype.push_back = function(value) {
    while(this.deque.length&&this.deque[this.deque.length-1]<value) {
        this.deque.pop();
    }
    this.deque.push(value);
    this.queue.push(value);
};

/**
 * @return {number}
 */
MaxQueue.prototype.pop_front = function() {
    if(!this.queue.length) return -1;
    let val=this.queue.shift();
    if(this.deque[0]===val){
        this.deque.shift();
    }
    return val;
};

/**
 * Your MaxQueue object will be instantiated and called as such:
 * var obj = new MaxQueue()
 * var param_1 = obj.max_value()
 * obj.push_back(value)
 * var param_3 = obj.pop_front()
 */
```





#### â–¼æŠ½è±¡å»ºæ¨¡èƒ½åŠ›





#### [ğŸ˜­â˜…â˜…60. nä¸ªéª°å­çš„ç‚¹æ•°](https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/)

éš¾åº¦ä¸­ç­‰

æŠŠnä¸ªéª°å­æ‰”åœ¨åœ°ä¸Šï¼Œæ‰€æœ‰éª°å­æœä¸Šä¸€é¢çš„ç‚¹æ•°ä¹‹å’Œä¸ºsã€‚è¾“å…¥nï¼Œæ‰“å°å‡ºsçš„æ‰€æœ‰å¯èƒ½çš„å€¼å‡ºç°çš„æ¦‚ç‡ã€‚

ä½ éœ€è¦ç”¨ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„è¿”å›ç­”æ¡ˆï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨è¿™ n ä¸ªéª°å­æ‰€èƒ½æ·å‡ºçš„ç‚¹æ•°é›†åˆä¸­ç¬¬ i å°çš„é‚£ä¸ªçš„æ¦‚ç‡ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1
è¾“å‡º: [0.16667,0.16667,0.16667,0.16667,0.16667,0.16667]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: 2
è¾“å‡º: [0.02778,0.05556,0.08333,0.11111,0.13889,0.16667,0.13889,0.11111,0.08333,0.05556,0.02778]
```

 

**é™åˆ¶ï¼š**

```
1 <= n <= 11
```





way1:

é¦–å…ˆå¯ä»¥è”ç³»åˆ°ä¹‹å‰åšçš„  [å‰‘æŒ‡17](#jumpTree)    [å‰‘æŒ‡38å­—ç¬¦ä¸²çš„æ’åˆ—](#sword38)   è¿™å’Œè¿™é“é¢˜æœ‰ç‚¹ç±»ä¼¼, éƒ½æ˜¯é‡‡ç”¨çš„ä¸€æ ·çš„é€’å½’æ–¹æ³•

ä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ç¼ºç‚¹ å°±æ˜¯æ—¶é—´å¤ªé•¿  

 <img src="base.assets/image-20210326084407184.png" alt="image-20210326084407184" style="zoom:67%;" />

**æ—¶é—´å¤æ‚åº¦: O(6^n^):**

```js
/**
 * @param {number} n
 * @return {number[]}
 */
var dicesProbability = function(n) {
    //é‡‡ç”¨é€’å½’
    let cnts=new Array(6*n+1).fill(0); //è¿™ä¸ªæ•°ç»„è®°å½•æ¬¡æ•°,å·²åˆå§‹åŒ–ä¸º0
    let sum=0,index=1;   //indexè¡¨ç¤ºç¬¬å‡ ä¸ªéª°å­

    const recur=index=>{
        if(index>n){
            cnts[sum]++;
            return;
        }
        for(let i=1;i<=6;i++){
            sum+=i;
            recur(index+1);
            sum-=i;
        }
    }
    recur(index);
    let res=[],combin=Math.pow(6,n);
    for(let i=n;i<=6*n;i++){
        res.push(cnts[i]/combin);
    }
    return res;

};
```



å½“ç„¶è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•==åŠ¨æ€è§„åˆ’

å› ä¸ºå‰é¢çš„é€’å½’å®é™…ä¸Šä¼šé‡å¤è®¡ç®—å¾ˆå¤šå€¼!!!



way2:

dpçš„è¯, å…¶å®æ˜¯è®°å½•ä¸‹äº†dp[i] [j] :è¡¨ç¤ºæŠ•æ·ç¬¬iä¸ªéª°å­åç‚¹æ•°å’Œä¸ºjçš„æ¦‚ç‡

ä»è€Œæˆ‘ä»¬å¯ä»¥å†™å‡ºé€’æ¨å…¬å¼: **dp[i] [j] = (dp[i-1] [j-6] + ... + dp[i-1] [j-1] ) / 6** 

ä½†æ˜¯è¿™æ ·çš„è¯ä¼šè¿›è¡Œåˆ¤æ–­ j-6 çš„èŒƒå›´, ä¸ºäº†ä¸åˆ¤æ–­èŒƒå›´, æˆ‘ä»¬å¯ä»¥é‡‡å–**è´¡çŒ®åˆ¶**, ä»¥æ­¤è®¡ç®—$dp[i] [j]$å¯¹$dp[i+1] [j+1]$åˆ°$dp[i] [j+6] $çš„è´¡çŒ® $dp[i] [j] * 1/6 $

![image-20210326095243567](base.assets/image-20210326095243567.png)





![image-20210326095318435](base.assets/image-20210326095318435.png)

```js
/**
 * @param {number} n
 * @return {number[]}
 */
var dicesProbability = function(n) {
    let dp = new Array(6).fill(1/6);

    for(let i=2;i<=n;i++){
        //å»ºç«‹ä¸€ä¸ªtmpè¡¨ç¤ºè¯¥è½®,å‡å°‘ç©ºé—´æ¶ˆè€—
        let tmp=new Array(5*i+1).fill(0); //nä¸ªéª°å­æœ‰6*n-n+1ç§ç‚¹æ•°å’Œ
        for(let j=0;j<dp.length;j++){
            for(let k=0;k<6;k++){
                //è®¡ç®—ä¸Šä¸€è½®çš„å€¼å¯¹æœ¬è½®çš„è´¡çŒ®
                //å°±æ˜¯ä¸Šä¸€è½®çš„dp[j]å¦‚æœå†è½¬åˆ°kçš„æ¦‚ç‡ä¸ºdp[j]*1/6
                tmp[j+k]+=dp[j]/6;
            }
        }
        dp=tmp;
    }
    return dp;

};
```

â˜…ä¸ºäº†èŠ‚çº¦ç©ºé—´, æŠŠdpäºŒç»´æ•°ç»„ç®€åŒ–æˆäº†ä¸Šä¸€æ¬¡çš„dpå’Œå½“å‰çš„tmpä¸¤ä¸ªä¸€ç»´æ•°ç»„



**â–¼å‰‘æŒ‡é‡åˆ·:**

è´¡çŒ®åˆ¶æ€æƒ³å¾ˆå·§å¦™!!!!



#### [â˜…61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­](https://leetcode-cn.com/problems/bu-ke-pai-zhong-de-shun-zi-lcof/)

éš¾åº¦ç®€å•

ä»æ‰‘å…‹ç‰Œä¸­éšæœºæŠ½5å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™5å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚2ï½10ä¸ºæ•°å­—æœ¬èº«ï¼ŒAä¸º1ï¼ŒJä¸º11ï¼ŒQä¸º12ï¼ŒKä¸º13ï¼Œè€Œå¤§ã€å°ç‹ä¸º 0 ï¼Œå¯ä»¥çœ‹æˆä»»æ„æ•°å­—ã€‚A ä¸èƒ½è§†ä¸º 14ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: True
```

 

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,0,1,2,5]
è¾“å‡º: True
```

 

**é™åˆ¶ï¼š**

æ•°ç»„é•¿åº¦ä¸º 5 

æ•°ç»„çš„æ•°å–å€¼ä¸º [0, 13] .





å…ˆæ’åº,  ç„¶åè®¡ç®—0çš„ä¸ªæ•°, å†æ¥ç€éå†è®¡ç®—

```js
/**
 * @param {number[]} nums
 * @return {boolean}
 */
var isStraight = function(nums) {
    let arr=nums.sort((a,b)=>a-b);
    let cnt=nums.filter(i=>i===0).length; //è®¡ç®—0çš„ä¸ªæ•°

    for(let i=0;i<4;i++){
        if(arr[i]===0||arr[i]===arr[i+1]-1) continue;
        if(arr[i]===arr[i+1]) return false;
        let dist=arr[i+1]-arr[i]-1;
        if(dist<=cnt) cnt-=dist
        else
            return false
    }
    return true

};
```



â˜…å¦å¤–çš„æ–¹æ³•, å¯ä»¥ç”¨åˆ°æœ€å¤§ç‰Œå’Œæœ€å°ç‰Œè·ç¦»æ˜¯å¦å°äº5æ¥å¿«é€Ÿåˆ¤æ–­ (æœ€å¤§æœ€å°åœ¨éå†é‡å¤çš„æ—¶å€™é€‰æ‹©å‡ºæ¥)

 <img src="base.assets/image-20210326105325679.png" alt="image-20210326105325679" style="zoom:67%;" />







#### [ğŸ˜­â˜…62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/)

éš¾åº¦ç®€å•

0,1,Â·Â·Â·,n-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ï¼ˆåˆ é™¤åä»ä¸‹ä¸€ä¸ªæ•°å­—å¼€å§‹è®¡æ•°ï¼‰ã€‚æ±‚å‡ºè¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚

ä¾‹å¦‚ï¼Œ0ã€1ã€2ã€3ã€4è¿™5ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹æ¯æ¬¡åˆ é™¤ç¬¬3ä¸ªæ•°å­—ï¼Œåˆ™åˆ é™¤çš„å‰4ä¸ªæ•°å­—ä¾æ¬¡æ˜¯2ã€0ã€4ã€1ï¼Œå› æ­¤æœ€åå‰©ä¸‹çš„æ•°å­—æ˜¯3ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: n = 5, m = 3
è¾“å‡º: 3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: n = 10, m = 17
è¾“å‡º: 2
```

 

**é™åˆ¶ï¼š**

- `1 <= n <= 10^5`
- `1 <= m <= 10^6`





way1:å¾ˆç®€å•å´è¶…æ—¶ä¸¥é‡çš„æš´åŠ›å†™æ³•...

 <img src="base.assets/image-20210326112644346.png" alt="image-20210326112644346" style="zoom:67%;" />

**æ—¶é—´å¤æ‚åº¦: O(n^2^)  çŒœçš„...**

```js
/**
 * @param {number} n
 * @param {number} m
 * @return {number}
 */
var lastRemaining = function(n, m) {
    if(n===1) return 1;
    //åˆå§‹åŒ–æ•°ç»„
    let arr=Array.from({length:n},(v,i)=>i);
    let count=n,cur=0;
    while(--count){
        let loc=(cur+m-1)%arr.length;
        arr.splice(loc,1);
        cur=loc;
    }
    return arr[0];
};
```



way2: æ•°å­¦æ–¹æ³•, å¾ˆå·§å¦™!!!



**ğŸš©å…ˆæ­£æ¨, ç„¶åå†è¿›è¡Œåæ¨!!!**

![image-20210326122441405](base.assets/image-20210326122441405.png)

ç¬¬ä¸€è½®æ˜¯ [0, 1, 2, 3, 4] ï¼Œæ‰€ä»¥æ˜¯ [0, 1, 2, 3, 4] è¿™ä¸ªæ•°ç»„çš„å¤šä¸ªå¤åˆ¶ã€‚è¿™ä¸€è½® 2 åˆ é™¤äº†ã€‚

ç¬¬äºŒè½®å¼€å§‹æ—¶ï¼Œä» 3 å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯ [3, 4, 0, 1] è¿™ä¸ªæ•°ç»„çš„å¤šä¸ªå¤åˆ¶ã€‚è¿™ä¸€è½® 0 åˆ é™¤äº†ã€‚

ç¬¬ä¸‰è½®å¼€å§‹æ—¶ï¼Œä» 1 å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯ [1, 3, 4] è¿™ä¸ªæ•°ç»„çš„å¤šä¸ªå¤åˆ¶ã€‚è¿™ä¸€è½® 4 åˆ é™¤äº†ã€‚

ç¬¬å››è½®å¼€å§‹æ—¶ï¼Œè¿˜æ˜¯ä» 1 å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯ [1, 3] è¿™ä¸ªæ•°ç»„çš„å¤šä¸ªå¤åˆ¶ã€‚è¿™ä¸€è½® 1 åˆ é™¤äº†ã€‚

æœ€åå‰©ä¸‹çš„æ•°å­—æ˜¯ 3ã€‚

å›¾ä¸­çš„ç»¿è‰²çš„çº¿æŒ‡çš„æ˜¯æ–°çš„ä¸€è½®çš„å¼€å¤´æ˜¯æ€ä¹ˆæŒ‡å®šçš„ï¼Œæ¯æ¬¡éƒ½æ˜¯å›ºå®šåœ°å‘å‰ç§»ä½ mm ä¸ªä½ç½®ã€‚

ç„¶åæˆ‘ä»¬ä»æœ€åå‰©ä¸‹çš„ 3 å€’ç€çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åå‘æ¨å‡ºè¿™ä¸ªæ•°å­—åœ¨ä¹‹å‰æ¯ä¸ªè½®æ¬¡çš„ä½ç½®ã€‚

æœ€åå‰©ä¸‹çš„ 3 çš„ä¸‹æ ‡æ˜¯ 0ã€‚

ç¬¬å››è½®åæ¨ï¼Œè¡¥ä¸Š mm ä¸ªä½ç½®ï¼Œç„¶åæ¨¡ä¸Šå½“æ—¶çš„æ•°ç»„å¤§å° 22ï¼Œä½ç½®æ˜¯(0 + 3) % 2 = 1ã€‚

ç¬¬ä¸‰è½®åæ¨ï¼Œè¡¥ä¸Š mm ä¸ªä½ç½®ï¼Œç„¶åæ¨¡ä¸Šå½“æ—¶çš„æ•°ç»„å¤§å° 33ï¼Œä½ç½®æ˜¯(1 + 3) % 3 = 1ã€‚

ç¬¬äºŒè½®åæ¨ï¼Œè¡¥ä¸Š mm ä¸ªä½ç½®ï¼Œç„¶åæ¨¡ä¸Šå½“æ—¶çš„æ•°ç»„å¤§å° 44ï¼Œä½ç½®æ˜¯(1 + 3) % 4 = 0ã€‚

ç¬¬ä¸€è½®åæ¨ï¼Œè¡¥ä¸Š mm ä¸ªä½ç½®ï¼Œç„¶åæ¨¡ä¸Šå½“æ—¶çš„æ•°ç»„å¤§å° 55ï¼Œä½ç½®æ˜¯(0 + 3) % 5 = 3ã€‚

æ‰€ä»¥æœ€ç»ˆå‰©ä¸‹çš„æ•°å­—çš„ä¸‹æ ‡å°±æ˜¯3ã€‚å› ä¸ºæ•°ç»„æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ç­”æ¡ˆå°±æ˜¯3ã€‚

æ€»ç»“ä¸€ä¸‹åæ¨çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ (å½“å‰index + m) % ä¸Šä¸€è½®å‰©ä½™æ•°å­—çš„ä¸ªæ•°ã€‚



**æ—¶é—´å¤æ‚åº¦: O(n):**

 <img src="base.assets/image-20210326122535659.png" alt="image-20210326122535659" style="zoom:67%;" />

```js
/**
 * @param {number} n
 * @param {number} m
 * @return {number}
 */
var lastRemaining = function(n, m) {
    let loc=0;
    for(let len=2;len<=n;len++){
        loc=(loc+m)%len;
    }
    return loc;
};
```





#### [â˜…â˜…63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

éš¾åº¦ä¸­ç­‰

å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [7,1,5,3,6,4]
è¾“å‡º: 5
è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚
     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [7,6,4,3,1]
è¾“å‡º: 0
è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```

 

**é™åˆ¶ï¼š**

```
0 <= æ•°ç»„é•¿åº¦ <= 10^5
```





è¿™é“é¢˜çš„æ€è·¯å’Œ  [42.è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](#sw42)  ååˆ†ç›¸ä¼¼!!!  éƒ½æ˜¯åˆ¤æ–­å½“å‰çš„å€¼, ä¸æ»¡è¶³æ¡ä»¶åˆ™ç›´æ¥æ›¿æ¢, å¹¶ä¸”ä¼šé‡‡ç”¨maxæ¥è¾…åŠ©è®°å½•æœ€ç¬¦åˆæ¡ä»¶çš„



**æ—¶é—´å¤æ‚åº¦: O(n):**

**ç©ºé—´å¤æ‚åº¦: O(1)**

```js
/**
 * @param {number[]} prices
 * @return {number}
 */
var maxProfit = function(prices) {
    if(!prices.length) return 0;  //å»æ‰ä¹Ÿå¯

    let pre=prices[0],profit=0,max=0;
    for(let i=1;i<prices.length;i++){
        if(pre>=prices[i]) pre=prices[i];
        else{
            max=Math.max(max,prices[i]-pre);
        }
    }
    return max;
};
```

ä¹Ÿå¯ä»¥ç†è§£ä¸€ä¸‹dpçš„æ€æƒ³

![image-20210327094543309](base.assets/image-20210327094543309.png)



#### â–¼å‘æ•£æ€ç»´èƒ½åŠ›



#### [â˜…â˜…64. æ±‚1+2+â€¦+n](https://leetcode-cn.com/problems/qiu-12n-lcof/)

éš¾åº¦ä¸­ç­‰

æ±‚ `1+2+...+n` ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: n = 3
è¾“å‡º: 6
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: n = 9
è¾“å‡º: 45
```

 

**é™åˆ¶ï¼š**

- `1 <= n <= 10000`





**ğŸŒŸä½¿ç”¨çŸ­è·¯è¿ç®—ç¬¦é…åˆé€’å½’!!!**



å¸¸è§çš„é€»è¾‘è¿ç®—ç¬¦æœ‰ä¸‰ç§ï¼Œå³ â€œä¸ \&\&&& â€ï¼Œâ€œæˆ– ||âˆ£âˆ£ â€ï¼Œâ€œé !! â€ ï¼›è€Œå…¶æœ‰é‡è¦çš„çŸ­è·¯æ•ˆåº”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

1. 
   if(A && B)  // è‹¥ A ä¸º false ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A && B ä¸º false

2. if(A || B) // è‹¥ A ä¸º true ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A || B ä¸º true

æœ¬é¢˜éœ€è¦å®ç° â€œå½“ n = 1n=1 æ—¶ç»ˆæ­¢é€’å½’â€ çš„éœ€æ±‚ï¼Œå¯é€šè¿‡çŸ­è·¯æ•ˆåº”å®ç°ã€‚

- **n > 1 && sumNums(n - 1) // å½“ n = 1 æ—¶ n > 1 ä¸æˆç«‹ ï¼Œæ­¤æ—¶ â€œçŸ­è·¯â€ ï¼Œç»ˆæ­¢åç»­é€’å½’**

![image-20210327103849319](base.assets/image-20210327103849319.png)

```js
/**
 * @param {number} n
 * @return {number}
 */
let res=0;
var sumNums = function(n) {
    let x= n>=1 && sumNums(n-1);
    res+=n;
    return res;
};
```



**â–¼æ›´å¤šæ–¹æ³•:**

1. è¿ç”¨å¯¹æ•°ï¼Œå°†ä¹˜æ³•å˜ä¸ºåŠ æ³•ï¼Œé™¤æ³•å˜æˆå‡æ³•ï¼Œé€šè¿‡å…¬å¼ $ \cfrac {n(n+1)} 2 $ è®¡ç®— $x^2$

- $ log_ab = log_ax + log_ay$
- $ log_a\frac xy = log_ax - log_ay$     

ğŸŒŸå¯¹æ•°å’Œå¹‚è¿ç®—æœ‰æµ®ç‚¹è¯¯å·®ï¼Œæœ€ç»ˆé€šè¿‡å–æ•´æ¶ˆé™¤è¯¯å·®ã€‚

```js
/**
 * @param {number} n
 * @return {number}
 */
var sumNums = function (n) {
    return Math.round(Math.exp(Math.log(n) + Math.log(n + 1) - Math.log(2)));
};

```





2.ä½¿ç”¨å³ç§» >>

```js
/**
 * @param {number} n
 * @return {number}
 */
var sumNums = function(n) {
    return (n**2+n)>>1;
};
```





#### [ğŸ˜­â˜…65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/)

éš¾åº¦ç®€å•

å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚

 

**ç¤ºä¾‹:**

```
è¾“å…¥: a = 1, b = 1
è¾“å‡º: 2
```

 

**æç¤ºï¼š**

- `a`, `b` å‡å¯èƒ½æ˜¯è´Ÿæ•°æˆ– 0
- ç»“æœä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°



ä½è¿ç®—

â‘ é¦–å…ˆè®¡ç®—æ— è¿›ä½å’Œ, è¿™ä¸ªå¯ä»¥ç”¨å¼‚æˆ–æ¥å®ç°

â‘¡è®¡ç®—è¿›ä½çš„åœ°æ–¹, ä½¿ç”¨ä½ä¸å®ç°, è¿˜è¦å·¦ç§»1ä½

â‘¢ä¸¤ä¸ªä¸€èµ·ç›¸åŠ , ä½†ä¸èƒ½åŠ , æ‰€ä»¥è¿›å…¥å¾ªç¯

![image-20210327120328637](base.assets/image-20210327120328637.png)

```js
/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var add = function(a, b) {
    let sum,carry;
    while(b){
        sum=a^b;    //å¼‚æˆ–æ“ä½œåªåŠ ä¸è¿›ä½
        carry=(a&b)<<1;  //ä½ä¸è®¡ç®—éœ€è¦è¿›ä½çš„ä½ç½®,å¹¶å·¦ç§»ä¸€ä½
        a=sum; b=carry; //ç”±äºä¸èƒ½ç›¸åŠ ,æ‰€ä»¥å†æ¬¡å¾ªç¯
    }
    return a;
};
```

Q ï¼š è‹¥æ•°å­— aa å’Œ bb ä¸­æœ‰è´Ÿæ•°ï¼Œåˆ™å˜æˆäº†å‡æ³•ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ
A ï¼š åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨ è¡¥ç  æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚è¡¥ç çš„ä¼˜åŠ¿ï¼š åŠ æ³•ã€å‡æ³•å¯ä»¥ç»Ÿä¸€å¤„ç†ï¼ˆCPUåªæœ‰åŠ æ³•å™¨ï¼‰ã€‚å› æ­¤ï¼Œä»¥ä¸Šæ–¹æ³• åŒæ—¶é€‚ç”¨äºæ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³• ã€‚



^ äº¦æˆ– ----ç›¸å½“äº æ— è¿›ä½çš„æ±‚å’Œï¼Œ æƒ³è±¡10è¿›åˆ¶ä¸‹çš„æ¨¡æ‹Ÿæƒ…å†µï¼šï¼ˆå¦‚:19+1=20ï¼›æ— è¿›ä½æ±‚å’Œå°±æ˜¯10ï¼Œè€Œé20ï¼›å› ä¸ºå®ƒä¸ç®¡è¿›ä½æƒ…å†µï¼‰

& ä¸ ----ç›¸å½“äºæ±‚æ¯ä½çš„è¿›ä½æ•°ï¼Œ å…ˆçœ‹å®šä¹‰ï¼š1&1=1ï¼›1&0=0ï¼›0&0=0ï¼›å³éƒ½ä¸º1çš„æ—¶å€™æ‰ä¸º1ï¼Œæ­£å¥½å¯ä»¥æ¨¡æ‹Ÿè¿›ä½æ•°çš„æƒ…å†µ,è¿˜æ˜¯æƒ³è±¡10è¿›åˆ¶ä¸‹æ¨¡æ‹Ÿæƒ…å†µï¼šï¼ˆ9+1=10ï¼Œå¦‚æœæ˜¯ç”¨&çš„æ€è·¯æ¥å¤„ç†ï¼Œåˆ™9+1å¾—åˆ°çš„è¿›ä½æ•°ä¸º1ï¼Œè€Œä¸æ˜¯10ï¼Œæ‰€ä»¥è¦ç”¨<<1å‘å·¦å†ç§»åŠ¨ä¸€ä½ï¼Œè¿™æ ·å°±å˜ä¸º10äº†ï¼‰ï¼›

è¿™æ ·å…¬å¼å°±æ˜¯ï¼šï¼ˆa^b) ^ ((a&b)<<1) å³ï¼šæ¯æ¬¡æ— è¿›ä½æ±‚ + æ¯æ¬¡å¾—åˆ°çš„è¿›ä½æ•°--------æˆ‘ä»¬éœ€è¦ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°è¿›ä½æ•°ä¸º0ä¸ºæ­¢ï¼›





#### [â˜…â˜…66. æ„å»ºä¹˜ç§¯æ•°ç»„](https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/)

éš¾åº¦ä¸­ç­‰

ç»™å®šä¸€ä¸ªæ•°ç»„ `A[0,1,â€¦,n-1]`ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„ `B[0,1,â€¦,n-1]`ï¼Œå…¶ä¸­ `B[i]` çš„å€¼æ˜¯æ•°ç»„ `A` ä¸­é™¤äº†ä¸‹æ ‡ `i` ä»¥å¤–çš„å…ƒç´ çš„ç§¯, å³ `B[i]=A[0]Ã—A[1]Ã—â€¦Ã—A[i-1]Ã—A[i+1]Ã—â€¦Ã—A[n-1]`ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚

 

**ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: [120,60,40,30,24]
```

 

**æç¤ºï¼š**

- æ‰€æœ‰å…ƒç´ ä¹˜ç§¯ä¹‹å’Œä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°
- `a.length <= 100000`





**æœ¬è´¨å°±æ˜¯ä¸¤ä¸ªdpæ•°ç»„ï¼Œåˆ†åˆ«ç»´æŠ¤ i å·¦ä¾§ã€å³ä¾§çš„ä¹˜ç§¯å’Œã€‚**

ä¸‹é¢çš„å†™æ³•ä»£ç æ¯”è¾ƒå¤š, ä½†å®¹æ˜“ç†è§£

```js
/**
 * @param {number[]} a
 * @return {number[]}
 */
var constructArr = function(a) {
    
    if(!a.length) return [];
    let len=a.length;
    let left=new Array(len),right=new Array(len);
    //i=0æ—¶,leftæ²¡æœ‰è´¡çŒ®,åªæœ‰right,æ‰€ä»¥left[0]ç­‰äº1,æ–¹ä¾¿åé¢ç›¸ä¹˜è®¡ç®—
    left[0]=1; right[len-1]=1;  //è¾…åŠ©è®¡ç®—ä½

    for(let i=1;i<len;i++){
        left[i]=left[i-1]*a[i-1];
    }
    for(let i=len-2;i>=0;i--){
        right[i]=right[i+1]*a[i+1];
    }
    let res=new Array(len);
    for(let i=0;i<len;i++){
        res[i]=left[i]*right[i];
    }
    return res;
};
```



ğŸŒŸç®€æ´ç‰ˆæœ¬:  æ›´å¿«, ä¸”ç©ºé—´å¤æ‚åº¦é™ä½

![image-20210327135536741](base.assets/image-20210327135536741.png)

```js
/**
 * @param {number[]} a
 * @return {number[]}
 */
var constructArr = function(a) {
    
    if(!a.length) return [];
    let len=a.length;
    let res=new Array(len);
    res[0]=1;
    let tmp=1;

    //iè¡¨ç¤ºä»¥iä½ç½®åˆ’åˆ†
    for(let i=1;i<len;i++){
        res[i]=res[i-1]*a[i-1];
    }
    for(let i=len-2;i>=0;i--){
        tmp*=a[i+1];
        res[i]*=tmp;
    }

    return res;
};
```

 <img src="base.assets/image-20210327135503339.png" alt="image-20210327135503339" style="zoom:67%;" />







(è‡ªå·±å†™çš„å¤ªéš¾çœ‹äº†, åªç•™ä½œçºªå¿µ, åˆ«çœ‹!!!)

æœ€åä¸€é¢˜è‰°è‹¦å¥‹æˆ˜å†™å‡ºæ¥äº†  dp 

![image-20210327132532567](base.assets/image-20210327132532567.png)

```js
/**
 * @param {number[]} a
 * @return {number[]}
 */
var constructArr = function(a) {
    if(!a.length) return [];
    //æ±‚å‡ºä¸¤ç§æ•°ç»„ dp[i][i] å’Œ dp[i-1][len-1]
    let len=a.length;
    let m=[a[0]], n=[a[len-1]]
    for(let i=1;i<len;i++){
        m.push(m[i-1]*a[i]);
    }
    for(let i=1;i<len;i++){
        n.unshift(n[0]*a[len-1-i]);
    }
    let b=new Array(len);
    b[0]=n[1]; b[len-1]=m[len-2];
    
    for(let i=0;i<len-2;i++){
        b[i+1]=m[i]*n[i+2];
    }
    return b;
};
```

è¿™ç§å†™æ³•è«åçš„å¾ˆæ…¢,  ä½†æ˜¯**æ—¶é—´å¤æ‚åº¦: O(n)**  æ‰€ä»¥æ¢äº†ä¸€ç§æ–¹å¼, push å’Œ unshiftè€—æ—¶å¤ªä¸¥é‡



```js
/**
 * @param {number[]} a
 * @return {number[]}
 */
var constructArr = function(a) {
    if(!a.length) return [];
    //æ±‚å‡ºä¸¤ç§æ•°ç»„ dp[i][i] å’Œ dp[i-1][len-1]
    let len=a.length;
    let m=new Array(len),n=new Array(len);
    m[0]=a[0]; n[len-1]=a[len-1];
    for(let i=1;i<len;i++){
        m[i]=m[i-1]*a[i];
    }
    for(let i=1;i<len;i++){
        n[len-1-i]=n[len-i]*a[len-1-i];
    }
    let b=new Array(len);
    b[0]=n[1]; b[len-1]=m[len-2];

    for(let i=0;i<len-2;i++){
        b[i+1]=m[i]*n[i+2];
    }
    return b;
};	
```















